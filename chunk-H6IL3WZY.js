import{a as z,b as G,c as H,d as R,j as q}from"./chunk-6UD4ND2X.js";import{a as J}from"./chunk-ZSN2DVST.js";import{$b as I,Bb as L,Cb as T,Fa as D,Gb as V,Ja as _,Pa as m,Qa as e,Ra as t,S,Sa as u,Va as w,Wa as x,X as p,Xa as d,Y as g,Z as E,_ as k,a as M,cb as l,db as C,eb as b,fc as W,gc as N,hb as f,hc as P,ib as y,ic as B,jb as h,kc as U,mc as F,oc as j,qa as v,sa as r,sc as O,tc as A}from"./chunk-7HZYIYZF.js";function Q(c,a){c&1&&(e(0,"span",39),l(1,"Activo"),t())}function X(c,a){c&1&&(e(0,"span",40),l(1,"Inactivo"),t())}function Y(c,a){if(c&1){let i=w();e(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h3",20),l(5),t(),_(6,Q,2,0,"span",21)(7,X,2,0,"span",22),t(),e(8,"p",23),u(9,"lucide-icon",24),l(10),t(),e(11,"div",25),u(12,"lucide-icon",26),e(13,"span",27),l(14),t(),e(15,"span",28),l(16),t()()(),u(17,"img",29),t(),e(18,"div")(19,"div",30)(20,"div",31)(21,"a",32),u(22,"lucide-icon",11),l(23," Llamar "),t()(),e(24,"div",33)(25,"a",34),u(26,"lucide-icon",11),l(27," Email "),t()()(),e(28,"div",35)(29,"button",36),x("click",function(){let n=p(i).$implicit,s=d();return g(s.openModal(n))}),l(30,"Editar"),t(),u(31,"div",37),e(32,"button",38),x("click",function(){let n=p(i).$implicit,s=d();return g(s.delete(n.id))}),l(33,"Eliminar"),t()()()()}if(c&2){let i=a.$implicit,o=d();r(5),C(i.fullName),r(),m("ngIf",i.active),r(),m("ngIf",!i.active),r(2),m("img",o.icons.FileBadge),r(),b(" CMP: ",i.cmp),r(2),m("img",o.icons.Star),r(2),C(i.rating),r(2),b("(",i.reviewsCount," reviews)"),r(),m("src",i.photoUrl,v),r(4),m("href","tel:"+i.phone,v),r(),m("img",o.icons.Phone),r(3),m("href","mailto:"+i.email,v),r(),m("img",o.icons.Mail)}}function Z(c,a){if(c&1){let i=w();e(0,"div",41)(1,"div",42)(2,"div",43),x("click",function(){p(i);let n=d();return g(n.closeModal())}),t(),e(3,"div",44)(4,"div",45)(5,"button",46),x("click",function(){p(i);let n=d();return g(n.closeModal())}),e(6,"span",47),l(7,"Cerrar"),t(),E(),e(8,"svg",48),u(9,"path",49),t()()(),k(),e(10,"div",50)(11,"h3",51),l(12),t(),e(13,"div",52)(14,"div",53)(15,"label",54),l(16,"Nombre Completo"),t(),e(17,"div",55)(18,"input",56),h("ngModelChange",function(n){p(i);let s=d();return y(s.form.fullName,n)||(s.form.fullName=n),g(n)}),t()()(),e(19,"div",57)(20,"label",54),l(21,"CMP / Colegiatura"),t(),e(22,"div",55)(23,"input",56),h("ngModelChange",function(n){p(i);let s=d();return y(s.form.cmp,n)||(s.form.cmp=n),g(n)}),t()()(),e(24,"div",57)(25,"label",54),l(26,"Tel\xE9fono"),t(),e(27,"div",55)(28,"input",56),h("ngModelChange",function(n){p(i);let s=d();return y(s.form.phone,n)||(s.form.phone=n),g(n)}),t()()(),e(29,"div",53)(30,"label",54),l(31,"Email"),t(),e(32,"div",55)(33,"input",58),h("ngModelChange",function(n){p(i);let s=d();return y(s.form.email,n)||(s.form.email=n),g(n)}),t()()(),e(34,"div",59)(35,"input",60),h("ngModelChange",function(n){p(i);let s=d();return y(s.form.active,n)||(s.form.active=n),g(n)}),t(),e(36,"label",61),l(37,"Activo (Disponible para turnos)"),t()()()(),e(38,"div",62)(39,"button",63),x("click",function(){p(i);let n=d();return g(n.save())}),l(40,"Guardar"),t(),e(41,"button",64),x("click",function(){p(i);let n=d();return g(n.closeModal())}),l(42,"Cancelar"),t()()()()()}if(c&2){let i=d();r(12),b("",i.editingId?"Editar":"Nuevo"," M\xE9dico"),r(6),f("ngModel",i.form.fullName),r(5),f("ngModel",i.form.cmp),r(5),f("ngModel",i.form.phone),r(5),f("ngModel",i.form.email),r(2),f("ngModel",i.form.active)}}var K=class c{service=S(J);icons={Plus:B,Pencil:N,Trash2:j,Search:U,Star:F,Phone:P,Mail:W,FileBadge:I};doctors=this.service.doctors;searchTerm="";isModalOpen=!1;editingId=null;form={fullName:"",cmp:"",email:"",phone:"",active:!0,photoUrl:""};get filteredDoctors(){return this.doctors().filter(a=>a.fullName.toLowerCase().includes(this.searchTerm.toLowerCase())||a.cmp.includes(this.searchTerm))}openModal(a){a?(this.editingId=a.id,this.form=M({},a)):(this.editingId=null,this.form={fullName:"",cmp:"",email:"",phone:"",active:!0,photoUrl:"https://ui-avatars.com/api/?background=random"}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}save(){(!this.form.photoUrl||this.form.photoUrl.includes("ui-avatars"))&&(this.form.photoUrl=`https://ui-avatars.com/api/?name=${encodeURIComponent(this.form.fullName)}&background=random`),this.editingId?this.service.updateDoctor(this.editingId,this.form):this.service.addDoctor(this.form),this.closeModal()}delete(a){confirm("\xBFEst\xE1s seguro de eliminar este m\xE9dico?")&&this.service.deleteDoctor(a)}static \u0275fac=function(i){return new(i||c)};static \u0275cmp=D({type:c,selectors:[["app-doctors-list"]],decls:19,vars:5,consts:[[1,"px-4","sm:px-6","lg:px-8"],[1,"sm:flex","sm:items-center"],[1,"sm:flex-auto"],[1,"text-xl","font-semibold","text-gray-900"],[1,"mt-2","text-sm","text-gray-700"],[1,"mt-4","sm:ml-16","sm:mt-0","sm:flex-none"],[1,"block","rounded-md","bg-blue-600","px-3","py-2","text-center","text-sm","font-semibold","text-white","shadow-sm","hover:bg-blue-500","flex","items-center","gap-2",3,"click"],[1,"w-4","h-4",3,"img"],[1,"mt-8","flow-root"],[1,"mb-6","relative","max-w-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"h-5","w-5","text-gray-400",3,"img"],["type","text","placeholder","Buscar por nombre o CMP...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2","lg:grid-cols-3"],["class","col-span-1 divide-y divide-gray-200 rounded-lg bg-white shadow border border-gray-100 transition-all hover:shadow-md",4,"ngFor","ngForOf"],["class","fixed inset-0 z-20 w-screen overflow-y-auto",4,"ngIf"],[1,"col-span-1","divide-y","divide-gray-200","rounded-lg","bg-white","shadow","border","border-gray-100","transition-all","hover:shadow-md"],[1,"flex","w-full","items-center","justify-between","space-x-6","p-6"],[1,"flex-1","truncate"],[1,"flex","items-center","space-x-3"],[1,"truncate","text-sm","font-medium","text-gray-900"],["class","inline-flex flex-shrink-0 items-center rounded-full bg-green-50 px-1.5 py-0.5 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",4,"ngIf"],["class","inline-flex flex-shrink-0 items-center rounded-full bg-gray-50 px-1.5 py-0.5 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10",4,"ngIf"],[1,"mt-1","truncate","text-sm","text-gray-500","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img"],[1,"mt-2","flex","items-center","text-sm","text-yellow-500"],[1,"w-4","h-4","fill-current",3,"img"],[1,"ml-1","text-gray-900","font-semibold"],[1,"ml-1","text-gray-400"],["alt","",1,"h-14","w-14","flex-shrink-0","rounded-full","bg-gray-300",3,"src"],[1,"-mt-px","flex","divide-x","divide-gray-200"],[1,"flex","w-0","flex-1"],[1,"relative","-mr-px","inline-flex","w-0","flex-1","items-center","justify-center","gap-x-3","rounded-bl-lg","border","border-transparent","py-4","text-sm","font-semibold","text-gray-900","hover:text-gray-600",3,"href"],[1,"-ml-px","flex","w-0","flex-1"],[1,"relative","inline-flex","w-0","flex-1","items-center","justify-center","gap-x-3","rounded-br-lg","border","border-transparent","py-4","text-sm","font-semibold","text-gray-900","hover:text-gray-600",3,"href"],[1,"border-t","border-gray-100","flex"],[1,"flex-1","py-3","text-sm","text-blue-600","font-medium","hover:bg-blue-50","transition-colors",3,"click"],[1,"w-px","bg-gray-100"],[1,"flex-1","py-3","text-sm","text-red-600","font-medium","hover:bg-red-50","transition-colors",3,"click"],[1,"inline-flex","flex-shrink-0","items-center","rounded-full","bg-green-50","px-1.5","py-0.5","text-xs","font-medium","text-green-700","ring-1","ring-inset","ring-green-600/20"],[1,"inline-flex","flex-shrink-0","items-center","rounded-full","bg-gray-50","px-1.5","py-0.5","text-xs","font-medium","text-gray-600","ring-1","ring-inset","ring-gray-500/10"],[1,"fixed","inset-0","z-20","w-screen","overflow-y-auto"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],[1,"relative","transform","overflow-hidden","rounded-lg","bg-white","px-4","pb-4","pt-5","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-lg","sm:p-6"],[1,"absolute","right-0","top-0","hidden","pr-4","pt-4","sm:block"],["type","button",1,"rounded-md","bg-white","text-gray-400","hover:text-gray-500",3,"click"],[1,"sr-only"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-3","w-full"],[1,"text-base","font-semibold","leading-6","text-gray-900","text-center","sm:text-left"],[1,"mt-6","grid","grid-cols-1","gap-x-6","gap-y-4","sm:grid-cols-6"],[1,"sm:col-span-6"],[1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["type","text",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-blue-600","sm:text-sm","sm:leading-6",3,"ngModelChange","ngModel"],[1,"sm:col-span-3"],["type","email",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-blue-600","sm:text-sm","sm:leading-6",3,"ngModelChange","ngModel"],[1,"sm:col-span-6","flex","items-center"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-blue-600","focus:ring-blue-600",3,"ngModelChange","ngModel"],[1,"ml-2","block","text-sm","text-gray-900"],[1,"mt-5","sm:mt-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-blue-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-blue-500","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","sm:mt-0","sm:w-auto",3,"click"]],template:function(i,o){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"M\xE9dicos"),t(),e(5,"p",4),l(6,"Gesti\xF3n del personal m\xE9dico, colegiatura y estado."),t()(),e(7,"div",5)(8,"button",6),x("click",function(){return o.openModal()}),u(9,"lucide-icon",7),l(10," Nuevo M\xE9dico "),t()()(),e(11,"div",8)(12,"div",9)(13,"div",10),u(14,"lucide-icon",11),t(),e(15,"input",12),h("ngModelChange",function(s){return y(o.searchTerm,s)||(o.searchTerm=s),s}),t()(),e(16,"div",13),_(17,Y,34,13,"div",14),t()()(),_(18,Z,43,6,"div",15)),i&2&&(r(9),m("img",o.icons.Plus),r(5),m("img",o.icons.Search),r(),f("ngModel",o.searchTerm),r(2),m("ngForOf",o.filteredDoctors),r(),m("ngIf",o.isModalOpen))},dependencies:[V,L,T,A,O,q,G,z,H,R],encapsulation:2})};export{K as DoctorsListComponent};
