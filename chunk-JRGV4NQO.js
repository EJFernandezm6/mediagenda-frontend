import{b as F,c as D,d as A,e as O,f as B,g as j,h as G,j as H}from"./chunk-RWTD4LR5.js";import{a as z}from"./chunk-LZBZD3P5.js";import{d as L}from"./chunk-7VMJPFX4.js";import{Ab as S,Bb as E,Fb as P,Ga as M,Ka as b,Qa as f,Ra as e,S as v,Sa as t,Ta as w,Wa as C,X as m,Xa as y,Y as d,Ya as s,Yb as V,db as o,eb as _,ec as k,fb as h,gc as N,ib as g,jb as u,kb as x,lc as T,oc as W,pc as I,ta as l}from"./chunk-GRSUPIB2.js";function U(p,c){if(p&1){let n=C();e(0,"tr",23)(1,"td",24)(2,"div",25)(3,"div",26)(4,"span",27)(5,"span",28),o(6),t()()(),e(7,"div",29)(8,"div",30),o(9),t(),e(10,"div",31),o(11),t()()()(),e(12,"td",32)(13,"div",33),o(14),t(),e(15,"div",31),o(16),t()(),e(17,"td",32),o(18),e(19,"span",34),o(20,"|"),t(),o(21),t(),e(22,"td",32),o(23),t(),e(24,"td",35)(25,"button",36),y("click",function(){let i=m(n).$implicit,r=s();return d(r.viewHistory(i.id))}),o(26," Historias "),w(27,"lucide-icon",7),t()()()}if(p&2){let n=c.$implicit,a=s();l(6),_(n.fullName.charAt(0)),l(3),_(n.fullName),l(2),_(n.email),l(3),_(n.dni),l(2),_(n.phone),l(2),h(" ",n.age," a\xF1os "),l(3),h(" ",n.gender," "),l(2),h(" ",n.lastVisit||"N/A"," "),l(4),f("img",a.icons.FileText)}}function q(p,c){if(p&1){let n=C();e(0,"div",37)(1,"div",38)(2,"div",39),y("click",function(){m(n);let i=s();return d(i.closeModal())}),t(),e(3,"div",40)(4,"h3",41),o(5,"Registrar Paciente"),t(),e(6,"div",42)(7,"div",43)(8,"label",44),o(9,"Nombre Completo"),t(),e(10,"input",45),x("ngModelChange",function(i){m(n);let r=s();return u(r.form.fullName,i)||(r.form.fullName=i),d(i)}),t()(),e(11,"div")(12,"label",44),o(13,"DNI"),t(),e(14,"input",45),x("ngModelChange",function(i){m(n);let r=s();return u(r.form.dni,i)||(r.form.dni=i),d(i)}),t()(),e(15,"div")(16,"label",44),o(17,"Tel\xE9fono"),t(),e(18,"input",45),x("ngModelChange",function(i){m(n);let r=s();return u(r.form.phone,i)||(r.form.phone=i),d(i)}),t()(),e(19,"div")(20,"label",44),o(21,"Edad"),t(),e(22,"input",46),x("ngModelChange",function(i){m(n);let r=s();return u(r.form.age,i)||(r.form.age=i),d(i)}),t()(),e(23,"div")(24,"label",44),o(25,"G\xE9nero"),t(),e(26,"select",47),x("ngModelChange",function(i){m(n);let r=s();return u(r.form.gender,i)||(r.form.gender=i),d(i)}),e(27,"option",48),o(28,"Masculino"),t(),e(29,"option",49),o(30,"Femenino"),t()()(),e(31,"div",43)(32,"label",44),o(33,"Email"),t(),e(34,"input",50),x("ngModelChange",function(i){m(n);let r=s();return u(r.form.email,i)||(r.form.email=i),d(i)}),t()()(),e(35,"div",51)(36,"button",52),y("click",function(){m(n);let i=s();return d(i.save())}),o(37,"Guardar"),t(),e(38,"button",53),y("click",function(){m(n);let i=s();return d(i.closeModal())}),o(39,"Cancelar"),t()()()()()}if(p&2){let n=s();l(10),g("ngModel",n.form.fullName),l(4),g("ngModel",n.form.dni),l(4),g("ngModel",n.form.phone),l(4),g("ngModel",n.form.age),l(4),g("ngModel",n.form.gender),l(8),g("ngModel",n.form.email)}}var R=class p{service=v(z);router=v(L);icons={Plus:k,Search:N,FileText:V,User:T};patients=this.service.patients;searchTerm="";isModalOpen=!1;form={fullName:"",dni:"",email:"",phone:"",age:18,gender:"M"};get filteredPatients(){return this.patients().filter(c=>c.fullName.toLowerCase().includes(this.searchTerm.toLowerCase())||c.dni.includes(this.searchTerm))}viewHistory(c){this.router.navigate(["/app/patients",c])}openModal(){this.form={fullName:"",dni:"",email:"",phone:"",age:18,gender:"M"},this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}save(){this.service.addPatient(this.form),this.closeModal()}static \u0275fac=function(n){return new(n||p)};static \u0275cmp=M({type:p,selectors:[["app-patients-list"]],decls:34,vars:5,consts:[[1,"px-4","sm:px-6","lg:px-8"],[1,"sm:flex","sm:items-center"],[1,"sm:flex-auto"],[1,"text-xl","font-semibold","text-gray-900"],[1,"mt-2","text-sm","text-gray-700"],[1,"mt-4","sm:ml-16","sm:mt-0","sm:flex-none"],[1,"block","rounded-md","bg-blue-600","px-3","py-2","text-center","text-sm","font-semibold","text-white","shadow-sm","hover:bg-blue-500","flex","items-center","gap-2",3,"click"],[1,"w-4","h-4",3,"img"],[1,"mt-8","flow-root"],[1,"mb-4","relative","max-w-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"h-5","w-5","text-gray-400",3,"img"],["type","text","placeholder","Buscar por DNI o Nombre...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"overflow-hidden","shadow","ring-1","ring-black","ring-opacity-5","sm:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-300"],[1,"bg-gray-50"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-6"],["scope","col",1,"px-3","py-3.5","text-left","text-sm","font-semibold","text-gray-900"],["scope","col",1,"relative","py-3.5","pl-3","pr-4","sm:pr-6"],[1,"sr-only"],[1,"divide-y","divide-gray-200","bg-white"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["class","fixed inset-0 z-20 w-screen overflow-y-auto",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"whitespace-nowrap","py-4","pl-4","pr-3","text-sm","sm:pl-6"],[1,"flex","items-center"],[1,"h-10","w-10","flex-shrink-0"],[1,"inline-flex","h-10","w-10","items-center","justify-center","rounded-full","bg-blue-100"],[1,"font-medium","leading-none","text-blue-700"],[1,"ml-4"],[1,"font-medium","text-gray-900"],[1,"text-gray-500"],[1,"whitespace-nowrap","px-3","py-4","text-sm","text-gray-500"],[1,"text-gray-900"],[1,"text-gray-300"],[1,"relative","whitespace-nowrap","py-4","pl-3","pr-4","text-right","text-sm","font-medium","sm:pr-6"],[1,"text-blue-600","hover:text-blue-900","flex","items-center","justify-end","gap-1","ml-auto",3,"click"],[1,"fixed","inset-0","z-20","w-screen","overflow-y-auto"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],[1,"relative","transform","overflow-hidden","rounded-lg","bg-white","px-4","pb-4","pt-5","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-lg","sm:p-6"],[1,"text-base","font-semibold","leading-6","text-gray-900"],[1,"mt-4","grid","grid-cols-1","gap-4","sm:grid-cols-2"],[1,"sm:col-span-2"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text",1,"mt-1","block","w-full","rounded-md","border-gray-300","py-1.5","border","px-2",3,"ngModelChange","ngModel"],["type","number",1,"mt-1","block","w-full","rounded-md","border-gray-300","py-1.5","border","px-2",3,"ngModelChange","ngModel"],[1,"mt-1","block","w-full","rounded-md","border-gray-300","py-1.5","border","px-2",3,"ngModelChange","ngModel"],["value","M"],["value","F"],["type","email",1,"mt-1","block","w-full","rounded-md","border-gray-300","py-1.5","border","px-2",3,"ngModelChange","ngModel"],[1,"mt-5","sm:mt-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-blue-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-blue-500","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","sm:mt-0","sm:w-auto",3,"click"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Pacientes"),t(),e(5,"p",4),o(6,"Directorio de pacientes y accesos a historias cl\xEDnicas."),t()(),e(7,"div",5)(8,"button",6),y("click",function(){return a.openModal()}),w(9,"lucide-icon",7),o(10," Nuevo Paciente "),t()()(),e(11,"div",8)(12,"div",9)(13,"div",10),w(14,"lucide-icon",11),t(),e(15,"input",12),x("ngModelChange",function(r){return u(a.searchTerm,r)||(a.searchTerm=r),r}),t()(),e(16,"div",13)(17,"table",14)(18,"thead",15)(19,"tr")(20,"th",16),o(21," Paciente"),t(),e(22,"th",17),o(23,"DNI / Contacto "),t(),e(24,"th",17),o(25,"Edad / G\xE9nero "),t(),e(26,"th",17),o(27,"\xDAltima Visita "),t(),e(28,"th",18)(29,"span",19),o(30,"Acciones"),t()()()(),e(31,"tbody",20),b(32,U,28,9,"tr",21),t()()()()(),b(33,q,40,6,"div",22)),n&2&&(l(9),f("img",a.icons.Plus),l(5),f("img",a.icons.Search),l(),g("ngModel",a.searchTerm),l(17),f("ngForOf",a.filteredPatients),l(),f("ngIf",a.isModalOpen))},dependencies:[P,S,E,H,j,G,F,O,B,D,A,I,W],encapsulation:2})};export{R as PatientsListComponent};
