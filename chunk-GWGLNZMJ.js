import{a as B}from"./chunk-LZP63J3R.js";import{a as J}from"./chunk-JUTIX74D.js";import{a as j,b as z,c as G,f as q,o as H}from"./chunk-DOKJHZWU.js";import"./chunk-MZ3EZVY4.js";import{$a as c,Ia as M,Ma as y,S as b,Sb as L,Sc as W,Ta as u,Tb as T,Ua as e,Ub as V,Uc as N,Va as t,Vc as P,Wa as x,X as d,Xb as I,Xc as A,Y as p,Z as C,Za as h,_ as E,_a as g,a as S,cd as D,hb as l,ib as k,jb as w,jd as F,kd as O,mb as f,nb as _,ob as v,ta as s}from"./chunk-A3GKMUNS.js";function Q(m,a){m&1&&(e(0,"span",33),l(1,"Activo"),t())}function R(m,a){m&1&&(e(0,"span",34),l(1,"Inactivo"),t())}function U(m,a){if(m&1){let i=h();e(0,"tr")(1,"td",25),l(2),t(),e(3,"td",26),l(4),t(),e(5,"td",26),y(6,Q,2,0,"span",27)(7,R,2,0,"span",28),t(),e(8,"td",29)(9,"button",30),g("click",function(){let n=d(i).$implicit,o=c();return p(o.toggleActive(n))}),x(10,"lucide-icon",7),t(),e(11,"button",31),g("click",function(){let n=d(i).$implicit,o=c();return p(o.openModal(n))}),x(12,"lucide-icon",7),t(),e(13,"button",32),g("click",function(){let n=d(i).$implicit,o=c();return p(o.delete(n.specialtyId))}),x(14,"lucide-icon",7),t()()()}if(m&2){let i=a.$implicit,r=c();s(2),w(" ",i.name),s(2),k(i.description),s(2),u("ngIf",i.active),s(),u("ngIf",!i.active),s(2),u("ngClass",i.active?"text-emerald-600 bg-emerald-50 hover:bg-emerald-100":"text-red-500 bg-red-50 hover:bg-red-100")("title",i.active?"Desactivar":"Activar"),s(),u("img",r.icons.Power),s(2),u("img",r.icons.Pencil),s(2),u("img",r.icons.Trash2)}}function X(m,a){if(m&1){let i=h();e(0,"div",35)(1,"div",36)(2,"div",37),g("click",function(){d(i);let n=c();return p(n.closeModal())}),t(),e(3,"div",38)(4,"div",39)(5,"button",40),g("click",function(){d(i);let n=c();return p(n.closeModal())}),e(6,"span",21),l(7,"Cerrar"),t(),C(),e(8,"svg",41),x(9,"path",42),t()()(),E(),e(10,"div",43)(11,"h3",44),l(12),t(),e(13,"div",45)(14,"div",46)(15,"label",47),l(16,"Nombre"),t(),e(17,"div")(18,"input",48),v("ngModelChange",function(n){d(i);let o=c();return _(o.form.name,n)||(o.form.name=n),p(n)}),t()()(),e(19,"div",46)(20,"label",47),l(21,"Descripci\xF3n"),t(),e(22,"div")(23,"input",48),v("ngModelChange",function(n){d(i);let o=c();return _(o.form.description,n)||(o.form.description=n),p(n)}),t()()(),e(24,"div",49)(25,"input",50),v("ngModelChange",function(n){d(i);let o=c();return _(o.form.active,n)||(o.form.active=n),p(n)}),t(),e(26,"label",51),l(27,"Activo"),t()()()(),e(28,"div",52)(29,"button",53),g("click",function(){d(i);let n=c();return p(n.save())}),l(30,"Guardar"),t(),e(31,"button",54),g("click",function(){d(i);let n=c();return p(n.closeModal())}),l(32,"Cancelar"),t()()()()()}if(m&2){let i=c();s(12),w(" ",i.editingId?"Editar Especialidad":"Nueva Especialidad"," "),s(6),f("ngModel",i.form.name),s(5),f("ngModel",i.form.description),s(2),f("ngModel",i.form.active)}}var K=class m{service=b(J);confirmService=b(B);icons={Plus:N,Pencil:W,Trash2:D,Search:A,Power:P};specialties=this.service.specialties;searchTerm="";isModalOpen=!1;editingId=null;form={name:"",description:"",active:!0};get filteredSpecialties(){return this.specialties().filter(a=>a.name.toLowerCase().includes(this.searchTerm.toLowerCase()))}openModal(a){a?(this.editingId=a.specialtyId,this.form=S({},a)):(this.editingId=null,this.form={name:"",description:"",active:!0}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}save(){this.editingId?this.service.updateSpecialty(this.editingId,this.form).subscribe(()=>{this.closeModal()}):this.service.addSpecialty(this.form).subscribe(()=>{this.closeModal()})}toggleActive(a){this.service.updateStatus(a.specialtyId,!a.active).subscribe()}async delete(a){await this.confirmService.confirm({title:"Eliminar Especialidad",message:"\xBFEst\xE1s seguro de que deseas eliminar esta especialidad?",confirmText:"Eliminar",cancelText:"Cancelar"})&&this.service.deleteSpecialty(a).subscribe()}static \u0275fac=function(i){return new(i||m)};static \u0275cmp=M({type:m,selectors:[["app-specialties-list"]],decls:34,vars:5,consts:[[1,"px-4","sm:px-6","lg:px-8"],[1,"sm:flex","sm:items-center"],[1,"sm:flex-auto"],[1,"text-xl","font-semibold","text-gray-900"],[1,"mt-2","text-sm","text-gray-700"],[1,"mt-4","sm:ml-16","sm:mt-0","sm:flex-none"],[1,"block","rounded-md","bg-blue-600","px-3","py-2","text-center","text-sm","font-semibold","text-white","shadow-sm","hover:bg-blue-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-blue-600","flex","items-center","gap-2",3,"click"],[1,"w-4","h-4",3,"img"],[1,"mt-8","flow-root"],[1,"mb-4","relative","max-w-xs"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"h-5","w-5","text-gray-400",3,"img"],["type","text","placeholder","Buscar...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:border-blue-300","focus:shadow-outline-blue","sm:text-sm","transition","duration-150","ease-in-out",3,"ngModelChange","ngModel"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","sm:px-6","lg:px-8"],[1,"overflow-hidden","shadow","ring-1","ring-black","ring-opacity-5","sm:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-300"],[1,"bg-gray-50"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-6"],["scope","col",1,"px-3","py-3.5","text-left","text-sm","font-semibold","text-gray-900"],["scope","col",1,"relative","py-3.5","pl-3","pr-4","sm:pr-6"],[1,"sr-only"],[1,"divide-y","divide-gray-200","bg-white"],[4,"ngFor","ngForOf"],["class","fixed inset-0 z-10 w-screen overflow-y-auto",4,"ngIf"],[1,"whitespace-nowrap","py-4","pl-4","pr-3","text-sm","font-medium","text-gray-900","sm:pl-6"],[1,"whitespace-nowrap","px-3","py-4","text-sm","text-gray-500"],["class","inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",4,"ngIf"],["class","inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20",4,"ngIf"],[1,"relative","whitespace-nowrap","py-4","pl-3","pr-4","text-right","text-sm","font-medium","sm:pr-6"],[1,"p-2","rounded-lg","transition-all","mr-2",3,"click","ngClass","title"],[1,"text-blue-600","hover:text-blue-900","mr-4",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"],[1,"inline-flex","items-center","rounded-md","bg-green-50","px-2","py-1","text-xs","font-medium","text-green-700","ring-1","ring-inset","ring-green-600/20"],[1,"inline-flex","items-center","rounded-md","bg-red-50","px-2","py-1","text-xs","font-medium","text-red-700","ring-1","ring-inset","ring-red-600/20"],[1,"fixed","inset-0","z-10","w-screen","overflow-y-auto"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],[1,"relative","transform","overflow-hidden","rounded-lg","bg-white","px-4","pb-4","pt-5","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-lg","sm:p-6"],[1,"absolute","right-0","top-0","hidden","pr-4","pt-4","sm:block"],["type","button",1,"rounded-md","bg-white","text-gray-400","hover:text-gray-500",3,"click"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-3","text-center","sm:ml-4","sm:mt-0","sm:text-left","w-full"],[1,"text-base","font-semibold","leading-6","text-gray-900"],[1,"mt-4","space-y-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","leading-6","text-gray-900","mb-2"],["type","text",1,"block","w-full","rounded-md","border-0","py-1.5","px-4","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-blue-600","sm:text-sm","sm:leading-6",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-blue-600","focus:ring-blue-600",3,"ngModelChange","ngModel"],[1,"ml-2","block","text-sm","text-gray-900"],[1,"mt-5","sm:mt-4","sm:flex","sm:flex-row-reverse"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-blue-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-blue-500","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","sm:mt-0","sm:w-auto",3,"click"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Especialidades"),t(),e(5,"p",4),l(6,"Lista de especialidades m\xE9dicas disponibles en la cl\xEDnica."),t()(),e(7,"div",5)(8,"button",6),g("click",function(){return r.openModal()}),x(9,"lucide-icon",7),l(10," Nueva Especialidad "),t()()(),e(11,"div",8)(12,"div",9)(13,"div",10),x(14,"lucide-icon",11),t(),e(15,"input",12),v("ngModelChange",function(o){return _(r.searchTerm,o)||(r.searchTerm=o),o}),t()(),e(16,"div",13)(17,"div",14)(18,"div",15)(19,"table",16)(20,"thead",17)(21,"tr")(22,"th",18),l(23," Nombre"),t(),e(24,"th",19),l(25," Descripci\xF3n"),t(),e(26,"th",19),l(27,"Estado "),t(),e(28,"th",20)(29,"span",21),l(30,"Acciones"),t()()()(),e(31,"tbody",22),y(32,U,15,9,"tr",23),t()()()()()()(),y(33,X,33,4,"div",24)),i&2&&(s(9),u("img",r.icons.Plus),s(5),u("img",r.icons.Search),s(),f("ngModel",r.searchTerm),s(17),u("ngForOf",r.filteredSpecialties),s(),u("ngIf",r.isModalOpen))},dependencies:[I,L,T,V,O,F,H,z,j,G,q],encapsulation:2})};export{K as SpecialtiesListComponent};
