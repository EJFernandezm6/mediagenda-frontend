import{a as l}from"./chunk-MZ3EZVY4.js";import{N as i,R as c,W as d,ia as h,xc as o}from"./chunk-2ZD6ZATD.js";var n=class s{http=d(o);apiUrl=`${l.apiUrl}/scheduling`;schedules=h([]);constructor(){this.refreshSchedules()}refreshSchedules(e){let t=`${this.apiUrl}/schedules`;e?.doctorId&&(t=`${this.apiUrl}/doctors/${e.doctorId}/schedules`),this.http.get(t).subscribe(r=>{this.schedules.set(r)})}getSchedules(){return this.schedules()}addSchedule(e,t){return this.http.post(`${this.apiUrl}/doctors/${e}/schedules`,{items:t}).pipe(i(()=>this.refreshSchedules({doctorId:e})))}removeSchedule(e,t){return this.http.delete(`${this.apiUrl}/schedules/${e}`).pipe(i(()=>this.refreshSchedules({doctorId:t})))}getSchedulesForDoctor(e,t){return this.schedules().filter(r=>r.doctorId===e&&r.specialtyId===t)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};export{n as a};
