import{a as Gl}from"./chunk-WDBT6EDI.js";import{a as Di}from"./chunk-WUGAILFL.js";import{a as ll,b as cl,d as Ci,e as ki,f as Ai,g as gl,h as fl,i as xl}from"./chunk-CHEAYMB6.js";import{a as Hl}from"./chunk-7ZIBP65N.js";import{a as $n}from"./chunk-B77PZS2Y.js";import{b as qn,d as Qn,e as Zn,f as Un,g as Kn,h as Jn,p as ea,q as zl,u as ta}from"./chunk-WVXXQESU.js";import{a as Bl}from"./chunk-MZ3EZVY4.js";import{$ as J,$a as pe,$c as Wn,A as Vo,Aa as $o,Ab as Ce,Ac as Hn,Ba as f,Bb as de,C as Ro,Cb as Vs,Cc as Bs,Dc as hl,Dd as Ol,Eb as zt,Ec as dl,Ed as Pl,F as No,Fa as Xo,Fb as Ht,Fc as ul,Fd as Il,Ga as ae,Gb as $t,Gc as ml,Ha as Ui,Hc as pl,Ib as el,Ic as Gs,Id as Vl,Ja as Wo,Jb as tl,Ka as Es,Kc as _l,Kd as Rl,La as Se,Lb as il,Lc as vl,Ld as jn,Mb as Rs,Na as Ds,Nc as yl,O as ge,Oa as Yo,Od as Li,Pc as zs,Pd as Ei,Qb as Ki,Qc as Xn,Qd as Nl,R as He,Ra as le,Rd as tt,S as Me,Sa as Oe,Sb as nl,Sc as bl,Sd as it,Ta as Fs,Tb as al,Ua as Ms,Uc as Tl,V as Vt,Va as G,Vb as Si,Vc as wl,W as be,Xc as Sl,Yc as Cl,Z as Bo,_a as jo,_b as Ns,_c as kl,a as je,aa as ee,ab as qo,b as Ss,ba as q,bb as Qo,bc as sl,bd as Al,c as Oo,cb as y,da as zn,db as u,dd as Hs,ea as ks,eb as m,fb as I,gb as Os,hb as Zo,ia as et,ib as Uo,id as $s,jb as Rt,ka as Ee,kb as Nt,l as Po,la as As,lb as Ps,mb as Te,mc as qe,md as Ll,na as xt,nb as Y,nc as we,nd as El,o as Cs,ob as w,pb as Ko,pd as Dl,qb as Jo,qc as rl,qd as Fl,ra as ii,rb as Is,sa as Ls,sb as Bt,tb as _t,td as Yn,ub as vt,uc as Ie,vb as Gt,wa as Go,wb as Ke,wd as Ml,xa as zo,xb as Pe,xc as ol,y as Io,yb as wi,za as Ho,zb as b,zc as ni}from"./chunk-NLC5TGVC.js";var yt=globalThis;function nt(t){return(yt.__Zone_symbol_prefix||"__zone_symbol__")+t}function Qu(){let t=yt.performance;function e(A){t&&t.mark&&t.mark(A)}function n(A,C){t&&t.measure&&t.measure(A,C)}e("Zone");let i=(()=>{class A{static __symbol__=nt;static assertZonePatched(){if(yt.Promise!==W.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let g=A.current;for(;g.parent;)g=g.parent;return g}static get current(){return L.zone}static get currentTask(){return F}static __load_patch(g,x,V=!1){if(W.hasOwnProperty(g)){let H=yt[nt("forceDuplicateZoneCheck")]===!0;if(!V&&H)throw Error("Already loaded patch: "+g)}else if(!yt["__Zone_disable_"+g]){let H="Zone:"+g;e(H),W[g]=x(yt,A,z),n(H,H)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(g,x){this._parent=g,this._name=x?x.name||"unnamed":"<root>",this._properties=x&&x.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,x)}get(g){let x=this.getZoneWith(g);if(x)return x._properties[g]}getZoneWith(g){let x=this;for(;x;){if(x._properties.hasOwnProperty(g))return x;x=x._parent}return null}fork(g){if(!g)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,g)}wrap(g,x){if(typeof g!="function")throw new Error("Expecting function got: "+g);let V=this._zoneDelegate.intercept(this,g,x),H=this;return function(){return H.runGuarded(V,this,arguments,x)}}run(g,x,V,H){L={parent:L,zone:this};try{return this._zoneDelegate.invoke(this,g,x,V,H)}finally{L=L.parent}}runGuarded(g,x=null,V,H){L={parent:L,zone:this};try{try{return this._zoneDelegate.invoke(this,g,x,V,H)}catch(se){if(this._zoneDelegate.handleError(this,se))throw se}}finally{L=L.parent}}runTask(g,x,V){if(g.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(g.zone||R).name+"; Execution: "+this.name+")");let H=g,{type:se,data:{isPeriodic:K=!1,isRefreshable:me=!1}={}}=g;if(g.state===M&&(se===ie||se===B))return;let Ae=g.state!=N;Ae&&H._transitionTo(N,k);let ze=F;F=H,L={parent:L,zone:this};try{se==B&&g.data&&!K&&!me&&(g.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,H,x,V)}catch(fe){if(this._zoneDelegate.handleError(this,fe))throw fe}}finally{let fe=g.state;if(fe!==M&&fe!==X)if(se==ie||K||me&&fe===D)Ae&&H._transitionTo(k,N,D);else{let O=H._zoneDelegates;this._updateTaskCount(H,-1),Ae&&H._transitionTo(M,N,M),me&&(H._zoneDelegates=O)}L=L.parent,F=ze}}scheduleTask(g){if(g.zone&&g.zone!==this){let V=this;for(;V;){if(V===g.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${g.zone.name}`);V=V.parent}}g._transitionTo(D,M);let x=[];g._zoneDelegates=x,g._zone=this;try{g=this._zoneDelegate.scheduleTask(this,g)}catch(V){throw g._transitionTo(X,D,M),this._zoneDelegate.handleError(this,V),V}return g._zoneDelegates===x&&this._updateTaskCount(g,1),g.state==D&&g._transitionTo(k,D),g}scheduleMicroTask(g,x,V,H){return this.scheduleTask(new r(Z,g,x,V,H,void 0))}scheduleMacroTask(g,x,V,H,se){return this.scheduleTask(new r(B,g,x,V,H,se))}scheduleEventTask(g,x,V,H,se){return this.scheduleTask(new r(ie,g,x,V,H,se))}cancelTask(g){if(g.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(g.zone||R).name+"; Execution: "+this.name+")");if(!(g.state!==k&&g.state!==N)){g._transitionTo(j,k,N);try{this._zoneDelegate.cancelTask(this,g)}catch(x){throw g._transitionTo(X,j),this._zoneDelegate.handleError(this,x),x}return this._updateTaskCount(g,-1),g._transitionTo(M,j),g.runCount=-1,g}}_updateTaskCount(g,x){let V=g._zoneDelegates;x==-1&&(g._zoneDelegates=null);for(let H=0;H<V.length;H++)V[H]._updateTaskCount(g.type,x)}}return A})(),a={name:"",onHasTask:(A,C,g,x)=>A.hasTask(g,x),onScheduleTask:(A,C,g,x)=>A.scheduleTask(g,x),onInvokeTask:(A,C,g,x,V,H)=>A.invokeTask(g,x,V,H),onCancelTask:(A,C,g,x)=>A.cancelTask(g,x)};class s{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(C,g,x){this._zone=C,this._parentDelegate=g,this._forkZS=x&&(x&&x.onFork?x:g._forkZS),this._forkDlgt=x&&(x.onFork?g:g._forkDlgt),this._forkCurrZone=x&&(x.onFork?this._zone:g._forkCurrZone),this._interceptZS=x&&(x.onIntercept?x:g._interceptZS),this._interceptDlgt=x&&(x.onIntercept?g:g._interceptDlgt),this._interceptCurrZone=x&&(x.onIntercept?this._zone:g._interceptCurrZone),this._invokeZS=x&&(x.onInvoke?x:g._invokeZS),this._invokeDlgt=x&&(x.onInvoke?g:g._invokeDlgt),this._invokeCurrZone=x&&(x.onInvoke?this._zone:g._invokeCurrZone),this._handleErrorZS=x&&(x.onHandleError?x:g._handleErrorZS),this._handleErrorDlgt=x&&(x.onHandleError?g:g._handleErrorDlgt),this._handleErrorCurrZone=x&&(x.onHandleError?this._zone:g._handleErrorCurrZone),this._scheduleTaskZS=x&&(x.onScheduleTask?x:g._scheduleTaskZS),this._scheduleTaskDlgt=x&&(x.onScheduleTask?g:g._scheduleTaskDlgt),this._scheduleTaskCurrZone=x&&(x.onScheduleTask?this._zone:g._scheduleTaskCurrZone),this._invokeTaskZS=x&&(x.onInvokeTask?x:g._invokeTaskZS),this._invokeTaskDlgt=x&&(x.onInvokeTask?g:g._invokeTaskDlgt),this._invokeTaskCurrZone=x&&(x.onInvokeTask?this._zone:g._invokeTaskCurrZone),this._cancelTaskZS=x&&(x.onCancelTask?x:g._cancelTaskZS),this._cancelTaskDlgt=x&&(x.onCancelTask?g:g._cancelTaskDlgt),this._cancelTaskCurrZone=x&&(x.onCancelTask?this._zone:g._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let V=x&&x.onHasTask,H=g&&g._hasTaskZS;(V||H)&&(this._hasTaskZS=V?x:a,this._hasTaskDlgt=g,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,x.onScheduleTask||(this._scheduleTaskZS=a,this._scheduleTaskDlgt=g,this._scheduleTaskCurrZone=this._zone),x.onInvokeTask||(this._invokeTaskZS=a,this._invokeTaskDlgt=g,this._invokeTaskCurrZone=this._zone),x.onCancelTask||(this._cancelTaskZS=a,this._cancelTaskDlgt=g,this._cancelTaskCurrZone=this._zone))}fork(C,g){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,C,g):new i(C,g)}intercept(C,g,x){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,C,g,x):g}invoke(C,g,x,V,H){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,C,g,x,V,H):g.apply(x,V)}handleError(C,g){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,C,g):!0}scheduleTask(C,g){let x=g;if(this._scheduleTaskZS)this._hasTaskZS&&x._zoneDelegates.push(this._hasTaskDlgtOwner),x=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,C,g),x||(x=g);else if(g.scheduleFn)g.scheduleFn(g);else if(g.type==Z)_(g);else throw new Error("Task is missing scheduleFn.");return x}invokeTask(C,g,x,V){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,C,g,x,V):g.callback.apply(x,V)}cancelTask(C,g){let x;if(this._cancelTaskZS)x=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,C,g);else{if(!g.cancelFn)throw Error("Task is not cancelable");x=g.cancelFn(g)}return x}hasTask(C,g){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,C,g)}catch(x){this.handleError(C,x)}}_updateTaskCount(C,g){let x=this._taskCounts,V=x[C],H=x[C]=V+g;if(H<0)throw new Error("More tasks executed then were scheduled.");if(V==0||H==0){let se={microTask:x.microTask>0,macroTask:x.macroTask>0,eventTask:x.eventTask>0,change:C};this.hasTask(this._zone,se)}}}class r{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(C,g,x,V,H,se){if(this.type=C,this.source=g,this.data=V,this.scheduleFn=H,this.cancelFn=se,!x)throw new Error("callback is not defined");this.callback=x;let K=this;C===ie&&V&&V.useG?this.invoke=r.invokeTask:this.invoke=function(){return r.invokeTask.call(yt,K,this,arguments)}}static invokeTask(C,g,x){C||(C=this),$++;try{return C.runCount++,C.zone.runTask(C,g,x)}finally{$==1&&S(),$--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(M,D)}_transitionTo(C,g,x){if(this._state===g||this._state===x)this._state=C,C==M&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${C}', expecting state '${g}'${x?" or '"+x+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let o=nt("setTimeout"),l=nt("Promise"),c=nt("then"),h=[],d=!1,p;function v(A){if(p||yt[l]&&(p=yt[l].resolve(0)),p){let C=p[c];C||(C=p.then),C.call(p,A)}else yt[o](A,0)}function _(A){$===0&&h.length===0&&v(S),A&&h.push(A)}function S(){if(!d){for(d=!0;h.length;){let A=h;h=[];for(let C=0;C<A.length;C++){let g=A[C];try{g.zone.runTask(g,null,null)}catch(x){z.onUnhandledError(x)}}}z.microtaskDrainDone(),d=!1}}let R={name:"NO ZONE"},M="notScheduled",D="scheduling",k="scheduled",N="running",j="canceling",X="unknown",Z="microTask",B="macroTask",ie="eventTask",W={},z={symbol:nt,currentZoneFrame:()=>L,onUnhandledError:re,microtaskDrainDone:re,scheduleMicroTask:_,showUncaughtError:()=>!i[nt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:re,patchMethod:()=>re,bindArguments:()=>[],patchThen:()=>re,patchMacroTask:()=>re,patchEventPrototype:()=>re,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>re,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>re,wrapWithCurrentZone:()=>re,filterProperties:()=>[],attachOriginToPatched:()=>re,_redefineProperty:()=>re,patchCallbacks:()=>re,nativeScheduleMicroTask:v},L={parent:null,zone:new i(null,null)},F=null,$=0;function re(){}return n("Zone","Zone"),i}function Zu(){let t=globalThis,e=t[nt("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(e||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??=Qu(),t.Zone}var en=Object.getOwnPropertyDescriptor,qs=Object.defineProperty,Qs=Object.getPrototypeOf,Uu=Object.create,Ku=Array.prototype.slice,Zs="addEventListener",Us="removeEventListener",Xs=nt(Zs),Ws=nt(Us),kt="true",At="false",tn=nt("");function Ks(t,e){return Zone.current.wrap(t,e)}function Js(t,e,n,i,a){return Zone.current.scheduleMacroTask(t,e,n,i,a)}var xe=nt,aa=typeof window<"u",nn=aa?window:void 0,De=aa&&nn||globalThis,Ju="removeAttribute";function er(t,e){for(let n=t.length-1;n>=0;n--)typeof t[n]=="function"&&(t[n]=Ks(t[n],e+"_"+n));return t}function em(t,e){let n=t.constructor.name;for(let i=0;i<e.length;i++){let a=e[i],s=t[a];if(s){let r=en(t,a);if(!Ql(r))continue;t[a]=(o=>{let l=function(){return o.apply(this,er(arguments,n+"."+a))};return Et(l,o),l})(s)}}}function Ql(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}var Zl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,sa=!("nw"in De)&&typeof De.process<"u"&&De.process.toString()==="[object process]",tr=!sa&&!Zl&&!!(aa&&nn.HTMLElement),Ul=typeof De.process<"u"&&De.process.toString()==="[object process]"&&!Zl&&!!(aa&&nn.HTMLElement),na={},tm=xe("enable_beforeunload"),$l=function(t){if(t=t||De.event,!t)return;let e=na[t.type];e||(e=na[t.type]=xe("ON_PROPERTY"+t.type));let n=this||t.target||De,i=n[e],a;if(tr&&n===nn&&t.type==="error"){let s=t;a=i&&i.call(this,s.message,s.filename,s.lineno,s.colno,s.error),a===!0&&t.preventDefault()}else a=i&&i.apply(this,arguments),t.type==="beforeunload"&&De[tm]&&typeof a=="string"?t.returnValue=a:a!=null&&!a&&t.preventDefault();return a};function Xl(t,e,n){let i=en(t,e);if(!i&&n&&en(n,e)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;let a=xe("on"+e+"patched");if(t.hasOwnProperty(a)&&t[a])return;delete i.writable,delete i.value;let s=i.get,r=i.set,o=e.slice(2),l=na[o];l||(l=na[o]=xe("ON_PROPERTY"+o)),i.set=function(c){let h=this;if(!h&&t===De&&(h=De),!h)return;typeof h[l]=="function"&&h.removeEventListener(o,$l),r?.call(h,null),h[l]=c,typeof c=="function"&&h.addEventListener(o,$l,!1)},i.get=function(){let c=this;if(!c&&t===De&&(c=De),!c)return null;let h=c[l];if(h)return h;if(s){let d=s.call(this);if(d)return i.set.call(this,d),typeof c[Ju]=="function"&&c.removeAttribute(e),d}return null},qs(t,e,i),t[a]=!0}function Kl(t,e,n){if(e)for(let i=0;i<e.length;i++)Xl(t,"on"+e[i],n);else{let i=[];for(let a in t)a.slice(0,2)=="on"&&i.push(a);for(let a=0;a<i.length;a++)Xl(t,i[a],n)}}var lt=xe("originalInstance");function Ji(t){let e=De[t];if(!e)return;De[xe(t)]=e,De[t]=function(){let a=er(arguments,t);switch(a.length){case 0:this[lt]=new e;break;case 1:this[lt]=new e(a[0]);break;case 2:this[lt]=new e(a[0],a[1]);break;case 3:this[lt]=new e(a[0],a[1],a[2]);break;case 4:this[lt]=new e(a[0],a[1],a[2],a[3]);break;default:throw new Error("Arg list too long.")}},Et(De[t],e);let n=new e(function(){}),i;for(i in n)t==="XMLHttpRequest"&&i==="responseBlob"||(function(a){typeof n[a]=="function"?De[t].prototype[a]=function(){return this[lt][a].apply(this[lt],arguments)}:qs(De[t].prototype,a,{set:function(s){typeof s=="function"?(this[lt][a]=Ks(s,t+"."+a),Et(this[lt][a],s)):this[lt][a]=s},get:function(){return this[lt][a]}})})(i);for(i in e)i!=="prototype"&&e.hasOwnProperty(i)&&(De[t][i]=e[i])}function Lt(t,e,n){let i=t;for(;i&&!i.hasOwnProperty(e);)i=Qs(i);!i&&t[e]&&(i=t);let a=xe(e),s=null;if(i&&(!(s=i[a])||!i.hasOwnProperty(a))){s=i[a]=i[e];let r=i&&en(i,e);if(Ql(r)){let o=n(s,a,e);i[e]=function(){return o(this,arguments)},Et(i[e],s)}}return s}function im(t,e,n){let i=null;function a(s){let r=s.data;return r.args[r.cbIdx]=function(){s.invoke.apply(this,arguments)},i.apply(r.target,r.args),s}i=Lt(t,e,s=>function(r,o){let l=n(r,o);return l.cbIdx>=0&&typeof o[l.cbIdx]=="function"?Js(l.name,o[l.cbIdx],l,a):s.apply(r,o)})}function Et(t,e){t[xe("OriginalDelegate")]=e}var Wl=!1,Ys=!1;function nm(){if(Wl)return Ys;Wl=!0;try{let t=nn.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(Ys=!0)}catch{}return Ys}function Yl(t){return typeof t=="function"}function jl(t){return typeof t=="number"}var am={useG:!0},at={},Jl={},ec=new RegExp("^"+tn+"(\\w+)(true|false)$"),tc=xe("propagationStopped");function ic(t,e){let n=(e?e(t):t)+At,i=(e?e(t):t)+kt,a=tn+n,s=tn+i;at[t]={},at[t][At]=a,at[t][kt]=s}function sm(t,e,n,i){let a=i&&i.add||Zs,s=i&&i.rm||Us,r=i&&i.listeners||"eventListeners",o=i&&i.rmAll||"removeAllListeners",l=xe(a),c="."+a+":",h="prependListener",d="."+h+":",p=function(D,k,N){if(D.isRemoved)return;let j=D.callback;typeof j=="object"&&j.handleEvent&&(D.callback=B=>j.handleEvent(B),D.originalDelegate=j);let X;try{D.invoke(D,k,[N])}catch(B){X=B}let Z=D.options;if(Z&&typeof Z=="object"&&Z.once){let B=D.originalDelegate?D.originalDelegate:D.callback;k[s].call(k,N.type,B,Z)}return X};function v(D,k,N){if(k=k||t.event,!k)return;let j=D||k.target||t,X=j[at[k.type][N?kt:At]];if(X){let Z=[];if(X.length===1){let B=p(X[0],j,k);B&&Z.push(B)}else{let B=X.slice();for(let ie=0;ie<B.length&&!(k&&k[tc]===!0);ie++){let W=p(B[ie],j,k);W&&Z.push(W)}}if(Z.length===1)throw Z[0];for(let B=0;B<Z.length;B++){let ie=Z[B];e.nativeScheduleMicroTask(()=>{throw ie})}}}let _=function(D){return v(this,D,!1)},S=function(D){return v(this,D,!0)};function R(D,k){if(!D)return!1;let N=!0;k&&k.useG!==void 0&&(N=k.useG);let j=k&&k.vh,X=!0;k&&k.chkDup!==void 0&&(X=k.chkDup);let Z=!1;k&&k.rt!==void 0&&(Z=k.rt);let B=D;for(;B&&!B.hasOwnProperty(a);)B=Qs(B);if(!B&&D[a]&&(B=D),!B||B[l])return!1;let ie=k&&k.eventNameToString,W={},z=B[l]=B[a],L=B[xe(s)]=B[s],F=B[xe(r)]=B[r],$=B[xe(o)]=B[o],re;k&&k.prepend&&(re=B[xe(k.prepend)]=B[k.prepend]);function A(T,P){return P?typeof T=="boolean"?{capture:T,passive:!0}:T?typeof T=="object"&&T.passive!==!1?Ss(je({},T),{passive:!0}):T:{passive:!0}:T}let C=function(T){if(!W.isExisting)return z.call(W.target,W.eventName,W.capture?S:_,W.options)},g=function(T){if(!T.isRemoved){let P=at[T.eventName],U;P&&(U=P[T.capture?kt:At]);let te=U&&T.target[U];if(te){for(let Q=0;Q<te.length;Q++)if(te[Q]===T){te.splice(Q,1),T.isRemoved=!0,T.removeAbortListener&&(T.removeAbortListener(),T.removeAbortListener=null),te.length===0&&(T.allRemoved=!0,T.target[U]=null);break}}}if(T.allRemoved)return L.call(T.target,T.eventName,T.capture?S:_,T.options)},x=function(T){return z.call(W.target,W.eventName,T.invoke,W.options)},V=function(T){return re.call(W.target,W.eventName,T.invoke,W.options)},H=function(T){return L.call(T.target,T.eventName,T.invoke,T.options)},se=N?C:x,K=N?g:H,me=function(T,P){let U=typeof P;return U==="function"&&T.callback===P||U==="object"&&T.originalDelegate===P},Ae=k?.diff||me,ze=Zone[xe("UNPATCHED_EVENTS")],fe=t[xe("PASSIVE_EVENTS")];function O(T){if(typeof T=="object"&&T!==null){let P=je({},T);return T.signal&&(P.signal=T.signal),P}return T}let E=function(T,P,U,te,Q=!1,oe=!1){return function(){let ce=this||t,he=arguments[0];k&&k.transferEventName&&(he=k.transferEventName(he));let ve=arguments[1];if(!ve)return T.apply(this,arguments);if(sa&&he==="uncaughtException")return T.apply(this,arguments);let ye=!1;if(typeof ve!="function"){if(!ve.handleEvent)return T.apply(this,arguments);ye=!0}if(j&&!j(T,ve,ce,arguments))return;let It=!!fe&&fe.indexOf(he)!==-1,gt=O(A(arguments[2],It)),bi=gt?.signal;if(bi?.aborted)return;if(ze){for(let ft=0;ft<ze.length;ft++)if(he===ze[ft])return It?T.call(ce,he,ve,gt):T.apply(this,arguments)}let Ts=gt?typeof gt=="boolean"?!0:gt.capture:!1,Lo=gt&&typeof gt=="object"?gt.once:!1,qu=Zone.current,ws=at[he];ws||(ic(he,ie),ws=at[he]);let Eo=ws[Ts?kt:At],Ti=ce[Eo],Do=!1;if(Ti){if(Do=!0,X){for(let ft=0;ft<Ti.length;ft++)if(Ae(Ti[ft],ve))return}}else Ti=ce[Eo]=[];let Gn,Fo=ce.constructor.name,Mo=Jl[Fo];Mo&&(Gn=Mo[he]),Gn||(Gn=Fo+P+(ie?ie(he):he)),W.options=gt,Lo&&(W.options.once=!1),W.target=ce,W.capture=Ts,W.eventName=he,W.isExisting=Do;let Zi=N?am:void 0;Zi&&(Zi.taskData=W),bi&&(W.options.signal=void 0);let ot=qu.scheduleEventTask(Gn,ve,Zi,U,te);if(bi){W.options.signal=bi;let ft=()=>ot.zone.cancelTask(ot);T.call(bi,"abort",ft,{once:!0}),ot.removeAbortListener=()=>bi.removeEventListener("abort",ft)}if(W.target=null,Zi&&(Zi.taskData=null),Lo&&(W.options.once=!0),typeof ot.options!="boolean"&&(ot.options=gt),ot.target=ce,ot.capture=Ts,ot.eventName=he,ye&&(ot.originalDelegate=ve),oe?Ti.unshift(ot):Ti.push(ot),Q)return ce}};return B[a]=E(z,c,se,K,Z),re&&(B[h]=E(re,d,V,K,Z,!0)),B[s]=function(){let T=this||t,P=arguments[0];k&&k.transferEventName&&(P=k.transferEventName(P));let U=arguments[2],te=U?typeof U=="boolean"?!0:U.capture:!1,Q=arguments[1];if(!Q)return L.apply(this,arguments);if(j&&!j(L,Q,T,arguments))return;let oe=at[P],ce;oe&&(ce=oe[te?kt:At]);let he=ce&&T[ce];if(he)for(let ve=0;ve<he.length;ve++){let ye=he[ve];if(Ae(ye,Q)){if(he.splice(ve,1),ye.isRemoved=!0,he.length===0&&(ye.allRemoved=!0,T[ce]=null,!te&&typeof P=="string")){let It=tn+"ON_PROPERTY"+P;T[It]=null}return ye.zone.cancelTask(ye),Z?T:void 0}}return L.apply(this,arguments)},B[r]=function(){let T=this||t,P=arguments[0];k&&k.transferEventName&&(P=k.transferEventName(P));let U=[],te=nc(T,ie?ie(P):P);for(let Q=0;Q<te.length;Q++){let oe=te[Q],ce=oe.originalDelegate?oe.originalDelegate:oe.callback;U.push(ce)}return U},B[o]=function(){let T=this||t,P=arguments[0];if(P){k&&k.transferEventName&&(P=k.transferEventName(P));let U=at[P];if(U){let te=U[At],Q=U[kt],oe=T[te],ce=T[Q];if(oe){let he=oe.slice();for(let ve=0;ve<he.length;ve++){let ye=he[ve],It=ye.originalDelegate?ye.originalDelegate:ye.callback;this[s].call(this,P,It,ye.options)}}if(ce){let he=ce.slice();for(let ve=0;ve<he.length;ve++){let ye=he[ve],It=ye.originalDelegate?ye.originalDelegate:ye.callback;this[s].call(this,P,It,ye.options)}}}}else{let U=Object.keys(T);for(let te=0;te<U.length;te++){let Q=U[te],oe=ec.exec(Q),ce=oe&&oe[1];ce&&ce!=="removeListener"&&this[o].call(this,ce)}this[o].call(this,"removeListener")}if(Z)return this},Et(B[a],z),Et(B[s],L),$&&Et(B[o],$),F&&Et(B[r],F),!0}let M=[];for(let D=0;D<n.length;D++)M[D]=R(n[D],i);return M}function nc(t,e){if(!e){let s=[];for(let r in t){let o=ec.exec(r),l=o&&o[1];if(l&&(!e||l===e)){let c=t[r];if(c)for(let h=0;h<c.length;h++)s.push(c[h])}}return s}let n=at[e];n||(ic(e),n=at[e]);let i=t[n[At]],a=t[n[kt]];return i?a?i.concat(a):i.slice():a?a.slice():[]}function rm(t,e){let n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",i=>function(a,s){a[tc]=!0,i&&i.apply(a,s)})}function om(t,e){e.patchMethod(t,"queueMicrotask",n=>function(i,a){Zone.current.scheduleMicroTask("queueMicrotask",a[0])})}var ia=xe("zoneTask");function Fi(t,e,n,i){let a=null,s=null;e+=i,n+=i;let r={};function o(c){let h=c.data;h.args[0]=function(){return c.invoke.apply(this,arguments)};let d=a.apply(t,h.args);return jl(d)?h.handleId=d:(h.handle=d,h.isRefreshable=Yl(d.refresh)),c}function l(c){let{handle:h,handleId:d}=c.data;return s.call(t,h??d)}a=Lt(t,e,c=>function(h,d){if(Yl(d[0])){let p={isRefreshable:!1,isPeriodic:i==="Interval",delay:i==="Timeout"||i==="Interval"?d[1]||0:void 0,args:d},v=d[0];d[0]=function(){try{return v.apply(this,arguments)}finally{let{handle:N,handleId:j,isPeriodic:X,isRefreshable:Z}=p;!X&&!Z&&(j?delete r[j]:N&&(N[ia]=null))}};let _=Js(e,d[0],p,o,l);if(!_)return _;let{handleId:S,handle:R,isRefreshable:M,isPeriodic:D}=_.data;if(S)r[S]=_;else if(R&&(R[ia]=_,M&&!D)){let k=R.refresh;R.refresh=function(){let{zone:N,state:j}=_;return j==="notScheduled"?(_._state="scheduled",N._updateTaskCount(_,1)):j==="running"&&(_._state="scheduling"),k.call(this)}}return R??S??_}else return c.apply(t,d)}),s=Lt(t,n,c=>function(h,d){let p=d[0],v;jl(p)?(v=r[p],delete r[p]):(v=p?.[ia],v?p[ia]=null:v=p),v?.type?v.cancelFn&&v.zone.cancelTask(v):c.apply(t,d)})}function lm(t,e){let{isBrowser:n,isMix:i}=e.getGlobalObjects();if(!n&&!i||!t.customElements||!("customElements"in t))return;let a=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",a)}function cm(t,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:i,TRUE_STR:a,FALSE_STR:s,ZONE_SYMBOL_PREFIX:r}=e.getGlobalObjects();for(let l=0;l<n.length;l++){let c=n[l],h=c+s,d=c+a,p=r+h,v=r+d;i[c]={},i[c][s]=p,i[c][a]=v}let o=t.EventTarget;if(!(!o||!o.prototype))return e.patchEventTarget(t,e,[o&&o.prototype]),!0}function hm(t,e){e.patchEventPrototype(t,e)}function ac(t,e,n){if(!n||n.length===0)return e;let i=n.filter(s=>s.target===t);if(i.length===0)return e;let a=i[0].ignoreProperties;return e.filter(s=>a.indexOf(s)===-1)}function ql(t,e,n,i){if(!t)return;let a=ac(t,e,n);Kl(t,a,i)}function js(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function dm(t,e){if(sa&&!Ul||Zone[t.symbol("patchEvents")])return;let n=e.__Zone_ignore_on_properties,i=[];if(tr){let a=window;i=i.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let s=[];ql(a,js(a),n&&n.concat(s),Qs(a))}i=i.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let a=0;a<i.length;a++){let s=e[i[a]];s?.prototype&&ql(s.prototype,js(s.prototype),n)}}function um(t){t.__load_patch("legacy",e=>{let n=e[t.__symbol__("legacyPatch")];n&&n()}),t.__load_patch("timers",e=>{let i="clear";Fi(e,"set",i,"Timeout"),Fi(e,"set",i,"Interval"),Fi(e,"set",i,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{Fi(e,"request","cancel","AnimationFrame"),Fi(e,"mozRequest","mozCancel","AnimationFrame"),Fi(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,n)=>{let i=["alert","prompt","confirm"];for(let a=0;a<i.length;a++){let s=i[a];Lt(e,s,(r,o,l)=>function(c,h){return n.current.run(r,e,h,l)})}}),t.__load_patch("EventTarget",(e,n,i)=>{hm(e,i),cm(e,i);let a=e.XMLHttpRequestEventTarget;a&&a.prototype&&i.patchEventTarget(e,i,[a.prototype])}),t.__load_patch("MutationObserver",(e,n,i)=>{Ji("MutationObserver"),Ji("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,n,i)=>{Ji("IntersectionObserver")}),t.__load_patch("FileReader",(e,n,i)=>{Ji("FileReader")}),t.__load_patch("on_property",(e,n,i)=>{dm(i,e)}),t.__load_patch("customElements",(e,n,i)=>{lm(e,i)}),t.__load_patch("XHR",(e,n)=>{c(e);let i=xe("xhrTask"),a=xe("xhrSync"),s=xe("xhrListener"),r=xe("xhrScheduled"),o=xe("xhrURL"),l=xe("xhrErrorBeforeScheduled");function c(h){let d=h.XMLHttpRequest;if(!d)return;let p=d.prototype;function v(z){return z[i]}let _=p[Xs],S=p[Ws];if(!_){let z=h.XMLHttpRequestEventTarget;if(z){let L=z.prototype;_=L[Xs],S=L[Ws]}}let R="readystatechange",M="scheduled";function D(z){let L=z.data,F=L.target;F[r]=!1,F[l]=!1;let $=F[s];_||(_=F[Xs],S=F[Ws]),$&&S.call(F,R,$);let re=F[s]=()=>{if(F.readyState===F.DONE)if(!L.aborted&&F[r]&&z.state===M){let C=F[n.__symbol__("loadfalse")];if(F.status!==0&&C&&C.length>0){let g=z.invoke;z.invoke=function(){let x=F[n.__symbol__("loadfalse")];for(let V=0;V<x.length;V++)x[V]===z&&x.splice(V,1);!L.aborted&&z.state===M&&g.call(z)},C.push(z)}else z.invoke()}else!L.aborted&&F[r]===!1&&(F[l]=!0)};return _.call(F,R,re),F[i]||(F[i]=z),ie.apply(F,L.args),F[r]=!0,z}function k(){}function N(z){let L=z.data;return L.aborted=!0,W.apply(L.target,L.args)}let j=Lt(p,"open",()=>function(z,L){return z[a]=L[2]==!1,z[o]=L[1],j.apply(z,L)}),X="XMLHttpRequest.send",Z=xe("fetchTaskAborting"),B=xe("fetchTaskScheduling"),ie=Lt(p,"send",()=>function(z,L){if(n.current[B]===!0||z[a])return ie.apply(z,L);{let F={target:z,url:z[o],isPeriodic:!1,args:L,aborted:!1},$=Js(X,k,F,D,N);z&&z[l]===!0&&!F.aborted&&$.state===M&&$.invoke()}}),W=Lt(p,"abort",()=>function(z,L){let F=v(z);if(F&&typeof F.type=="string"){if(F.cancelFn==null||F.data&&F.data.aborted)return;F.zone.cancelTask(F)}else if(n.current[Z]===!0)return W.apply(z,L)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&em(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(a){return function(s){nc(e,a).forEach(o=>{let l=e.PromiseRejectionEvent;if(l){let c=new l(a,{promise:s.promise,reason:s.rejection});o.invoke(c)}})}}e.PromiseRejectionEvent&&(n[xe("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[xe("rejectionHandledHandler")]=i("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,n,i)=>{om(e,i)})}function mm(t){t.__load_patch("ZoneAwarePromise",(e,n,i)=>{let a=Object.getOwnPropertyDescriptor,s=Object.defineProperty;function r(O){if(O&&O.toString===Object.prototype.toString){let E=O.constructor&&O.constructor.name;return(E||"")+": "+JSON.stringify(O)}return O?O.toString():Object.prototype.toString.call(O)}let o=i.symbol,l=[],c=e[o("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,h=o("Promise"),d=o("then"),p="__creationTrace__";i.onUnhandledError=O=>{if(i.showUncaughtError()){let E=O&&O.rejection;E?console.error("Unhandled Promise rejection:",E instanceof Error?E.message:E,"; Zone:",O.zone.name,"; Task:",O.task&&O.task.source,"; Value:",E,E instanceof Error?E.stack:void 0):console.error(O)}},i.microtaskDrainDone=()=>{for(;l.length;){let O=l.shift();try{O.zone.runGuarded(()=>{throw O.throwOriginal?O.rejection:O})}catch(E){_(E)}}};let v=o("unhandledPromiseRejectionHandler");function _(O){i.onUnhandledError(O);try{let E=n[v];typeof E=="function"&&E.call(this,O)}catch{}}function S(O){return O&&typeof O.then=="function"}function R(O){return O}function M(O){return K.reject(O)}let D=o("state"),k=o("value"),N=o("finally"),j=o("parentPromiseValue"),X=o("parentPromiseState"),Z="Promise.then",B=null,ie=!0,W=!1,z=0;function L(O,E){return T=>{try{A(O,E,T)}catch(P){A(O,!1,P)}}}let F=function(){let O=!1;return function(T){return function(){O||(O=!0,T.apply(null,arguments))}}},$="Promise resolved with itself",re=o("currentTaskTrace");function A(O,E,T){let P=F();if(O===T)throw new TypeError($);if(O[D]===B){let U=null;try{(typeof T=="object"||typeof T=="function")&&(U=T&&T.then)}catch(te){return P(()=>{A(O,!1,te)})(),O}if(E!==W&&T instanceof K&&T.hasOwnProperty(D)&&T.hasOwnProperty(k)&&T[D]!==B)g(T),A(O,T[D],T[k]);else if(E!==W&&typeof U=="function")try{U.call(T,P(L(O,E)),P(L(O,!1)))}catch(te){P(()=>{A(O,!1,te)})()}else{O[D]=E;let te=O[k];if(O[k]=T,O[N]===N&&E===ie&&(O[D]=O[X],O[k]=O[j]),E===W&&T instanceof Error){let Q=n.currentTask&&n.currentTask.data&&n.currentTask.data[p];Q&&s(T,re,{configurable:!0,enumerable:!1,writable:!0,value:Q})}for(let Q=0;Q<te.length;)x(O,te[Q++],te[Q++],te[Q++],te[Q++]);if(te.length==0&&E==W){O[D]=z;let Q=T;try{throw new Error("Uncaught (in promise): "+r(T)+(T&&T.stack?`
`+T.stack:""))}catch(oe){Q=oe}c&&(Q.throwOriginal=!0),Q.rejection=T,Q.promise=O,Q.zone=n.current,Q.task=n.currentTask,l.push(Q),i.scheduleMicroTask()}}}return O}let C=o("rejectionHandledHandler");function g(O){if(O[D]===z){try{let E=n[C];E&&typeof E=="function"&&E.call(this,{rejection:O[k],promise:O})}catch{}O[D]=W;for(let E=0;E<l.length;E++)O===l[E].promise&&l.splice(E,1)}}function x(O,E,T,P,U){g(O);let te=O[D],Q=te?typeof P=="function"?P:R:typeof U=="function"?U:M;E.scheduleMicroTask(Z,()=>{try{let oe=O[k],ce=!!T&&N===T[N];ce&&(T[j]=oe,T[X]=te);let he=E.run(Q,void 0,ce&&Q!==M&&Q!==R?[]:[oe]);A(T,!0,he)}catch(oe){A(T,!1,oe)}},T)}let V="function ZoneAwarePromise() { [native code] }",H=function(){},se=e.AggregateError;class K{static toString(){return V}static resolve(E){return E instanceof K?E:A(new this(null),ie,E)}static reject(E){return A(new this(null),W,E)}static withResolvers(){let E={};return E.promise=new K((T,P)=>{E.resolve=T,E.reject=P}),E}static any(E){if(!E||typeof E[Symbol.iterator]!="function")return Promise.reject(new se([],"All promises were rejected"));let T=[],P=0;try{for(let Q of E)P++,T.push(K.resolve(Q))}catch{return Promise.reject(new se([],"All promises were rejected"))}if(P===0)return Promise.reject(new se([],"All promises were rejected"));let U=!1,te=[];return new K((Q,oe)=>{for(let ce=0;ce<T.length;ce++)T[ce].then(he=>{U||(U=!0,Q(he))},he=>{te.push(he),P--,P===0&&(U=!0,oe(new se(te,"All promises were rejected")))})})}static race(E){let T,P,U=new this((oe,ce)=>{T=oe,P=ce});function te(oe){T(oe)}function Q(oe){P(oe)}for(let oe of E)S(oe)||(oe=this.resolve(oe)),oe.then(te,Q);return U}static all(E){return K.allWithCallback(E)}static allSettled(E){return(this&&this.prototype instanceof K?this:K).allWithCallback(E,{thenCallback:P=>({status:"fulfilled",value:P}),errorCallback:P=>({status:"rejected",reason:P})})}static allWithCallback(E,T){let P,U,te=new this((he,ve)=>{P=he,U=ve}),Q=2,oe=0,ce=[];for(let he of E){S(he)||(he=this.resolve(he));let ve=oe;try{he.then(ye=>{ce[ve]=T?T.thenCallback(ye):ye,Q--,Q===0&&P(ce)},ye=>{T?(ce[ve]=T.errorCallback(ye),Q--,Q===0&&P(ce)):U(ye)})}catch(ye){U(ye)}Q++,oe++}return Q-=2,Q===0&&P(ce),te}constructor(E){let T=this;if(!(T instanceof K))throw new Error("Must be an instanceof Promise.");T[D]=B,T[k]=[];try{let P=F();E&&E(P(L(T,ie)),P(L(T,W)))}catch(P){A(T,!1,P)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return K}then(E,T){let P=this.constructor?.[Symbol.species];(!P||typeof P!="function")&&(P=this.constructor||K);let U=new P(H),te=n.current;return this[D]==B?this[k].push(te,U,E,T):x(this,te,U,E,T),U}catch(E){return this.then(null,E)}finally(E){let T=this.constructor?.[Symbol.species];(!T||typeof T!="function")&&(T=K);let P=new T(H);P[N]=N;let U=n.current;return this[D]==B?this[k].push(U,P,E,E):x(this,U,P,E,E),P}}K.resolve=K.resolve,K.reject=K.reject,K.race=K.race,K.all=K.all;let me=e[h]=e.Promise;e.Promise=K;let Ae=o("thenPatched");function ze(O){let E=O.prototype,T=a(E,"then");if(T&&(T.writable===!1||!T.configurable))return;let P=E.then;E[d]=P,O.prototype.then=function(U,te){return new K((oe,ce)=>{P.call(this,oe,ce)}).then(U,te)},O[Ae]=!0}i.patchThen=ze;function fe(O){return function(E,T){let P=O.apply(E,T);if(P instanceof K)return P;let U=P.constructor;return U[Ae]||ze(U),P}}return me&&(ze(me),Lt(e,"fetch",O=>fe(O))),Promise[n.__symbol__("uncaughtPromiseErrors")]=l,K})}function pm(t){t.__load_patch("toString",e=>{let n=Function.prototype.toString,i=xe("OriginalDelegate"),a=xe("Promise"),s=xe("Error"),r=function(){if(typeof this=="function"){let h=this[i];if(h)return typeof h=="function"?n.call(h):Object.prototype.toString.call(h);if(this===Promise){let d=e[a];if(d)return n.call(d)}if(this===Error){let d=e[s];if(d)return n.call(d)}}return n.call(this)};r[i]=n,Function.prototype.toString=r;let o=Object.prototype.toString,l="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?l:o.call(this)}})}function gm(t,e,n,i,a){let s=Zone.__symbol__(i);if(e[s])return;let r=e[s]=e[i];e[i]=function(o,l,c){return l&&l.prototype&&a.forEach(function(h){let d=`${n}.${i}::`+h,p=l.prototype;try{if(p.hasOwnProperty(h)){let v=t.ObjectGetOwnPropertyDescriptor(p,h);v&&v.value?(v.value=t.wrapWithCurrentZone(v.value,d),t._redefineProperty(l.prototype,h,v)):p[h]&&(p[h]=t.wrapWithCurrentZone(p[h],d))}else p[h]&&(p[h]=t.wrapWithCurrentZone(p[h],d))}catch{}}),r.call(e,o,l,c)},t.attachOriginToPatched(e[i],r)}function fm(t){t.__load_patch("util",(e,n,i)=>{let a=js(e);i.patchOnProperties=Kl,i.patchMethod=Lt,i.bindArguments=er,i.patchMacroTask=im;let s=n.__symbol__("BLACK_LISTED_EVENTS"),r=n.__symbol__("UNPATCHED_EVENTS");e[r]&&(e[s]=e[r]),e[s]&&(n[s]=n[r]=e[s]),i.patchEventPrototype=rm,i.patchEventTarget=sm,i.isIEOrEdge=nm,i.ObjectDefineProperty=qs,i.ObjectGetOwnPropertyDescriptor=en,i.ObjectCreate=Uu,i.ArraySlice=Ku,i.patchClass=Ji,i.wrapWithCurrentZone=Ks,i.filterProperties=ac,i.attachOriginToPatched=Et,i._redefineProperty=Object.defineProperty,i.patchCallbacks=gm,i.getGlobalObjects=()=>({globalSources:Jl,zoneSymbolEventNames:at,eventNames:a,isBrowser:tr,isMix:Ul,isNode:sa,TRUE_STR:kt,FALSE_STR:At,ZONE_SYMBOL_PREFIX:tn,ADD_EVENT_LISTENER_STR:Zs,REMOVE_EVENT_LISTENER_STR:Us})})}function xm(t){mm(t),pm(t),fm(t)}var sc=Zu();xm(sc);um(sc);function _m(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,a=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===1?1:a===0&&n!==0&&n%1e6===0&&i===0||!(a>=0&&a<=5)?4:5}var rc=["es",[["a.\xA0m.","p.\xA0m."]],void 0,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],["DO","LU","MA","MI","JU","VI","SA"]],void 0,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],void 0,[["a. C.","d. C."],void 0,["antes de Cristo","despu\xE9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:[void 0,"$"],BRL:[void 0,"R$"],BYN:[void 0,"\u0440."],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],EGP:[],ESP:["\u20A7"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:["US$","$"],XAF:[],XCD:[void 0,"$"],XOF:[]},"ltr",_m];var ra=class t{constructor(){}intercept(e,n){if(e.url.includes("/iam/auth/login"))return n.handle(e);let a=localStorage.getItem("token");if(a){let s=e.clone({headers:e.headers.set("Authorization",`Bearer ${a}`)});return n.handle(s)}return n.handle(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=He({token:t,factory:t.\u0275fac})};var oc=(t,e)=>{let n=be($n),i=be(ki);return e(t).pipe(Vo(a=>{if(a.status===401&&!t.url.includes("/auth/login"))return n.alert("Sesi\xF3n Expirada","Su sesi\xF3n ha expirado. Por favor inicie sesi\xF3n nuevamente.").then(()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),i.navigate(["/auth/login"])}),Cs(()=>a);if(a.status===0||a.status>=500&&a.status<600){let s="No se pudo conectar con el servidor. Por favor, verifique su conexi\xF3n o intente m\xE1s tarde.";a.status!==0&&(s=`Error del servidor (${a.status}). Por favor contacte a soporte si el problema persiste.`),n.alert("Problema de Servicio",s)}return Cs(()=>a)}))};var Xt=class t{count=et(0);message=et("Cargando...");isLoading=Si(()=>this.count()>0);show(){this.count.update(e=>e+1)}hide(){this.count.update(e=>Math.max(0,e-1)),this.count()===0&&this.message.set("Cargando...")}setMessage(e){this.message.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"})};var lc=(t,e)=>{let n=be(Xt);return n.show(),e(t).pipe(No(()=>n.hide()))};var oa=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-auth-layout"]],decls:3,vars:0,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50"],[1,"w-full","max-w-md"]],template:function(n,i){n&1&&(u(0,"div",0)(1,"div",1),I(2,"router-outlet"),m()())},dependencies:[Ci],encapsulation:2})};function vm(t,e){if(t&1){let n=Te();u(0,"button",16),Y("click",function(){J(n);let a=w(2);return ee(a.cancel())}),b(1),m()}if(t&2){let n,i=w(2);f(),de(" ",((n=i.data())==null?null:n.cancelText)||"Cancelar"," ")}}function ym(t,e){if(t&1){let n=Te();u(0,"div",1)(1,"div",2),Y("click",function(){J(n);let a=w();return ee(a.cancel())}),m(),u(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),I(7,"lucide-icon",8),m(),u(8,"div",9)(9,"h3",10),b(10),m(),u(11,"div",11)(12,"p",12),b(13),m()()()()(),u(14,"div",13)(15,"button",14),Y("click",function(){J(n);let a=w();return ee(a.confirm())}),b(16),m(),G(17,vm,2,1,"button",15),m()()()()}if(t&2){let n,i,a,s,r=w();f(7),y("img",r.Icons.AlertTriangle),f(3),de(" ",((n=r.data())==null?null:n.title)||"\xBFEst\xE1s seguro?"," "),f(3),de(" ",(i=r.data())==null?null:i.message," "),f(3),de(" ",((a=r.data())==null?null:a.confirmText)||"Aceptar"," "),f(),y("ngIf",((s=r.data())==null?null:s.showCancel)!==!1)}}var la=class t{confirmService=be($n);Icons={AlertTriangle:jn,X:Ei};isOpen=this.confirmService.isOpen;data=this.confirmService.data;confirm(){this.confirmService.onConfirm()}cancel(){this.confirmService.onCancel()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-confirm-modal"]],decls:1,vars:1,consts:[["class","fixed inset-0 z-[100] overflow-y-auto","aria-labelledby","modal-title","role","dialog","aria-modal","true",4,"ngIf"],["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","inset-0","z-[100]","overflow-y-auto"],[1,"fixed","inset-0","bg-gray-900/40","backdrop-blur-sm","transition-opacity",3,"click"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"relative","transform","overflow-hidden","rounded-2xl","bg-white","text-left","shadow-2xl","transition-all","sm:my-8","sm:w-full","sm:max-w-md"],[1,"bg-white","px-4","pb-4","pt-5","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex","h-12","w-12","flex-shrink-0","items-center","justify-center","rounded-full","bg-red-50","sm:mx-0","sm:h-10","sm:w-10"],[1,"h-6","w-6","text-red-600",3,"img"],[1,"mt-3","text-center","sm:ml-4","sm:mt-0","sm:text-left"],["id","modal-title",1,"text-lg","font-semibold","leading-6","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"bg-gray-50","px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6","gap-3"],["type","button",1,"inline-flex","w-full","justify-center","rounded-xl","bg-red-600","px-4","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-red-500","sm:w-auto","transition-all",3,"click"],["type","button","class","mt-3 inline-flex w-full justify-center rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto transition-all",3,"click",4,"ngIf"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-xl","bg-white","px-4","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","sm:mt-0","sm:w-auto","transition-all",3,"click"]],template:function(n,i){n&1&&G(0,ym,18,5,"div",0),n&2&&y("ngIf",i.isOpen())},dependencies:[Ie,we,it,tt],styles:["[_nghost-%COMP%]{display:block}"]})};var ca=class t{currentError=et(null);showError(e){this.currentError.set(e)}clearError(){this.currentError.set(null)}getError(){return this.currentError()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"})};function bm(t,e){if(t&1&&(u(0,"p")(1,"span",20),b(2,"TIME:"),m(),u(3,"span",21),b(4),m()()),t&2){let n=w(4);f(4),Ce(n.error.technicalDetails.timestamp)}}function Tm(t,e){if(t&1&&(u(0,"p")(1,"span",20),b(2,"STATUS:"),m(),u(3,"span",22),b(4),m()()),t&2){let n=w(4);f(4),de("HTTP ",n.error.technicalDetails.status)}}function wm(t,e){if(t&1&&(u(0,"p")(1,"span",20),b(2,"TYPE:"),m(),u(3,"span",23),b(4),m()()),t&2){let n=w(4);f(4),Ce(n.error.technicalDetails.errorType)}}function Sm(t,e){if(t&1&&(u(0,"p")(1,"span",20),b(2,"ROUTE:"),m(),u(3,"span",24),b(4),m()()),t&2){let n=w(4);f(4),Ce(n.error.technicalDetails.path)}}function Cm(t,e){if(t&1&&(u(0,"p")(1,"span",25),b(2,"MESSAGE:"),m(),u(3,"span",26),b(4),m()()),t&2){let n=w(4);f(4),Ce(n.error.technicalDetails.rawMessage)}}function km(t,e){if(t&1&&(u(0,"span",32),b(1),m()),t&2){let n=w().$implicit;f(),de("(Recibido: ",n.rejectedValue,")")}}function Am(t,e){if(t&1&&(u(0,"li")(1,"span",22),b(2),m(),b(3),G(4,km,2,1,"span",31),m()),t&2){let n=e.$implicit;f(2),de("[",n.field,"]"),f(),de(": ",n.message," "),f(),y("ngIf",n.rejectedValue)}}function Lm(t,e){if(t&1&&(Rt(0),u(1,"div",27)(2,"span",28),b(3,"VALIDATION_ERRORS:"),m(),u(4,"ul",29),G(5,Am,5,3,"li",30),m()(),Nt()),t&2){let n=w(4);f(5),y("ngForOf",n.error.technicalDetails.validationErrors)}}function Em(t,e){if(t&1&&(u(0,"div",17)(1,"div",18),G(2,bm,5,1,"p",19)(3,Tm,5,1,"p",19)(4,wm,5,1,"p",19)(5,Sm,5,1,"p",19)(6,Cm,5,1,"p",19),m(),G(7,Lm,6,1,"ng-container",19),m()),t&2){let n=w(3);f(2),y("ngIf",n.error.technicalDetails.timestamp),f(),y("ngIf",n.error.technicalDetails.status),f(),y("ngIf",n.error.technicalDetails.errorType),f(),y("ngIf",n.error.technicalDetails.path),f(),y("ngIf",n.error.technicalDetails.rawMessage),f(),y("ngIf",n.error.technicalDetails.validationErrors&&n.error.technicalDetails.validationErrors.length>0)}}function Dm(t,e){if(t&1){let n=Te();u(0,"div",13)(1,"button",14),Y("click",function(){J(n);let a=w(2);return ee(a.toggleDetails())}),u(2,"span"),b(3,"Informaci\xF3n T\xE9cnica Avanzada"),m(),I(4,"lucide-icon",15),m(),G(5,Em,8,6,"div",16),m()}if(t&2){let n=w(2);f(4),y("img",n.showTechnicalDetails?n.icons.ChevronUp:n.icons.ChevronDown),f(),y("ngIf",n.showTechnicalDetails)}}function Fm(t,e){if(t&1){let n=Te();u(0,"div",1)(1,"div",2),Y("click",function(){J(n);let a=w();return ee(a.close())}),m(),u(2,"div",3),I(3,"div",4),u(4,"div",5)(5,"div",6),I(6,"lucide-icon",7),m(),u(7,"h2",8),b(8,"Algo sali\xF3 mal"),m(),u(9,"p",9),b(10),m()(),G(11,Dm,6,2,"div",10),u(12,"div",11)(13,"button",12),Y("click",function(){J(n);let a=w();return ee(a.close())}),b(14," Entendido, cerrar "),m()()()()}if(t&2){let n=w();f(6),y("img",n.icons.XOctagon),f(4),de(" ",n.error.businessMessage," "),f(),y("ngIf",n.error.technicalDetails)}}var ha=class t{errorService=be(ca);icons={AlertTriangle:jn,ChevronDown:bl,ChevronUp:wl,XOctagon:Ml};showTechnicalDetails=!1;get error(){return this.errorService.getError()}close(){this.showTechnicalDetails=!1,this.errorService.clearError()}toggleDetails(){this.showTechnicalDetails=!this.showTechnicalDetails}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-error-modal"]],decls:1,vars:1,consts:[["class","fixed inset-0 z-[100] flex items-center justify-center p-4",4,"ngIf"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4"],[1,"fixed","inset-0","bg-gray-900/40","backdrop-blur-sm","transition-opacity",3,"click"],[1,"bg-white","rounded-2xl","shadow-xl","w-full","max-w-lg","transform","overflow-hidden","transition-all","relative","flex","flex-col","max-h-[90vh]"],[1,"h-2","bg-red-500","w-full","flex-shrink-0"],[1,"p-6","flex","flex-col","items-center","flex-shrink-0"],[1,"w-16","h-16","bg-red-50","rounded-full","flex","items-center","justify-center","mb-4"],[1,"w-8","h-8","text-red-500",3,"img"],[1,"text-xl","font-bold","text-gray-900","text-center","mb-2"],[1,"text-gray-600","text-center","text-[15px]","leading-relaxed","max-w-sm"],["class","px-6 pb-6 overflow-y-auto",4,"ngIf"],[1,"p-6","pt-2","flex-shrink-0"],[1,"w-full","bg-gray-900","text-white","font-medium","py-3","rounded-xl","hover:bg-gray-800","transition-colors","shadow-sm","focus:ring-4","focus:ring-gray-100","focus:outline-none",3,"click"],[1,"px-6","pb-6","overflow-y-auto"],[1,"w-full","flex","items-center","justify-between","py-3","px-4","bg-gray-50","hover:bg-gray-100","rounded-lg","transition-colors","border","border-gray-100","mt-2","text-sm","text-gray-600","font-medium","group",3,"click"],[1,"w-4","h-4","text-gray-400","group-hover:text-gray-600","transition-colors",3,"img"],["class","mt-3 p-4 bg-gray-800 rounded-lg text-white font-mono text-[11px] leading-relaxed break-all overflow-x-auto selection:bg-gray-700 selection:text-white",4,"ngIf"],[1,"mt-3","p-4","bg-gray-800","rounded-lg","text-white","font-mono","text-[11px]","leading-relaxed","break-all","overflow-x-auto","selection:bg-gray-700","selection:text-white"],[1,"space-y-1.5","opacity-90"],[4,"ngIf"],[1,"text-gray-400","font-semibold","w-20","inline-block"],[1,"text-blue-300"],[1,"text-amber-300"],[1,"text-pink-300"],[1,"text-emerald-300"],[1,"text-gray-400","font-semibold","w-20","inline-block","min-w-fit"],[1,"text-gray-100"],[1,"mt-3","border-t","border-gray-700","pt-3"],[1,"text-red-400","font-bold","mb-2","block"],[1,"list-disc","pl-5","opacity-90","space-y-1"],[4,"ngFor","ngForOf"],["class","text-gray-500 text-[10px]",4,"ngIf"],[1,"text-gray-500","text-[10px]"]],template:function(n,i){n&1&&G(0,Fm,15,3,"div",0),n&2&&y("ngIf",i.error)},dependencies:[Ie,qe,we,it,tt],encapsulation:2})};var Mm=["notificationsContainer"];function Om(t,e){if(t&1){let n=Te();u(0,"div",34),Y("click",function(){J(n);let a=w();return ee(a.toggleMobileMenu())}),m()}}function Pm(t,e){if(t&1&&(u(0,"span",38),b(1),m()),t&2){let n=w().$implicit;f(),Ce(n.label)}}function Im(t,e){if(t&1){let n=Te();u(0,"a",35),Y("click",function(){J(n);let a=w();return ee(a.isMobileMenuOpen=!1)}),I(1,"lucide-icon",36),G(2,Pm,2,1,"span",37),m()}if(t&2){let n=e.$implicit,i=w();Pe("justify-center",i.isSidebarCollapsed),y("routerLink",n.route)("title",i.isSidebarCollapsed?n.label:""),f(),y("img",n.icon),f(),y("ngIf",!i.isSidebarCollapsed)}}function Vm(t,e){t&1&&(u(0,"span"),b(1,"Cerrar Sesi\xF3n"),m())}function Rm(t,e){if(t&1&&I(0,"img",39),t&2){let n,i=w();y("src",(n=i.currentUser())==null?null:n.photoUrl,zo)}}function Nm(t,e){if(t&1&&I(0,"lucide-icon",40),t&2){let n=w();y("img",n.icons.UserCircle)}}function Bm(t,e){if(t&1&&(u(0,"div",41)(1,"p",42),b(2),m(),u(3,"p",43),b(4),m()()),t&2){let n,i,a=w();f(2),de(" ",((n=a.currentUser())==null?null:n.fullName)||"Usuario"," "),f(2),de(" ",((i=a.currentUser())==null||i.roles==null?null:i.roles[0])||"Invitado"," ")}}function Gm(t,e){if(t&1&&(u(0,"span",44),I(1,"span",45),u(2,"span",46),b(3),m()()),t&2){let n=w();f(3),de(" ",n.pendingAppointments().length>9?"9+":n.pendingAppointments().length," ")}}function zm(t,e){if(t&1&&(u(0,"div",56)(1,"div",57),I(2,"lucide-icon",58),m(),u(3,"p",59),b(4,"Todo al d\xEDa"),m(),u(5,"p",60),b(6,"No hay pagos pendientes de validar."),m()()),t&2){let n=w(2);f(2),y("img",n.icons.CheckCircle)}}function Hm(t,e){if(t&1){let n=Te();u(0,"div",61),Y("click",function(){let a=J(n).$implicit,s=w(2);return ee(s.navigateToAppointment(a.appointmentId))}),I(1,"div",62),u(2,"div",23)(3,"div",63),I(4,"lucide-icon",14),m()(),u(5,"div",64)(6,"div",65)(7,"h4",66),b(8),m(),u(9,"span",67),b(10),m()(),u(11,"p",68),b(12,"Pago pendiente "),u(13,"span",69),b(14),m()(),u(15,"span",70),b(16," Revisar comprobante "),I(17,"lucide-icon",71),m()()()}if(t&2){let n=e.$implicit,i=w(2);f(4),y("img",i.icons.Zap),f(4),de(" ",n.patientName||"Paciente"),f(2),Ce(n.appointmentDate),f(4),de("(",n.paymentMethod,")"),f(3),y("img",i.icons.ChevronRight)}}function $m(t,e){if(t&1){let n=Te();u(0,"div",47)(1,"div",48)(2,"h3",49),b(3,"Validaciones"),m(),u(4,"span",50),b(5),m()(),u(6,"div",51),G(7,zm,7,1,"div",52)(8,Hm,18,5,"div",53),m(),u(9,"div",54)(10,"button",55),Y("click",function(){J(n);let a=w();return ee(a.isNotificationsOpen=!1)}),b(11,"Ocultar"),m()()()}if(t&2){let n=w();f(5),de(" ",n.pendingAppointments().length," Pendientes "),f(2),y("ngIf",n.pendingAppointments().length===0),f(),y("ngForOf",n.pendingAppointments())}}var da=class t{icons={LayoutDashboard:Ll,Calendar:Xn,Users:Li,Stethoscope:Vl,Award:vl,Clock:Wn,LogOut:Fl,Settings:Ol,Shield:Il,Menu:Yn,X:Ei,UserCircle:kl,Zap:Nl,Bell:yl,CheckCircle:Sl,ChevronRight:Tl};authService=be(Di);appointmentsService=be(Gl);router=be(ki);currentUser=this.authService.currentUser;pendingAppointments=this.appointmentsService.pendingAppointments;isNotificationsOpen=!1;featureIconMap={dashboard:this.icons.LayoutDashboard,appointments:this.icons.Calendar,patients:this.icons.Users,specialists:this.icons.Stethoscope,specialties:this.icons.Award,assignments:this.icons.Users,shifts:this.icons.Clock,roles_permissions:this.icons.Shield,subscription:this.icons.Zap,settings:this.icons.Settings};navItems=Si(()=>[...this.currentUser()?.features??[]].sort((e,n)=>e.order-n.order).map(e=>({label:e.name,icon:this.featureIconMap[e.featureKey]??this.icons.LayoutDashboard,route:e.path})));constructor(){this.appointmentsService.fetchPendingAppointments()}isMobileMenuOpen=!1;isSidebarCollapsed=!1;notificationsContainer;toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}toggleNotifications(){this.isNotificationsOpen=!this.isNotificationsOpen}onDocumentClick(e){this.isNotificationsOpen&&this.notificationsContainer&&!this.notificationsContainer.nativeElement.contains(e.target)&&(this.isNotificationsOpen=!1)}navigateToAppointment(e){this.isNotificationsOpen=!1,this.router.navigate(["/app/appointments"],{queryParams:{appointmentId:e}})}onLogout(){this.authService.logout()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-main-layout"]],viewQuery:function(n,i){if(n&1&&Bt(Mm,5),n&2){let a;_t(a=vt())&&(i.notificationsContainer=a.first)}},hostBindings:function(n,i){n&1&&Y("click",function(s){return i.onDocumentClick(s)},$o)},decls:41,vars:56,consts:[["notificationsContainer",""],[1,"flex","h-screen","bg-gray-50"],[1,"md:hidden","bg-white","shadow-sm","p-4","flex","justify-between","items-center","fixed","top-0","left-0","right-0","z-20","h-16"],[1,"text-xl","font-bold","text-blue-600"],[1,"p-2","text-gray-600","hover:bg-gray-100","rounded-lg",3,"click"],[1,"w-6","h-6",3,"img"],["class","fixed inset-0 bg-black/50 z-20 md:hidden animate-fade-in",3,"click",4,"ngIf"],[1,"bg-white","border-r","border-gray-200","flex","flex-col","fixed","h-full","z-30","transition-all","duration-300","ease-in-out","md:translate-x-0","pt-16","md:pt-0","shadow-xl","md:shadow-none"],[1,"hidden","md:flex","items-center","border-b","border-gray-100","transition-all","duration-300","ease-in-out","h-16"],[1,"flex","items-center","gap-3","overflow-hidden","transition-all","duration-300"],[1,"w-8","h-8","text-blue-600","flex-shrink-0",3,"img"],[1,"transition-all","duration-300","ease-in-out","overflow-hidden"],[1,"text-xl","font-bold","text-blue-600","tracking-tight","whitespace-nowrap"],[1,"p-2","rounded-lg","hover:bg-gray-100","text-gray-500","hover:text-gray-700","transition-colors","flex-shrink-0",3,"click","title"],[1,"w-5","h-5",3,"img"],[1,"flex-1","px-3","py-6","space-y-1","overflow-y-auto","overflow-x-hidden"],["routerLinkActive","bg-blue-50 text-blue-600","class","flex items-center gap-3 px-3 py-3 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 transition-colors group whitespace-nowrap",3,"routerLink","title","justify-center","click",4,"ngFor","ngForOf"],[1,"p-3","border-t","border-gray-100"],[1,"flex","items-center","gap-3","px-3","py-3","text-sm","font-medium","text-red-600","rounded-lg","hover:bg-red-50","transition-colors","whitespace-nowrap","cursor-pointer",3,"click","title"],[1,"w-5","h-5","flex-shrink-0",3,"img"],[4,"ngIf"],["routerLink","/app/profile",1,"p-4","border-t","border-gray-100","bg-gray-50","overflow-hidden","cursor-pointer","hover:bg-gray-100","transition-colors",3,"title"],[1,"flex","items-center","gap-3"],[1,"flex-shrink-0"],["class","h-10 w-10 rounded-full bg-gray-300 object-cover","alt","Profile",3,"src",4,"ngIf"],["class","h-10 w-10 text-gray-400",3,"img",4,"ngIf"],["class","flex-1 min-w-0",4,"ngIf"],[1,"flex-1","ml-0","transition-all","duration-300","ease-in-out","md:ml-64","overflow-y-auto","h-full","pt-16","md:pt-0"],[1,"hidden","md:flex","items-center","justify-between","px-8","py-4","bg-white","border-b","border-gray-200","sticky","top-0","z-10","transition-shadow"],[1,"flex","items-center","gap-4","relative"],[1,"relative","p-2.5","rounded-xl","bg-white","border","border-gray-200","text-gray-600","hover:text-blue-600","hover:border-blue-200","hover:shadow-md","transition-all","focus:outline-none","shadow-sm",3,"click"],["class","absolute -top-1 -right-1 flex h-5 w-5",4,"ngIf"],["class","absolute top-full right-0 mt-3 w-80 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-50 animate-fade-in-up origin-top-right ring-1 ring-black/5",4,"ngIf"],[1,"p-4","sm:p-8","max-w-7xl","mx-auto"],[1,"fixed","inset-0","bg-black/50","z-20","md:hidden","animate-fade-in",3,"click"],["routerLinkActive","bg-blue-50 text-blue-600",1,"flex","items-center","gap-3","px-3","py-3","text-sm","font-medium","text-gray-600","rounded-lg","hover:bg-gray-50","transition-colors","group","whitespace-nowrap",3,"click","routerLink","title"],[1,"w-5","h-5","group-hover:text-blue-600","transition-colors","flex-shrink-0",3,"img"],["class","transition-opacity duration-200",4,"ngIf"],[1,"transition-opacity","duration-200"],["alt","Profile",1,"h-10","w-10","rounded-full","bg-gray-300","object-cover",3,"src"],[1,"h-10","w-10","text-gray-400",3,"img"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500","truncate"],[1,"absolute","-top-1","-right-1","flex","h-5","w-5"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-5","w-5","bg-red-500","text-[10px]","text-white","font-bold","items-center","justify-center","border-2","border-white","shadow-sm"],[1,"absolute","top-full","right-0","mt-3","w-80","bg-white","rounded-2xl","shadow-2xl","border","border-gray-100","overflow-hidden","z-50","animate-fade-in-up","origin-top-right","ring-1","ring-black/5"],[1,"p-4","border-b","border-gray-100","bg-gray-50/80","backdrop-blur-sm","flex","justify-between","items-center"],[1,"text-xs","font-bold","text-gray-500","uppercase","tracking-widest"],[1,"text-[10px]","bg-blue-100","text-blue-700","px-2","py-0.5","rounded-full","font-bold","border","border-blue-200"],[1,"max-h-[320px]","overflow-y-auto","custom-scrollbar","bg-white"],["class","p-8 text-center text-gray-400 flex flex-col items-center",4,"ngIf"],["class","p-4 border-b border-gray-50 hover:bg-blue-50/50 cursor-pointer transition-colors group flex gap-3 relative overflow-hidden",3,"click",4,"ngFor","ngForOf"],[1,"p-2","border-t","border-gray-100","bg-gray-50","text-center"],[1,"w-full","py-1.5","text-xs","font-bold","text-gray-500","hover:text-gray-800","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],[1,"p-8","text-center","text-gray-400","flex","flex-col","items-center"],[1,"w-12","h-12","bg-gray-50","rounded-full","flex","items-center","justify-center","mb-3"],[1,"w-6","h-6","text-gray-300",3,"img"],[1,"text-sm","font-medium"],[1,"text-xs","mt-1"],[1,"p-4","border-b","border-gray-50","hover:bg-blue-50/50","cursor-pointer","transition-colors","group","flex","gap-3","relative","overflow-hidden",3,"click"],[1,"absolute","left-0","top-0","bottom-0","w-1","bg-yellow-400","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"w-10","h-10","rounded-full","bg-yellow-50","border","border-yellow-100","flex","items-center","justify-center","text-yellow-600","shadow-sm","group-hover:scale-110","transition-transform","duration-200"],[1,"flex-1","min-w-0","pt-0.5"],[1,"flex","justify-between","items-start","mb-0.5"],[1,"text-sm","font-bold","text-gray-900","truncate","pr-2","group-hover:text-blue-700","transition-colors"],[1,"text-[10px]","font-medium","text-gray-400","whitespace-nowrap"],[1,"text-xs","text-gray-500","mb-2"],[1,"font-bold","text-gray-700"],[1,"inline-flex","items-center","text-[10px]","font-bold","text-blue-600","group-hover:underline","decoration-blue-300","underline-offset-2","transition-all"],[1,"w-3","h-3","ml-0.5",3,"img"]],template:function(n,i){if(n&1){let a=Te();u(0,"div",1)(1,"div",2)(2,"h1",3),b(3,"MediAgenda"),m(),u(4,"button",4),Y("click",function(){return J(a),ee(i.toggleMobileMenu())}),I(5,"lucide-icon",5),m()(),G(6,Om,1,0,"div",6),u(7,"aside",7)(8,"div",8)(9,"div",9),I(10,"lucide-icon",10),u(11,"div",11)(12,"h1",12),b(13,"MediAgenda"),m()()(),u(14,"button",13),Y("click",function(){return J(a),ee(i.toggleSidebar())}),I(15,"lucide-icon",14),m()(),u(16,"nav",15),G(17,Im,3,6,"a",16),m(),u(18,"div",17)(19,"a",18),Y("click",function(){return J(a),ee(i.onLogout())}),I(20,"lucide-icon",19),G(21,Vm,2,0,"span",20),m()(),u(22,"div",21)(23,"div",22)(24,"div",23),G(25,Rm,1,1,"img",24)(26,Nm,1,1,"lucide-icon",25),m(),G(27,Bm,5,2,"div",26),m()()(),u(28,"main",27)(29,"header",28),I(30,"div"),u(31,"div",29,0)(33,"button",30),Y("click",function(){return J(a),ee(i.toggleNotifications())}),I(34,"lucide-icon",14),G(35,Gm,4,1,"span",31),m(),G(36,$m,12,3,"div",32),m()(),u(37,"div",33),I(38,"router-outlet"),m()(),I(39,"app-confirm-modal")(40,"app-error-modal"),m()}if(n&2){let a,s;f(5),y("img",i.isMobileMenuOpen?i.icons.X:i.icons.Menu),f(),y("ngIf",i.isMobileMenuOpen),f(),Pe("translate-x-0",i.isMobileMenuOpen)("-translate-x-full",!i.isMobileMenuOpen)("w-64",!i.isSidebarCollapsed)("w-20",i.isSidebarCollapsed),f(),Pe("px-4",!i.isSidebarCollapsed)("px-0",i.isSidebarCollapsed)("justify-between",!i.isSidebarCollapsed)("justify-center",i.isSidebarCollapsed)("gap-2",i.isSidebarCollapsed),f(),Pe("w-auto",!i.isSidebarCollapsed)("w-auto",i.isSidebarCollapsed)("pl-2",i.isSidebarCollapsed),f(),y("img",i.icons.Stethoscope),f(),Pe("w-full",!i.isSidebarCollapsed)("w-0",i.isSidebarCollapsed)("opacity-100",!i.isSidebarCollapsed)("opacity-0",i.isSidebarCollapsed),f(3),y("title",i.isSidebarCollapsed?"Expandir men\xFA":"Contraer men\xFA"),f(),y("img",i.icons.Menu),f(2),y("ngForOf",i.navItems()),f(2),Pe("justify-center",i.isSidebarCollapsed),y("title",i.isSidebarCollapsed?"Cerrar Sesi\xF3n":""),f(),y("img",i.icons.LogOut),f(),y("ngIf",!i.isSidebarCollapsed),f(),y("title","Ver mi perfil"),f(),Pe("justify-center",i.isSidebarCollapsed),f(2),y("ngIf",(a=i.currentUser())==null?null:a.photoUrl),f(),y("ngIf",!((s=i.currentUser())!=null&&s.photoUrl)),f(),y("ngIf",!i.isSidebarCollapsed),f(),Pe("md:ml-64",!i.isSidebarCollapsed)("md:ml-20",i.isSidebarCollapsed),f(6),y("img",i.icons.Bell),f(),y("ngIf",i.pendingAppointments().length>0),f(),y("ngIf",i.isNotificationsOpen)}},dependencies:[Ie,qe,we,Ci,Ai,gl,it,tt,la,ha],encapsulation:2})};function Wm(t,e){if(t&1&&(u(0,"div",24)(1,"span",25),b(2,"Error:"),m(),b(3),m()),t&2){let n=w();f(3),de(" ",n.errorMessage()," ")}}function Ym(t,e){if(t&1&&I(0,"lucide-icon",26),t&2){let n=w();y("img",n.LoaderIcon)}}var ua=class t{constructor(e){this.authService=e}LogInIcon=Dl;LoaderIcon=El;email="";password="";errorMessage=et("");isLoading=et(!1);loadingService=be(Xt);onLogin(){this.email&&this.password&&(this.errorMessage.set(""),this.isLoading.set(!0),this.loadingService.setMessage("Iniciando sesi\xF3n..."),this.authService.login({email:this.email,password:this.password}).subscribe({next:()=>{this.isLoading.set(!1)},error:e=>{this.isLoading.set(!1),e.status===400?this.errorMessage.set("Usuario o contrase\xF1a incorrectos"):e.status===403&&e.code==="NO_FEATURES"?this.errorMessage.set("No tiene m\xF3dulos asignados. Contacte al administrador."):e.status===403?this.errorMessage.set("Usuario inactivo. Contacte al administrador."):this.errorMessage.set("Ocurri\xF3 un error inesperado al iniciar sesi\xF3n")}}))}static \u0275fac=function(n){return new(n||t)(Se(Di))};static \u0275cmp=le({type:t,selectors:[["app-login"]],decls:42,vars:7,consts:[[1,"flex","flex-col","items-center","justify-center","w-full","px-4","py-8"],[1,"w-full","max-w-sm","bg-white","rounded-2xl","shadow-xl","p-8","border","border-gray-100"],[1,"flex","flex-col","items-center","mb-8"],[1,"w-16","h-16","bg-blue-600","rounded-XL","flex","items-center","justify-center","text-white","mb-4","rounded-2xl","shadow-lg","shadow-blue-200"],[1,"w-8","h-8",3,"img"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500","text-sm","mt-1"],[1,"space-y-4"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 rounded-lg","role","alert",4,"ngIf"],[1,"space-y-4",3,"ngSubmit"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","name","email","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","sm:text-sm","border","p-2",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","name","password","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","sm:text-sm","border","p-2",3,"ngModelChange","ngModel"],[1,"flex","justify-end","mt-1"],["routerLink","/auth/recover-password",1,"text-sm","text-blue-600","hover:text-blue-500"],["type","submit",1,"w-full","flex","items-center","justify-center","gap-2","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-60","disabled:cursor-not-allowed",3,"disabled"],["class","w-4 h-4 animate-spin",3,"img",4,"ngIf"],[1,"relative","flex","items-center","py-2"],[1,"flex-grow","border-t","border-gray-200"],[1,"flex-shrink-0","mx-4","text-gray-400","text-xs","uppercase"],[1,"text-center","text-xs","text-gray-400","px-4"],["href","#",1,"text-blue-600","hover:underline"],[1,"mt-8","text-center","text-gray-400","text-sm"],["role","alert",1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","rounded-lg"],[1,"font-medium"],[1,"w-4","h-4","animate-spin",3,"img"]],template:function(n,i){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(4,"lucide-icon",4),m(),u(5,"h1",5),b(6,"Bienvenido"),m(),u(7,"p",6),b(8,"Inicia sesi\xF3n para gestionar tu cl\xEDnica"),m()(),u(9,"div",7),G(10,Wm,4,1,"div",8),u(11,"form",9),Y("ngSubmit",function(){return i.onLogin()}),u(12,"div")(13,"label",10),b(14,"Email"),m(),u(15,"input",11),$t("ngModelChange",function(s){return Ht(i.email,s)||(i.email=s),s}),m()(),u(16,"div")(17,"label",12),b(18,"Contrase\xF1a"),m(),u(19,"input",13),$t("ngModelChange",function(s){return Ht(i.password,s)||(i.password=s),s}),m(),u(20,"div",14)(21,"a",15),b(22,"\xBFOlvidaste tu contrase\xF1a?"),m()()(),u(23,"button",16),G(24,Ym,1,1,"lucide-icon",17),b(25),m()(),u(26,"div",18),I(27,"div",19),u(28,"span",20),b(29,"Seguro & Privado"),m(),I(30,"div",19),m(),u(31,"p",21),b(32," Al ingresar aceptas nuestros "),u(33,"a",22),b(34,"T\xE9rminos de Servicio"),m(),b(35," y "),u(36,"a",22),b(37,"Pol\xEDtica de Privacidad"),m(),b(38,". "),m()()(),u(39,"div",23)(40,"p"),b(41,"\xA9 2026 MediAgenda. Todos los derechos reservados."),m()()()),n&2&&(f(4),y("img",i.LogInIcon),f(6),y("ngIf",i.errorMessage()),f(5),zt("ngModel",i.email),f(4),zt("ngModel",i.password),f(4),y("disabled",i.isLoading()),f(),y("ngIf",i.isLoading()),f(),de(" ",i.isLoading()?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," "))},dependencies:[Ie,we,it,tt,ta,Jn,qn,Qn,Zn,ea,Kn,Un,Ai],encapsulation:2})};var sn=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},rn=class extends sn{component;viewContainerRef;injector;projectableNodes;constructor(e,n,i,a){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.projectableNodes=a}},ir=class extends sn{templateRef;viewContainerRef;context;injector;constructor(e,n,i,a){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=a}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},nr=class extends sn{element;constructor(e){super(),this.element=e instanceof xt?e.nativeElement:e}},ar=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof rn)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ir)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof nr)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},ma=class extends ar{outletElement;_appRef;_defaultInjector;constructor(e,n,i){super(),this.outletElement=e,this._appRef=n,this._defaultInjector=i}attachComponentPortal(e){let n;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,a=i.get(Yo,null,{optional:!0})||void 0;n=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:a,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let i=this._appRef,a=e.injector||this._defaultInjector||zn.NULL,s=a.get(Bo,i.injector);n=sl(e.component,{elementInjector:a,environmentInjector:s,projectableNodes:e.projectableNodes||void 0}),i.attachView(n.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(a=>this.outletElement.appendChild(a)),i.detectChanges(),this.setDisposeFn(()=>{let a=n.indexOf(i);a!==-1&&n.remove(a)}),this._attachedPortal=e,i}attachDomPortal=e=>{let n=e.element;n.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");n.parentNode.insertBefore(i,n),this.outletElement.appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var ne=(function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t})(ne||{}),st="*";function sr(t,e){return{type:ne.Trigger,name:t,definitions:e,options:{}}}function rr(t,e=null){return{type:ne.Animate,styles:e,timings:t}}function cc(t,e=null){return{type:ne.Sequence,steps:t,options:e}}function si(t){return{type:ne.Style,styles:t,offset:null}}function or(t,e,n=null){return{type:ne.Transition,expr:t,animation:e,options:n}}var bt=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},ai=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,i=0,a=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++n==s&&this._onFinish()}),r.onDestroy(()=>{++i==s&&this._onDestroy()}),r.onStart(()=>{++a==s&&this._onStart()})}),this.totalTime=this.players.reduce((r,o)=>Math.max(r,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let a=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(a)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Oi="!";var pa="http://www.w3.org/1999/xhtml",lr={svg:"http://www.w3.org/2000/svg",xhtml:pa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lr.hasOwnProperty(e)?{space:lr[e],local:t}:t}function jm(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pa&&e.documentElement.namespaceURI===pa?e.createElement(t):e.createElementNS(n,t)}}function qm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ga(t){var e=Dt(t);return(e.local?qm:jm)(e)}function Qm(){}function ri(t){return t==null?Qm:function(){return this.querySelector(t)}}function hc(t){typeof t!="function"&&(t=ri(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],r=s.length,o=i[a]=new Array(r),l,c,h=0;h<r;++h)(l=s[h])&&(c=t.call(l,l.__data__,h,s))&&("__data__"in l&&(c.__data__=l.__data__),o[h]=c);return new Le(i,this._parents)}function cr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Zm(){return[]}function on(t){return t==null?Zm:function(){return this.querySelectorAll(t)}}function Um(t){return function(){return cr(t.apply(this,arguments))}}function dc(t){typeof t=="function"?t=Um(t):t=on(t);for(var e=this._groups,n=e.length,i=[],a=[],s=0;s<n;++s)for(var r=e[s],o=r.length,l,c=0;c<o;++c)(l=r[c])&&(i.push(t.call(l,l.__data__,c,r)),a.push(l));return new Le(i,a)}function ln(t){return function(){return this.matches(t)}}function fa(t){return function(e){return e.matches(t)}}var Km=Array.prototype.find;function Jm(t){return function(){return Km.call(this.children,t)}}function ep(){return this.firstElementChild}function uc(t){return this.select(t==null?ep:Jm(typeof t=="function"?t:fa(t)))}var tp=Array.prototype.filter;function ip(){return Array.from(this.children)}function np(t){return function(){return tp.call(this.children,t)}}function mc(t){return this.selectAll(t==null?ip:np(typeof t=="function"?t:fa(t)))}function pc(t){typeof t!="function"&&(t=ln(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],r=s.length,o=i[a]=[],l,c=0;c<r;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new Le(i,this._parents)}function xa(t){return new Array(t.length)}function gc(){return new Le(this._enter||this._groups.map(xa),this._parents)}function cn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}cn.prototype={constructor:cn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fc(t){return function(){return t}}function ap(t,e,n,i,a,s){for(var r=0,o,l=e.length,c=s.length;r<c;++r)(o=e[r])?(o.__data__=s[r],i[r]=o):n[r]=new cn(t,s[r]);for(;r<l;++r)(o=e[r])&&(a[r]=o)}function sp(t,e,n,i,a,s,r){var o,l,c=new Map,h=e.length,d=s.length,p=new Array(h),v;for(o=0;o<h;++o)(l=e[o])&&(p[o]=v=r.call(l,l.__data__,o,e)+"",c.has(v)?a[o]=l:c.set(v,l));for(o=0;o<d;++o)v=r.call(t,s[o],o,s)+"",(l=c.get(v))?(i[o]=l,l.__data__=s[o],c.delete(v)):n[o]=new cn(t,s[o]);for(o=0;o<h;++o)(l=e[o])&&c.get(p[o])===l&&(a[o]=l)}function rp(t){return t.__data__}function xc(t,e){if(!arguments.length)return Array.from(this,rp);var n=e?sp:ap,i=this._parents,a=this._groups;typeof t!="function"&&(t=fc(t));for(var s=a.length,r=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var h=i[c],d=a[c],p=d.length,v=op(t.call(h,h&&h.__data__,c,i)),_=v.length,S=o[c]=new Array(_),R=r[c]=new Array(_),M=l[c]=new Array(p);n(h,d,S,R,M,v,e);for(var D=0,k=0,N,j;D<_;++D)if(N=S[D]){for(D>=k&&(k=D+1);!(j=R[k])&&++k<_;);N._next=j||null}}return r=new Le(r,i),r._enter=o,r._exit=l,r}function op(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _c(){return new Le(this._exit||this._groups.map(xa),this._parents)}function vc(t,e,n){var i=this.enter(),a=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?s.remove():n(s),i&&a?i.merge(a).order():a}function yc(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,a=n.length,s=i.length,r=Math.min(a,s),o=new Array(a),l=0;l<r;++l)for(var c=n[l],h=i[l],d=c.length,p=o[l]=new Array(d),v,_=0;_<d;++_)(v=c[_]||h[_])&&(p[_]=v);for(;l<a;++l)o[l]=n[l];return new Le(o,this._parents)}function bc(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],a=i.length-1,s=i[a],r;--a>=0;)(r=i[a])&&(s&&r.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(r,s),s=r);return this}function Tc(t){t||(t=lp);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s){for(var r=n[s],o=r.length,l=a[s]=new Array(o),c,h=0;h<o;++h)(c=r[h])&&(l[h]=c);l.sort(e)}return new Le(a,this._parents).order()}function lp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wc(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Sc(){return Array.from(this)}function Cc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],a=0,s=i.length;a<s;++a){var r=i[a];if(r)return r}return null}function kc(){let t=0;for(let e of this)++t;return t}function Ac(){return!this.node()}function Lc(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],s=0,r=a.length,o;s<r;++s)(o=a[s])&&t.call(o,o.__data__,s,a);return this}function cp(t){return function(){this.removeAttribute(t)}}function hp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dp(t,e){return function(){this.setAttribute(t,e)}}function up(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function mp(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function pp(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ec(t,e){var n=Dt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?hp:cp:typeof e=="function"?n.local?pp:mp:n.local?up:dp)(n,e))}function _a(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gp(t){return function(){this.style.removeProperty(t)}}function fp(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xp(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Dc(t,e,n){return arguments.length>1?this.each((e==null?gp:typeof e=="function"?xp:fp)(t,e,n??"")):Yt(this.node(),t)}function Yt(t,e){return t.style.getPropertyValue(e)||_a(t).getComputedStyle(t,null).getPropertyValue(e)}function _p(t){return function(){delete this[t]}}function vp(t,e){return function(){this[t]=e}}function yp(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Fc(t,e){return arguments.length>1?this.each((e==null?_p:typeof e=="function"?yp:vp)(t,e)):this.node()[t]}function Mc(t){return t.trim().split(/^|\s+/)}function hr(t){return t.classList||new Oc(t)}function Oc(t){this._node=t,this._names=Mc(t.getAttribute("class")||"")}Oc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pc(t,e){for(var n=hr(t),i=-1,a=e.length;++i<a;)n.add(e[i])}function Ic(t,e){for(var n=hr(t),i=-1,a=e.length;++i<a;)n.remove(e[i])}function bp(t){return function(){Pc(this,t)}}function Tp(t){return function(){Ic(this,t)}}function wp(t,e){return function(){(e.apply(this,arguments)?Pc:Ic)(this,t)}}function Vc(t,e){var n=Mc(t+"");if(arguments.length<2){for(var i=hr(this.node()),a=-1,s=n.length;++a<s;)if(!i.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?wp:e?bp:Tp)(n,e))}function Sp(){this.textContent=""}function Cp(t){return function(){this.textContent=t}}function kp(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Rc(t){return arguments.length?this.each(t==null?Sp:(typeof t=="function"?kp:Cp)(t)):this.node().textContent}function Ap(){this.innerHTML=""}function Lp(t){return function(){this.innerHTML=t}}function Ep(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Nc(t){return arguments.length?this.each(t==null?Ap:(typeof t=="function"?Ep:Lp)(t)):this.node().innerHTML}function Dp(){this.nextSibling&&this.parentNode.appendChild(this)}function Bc(){return this.each(Dp)}function Fp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gc(){return this.each(Fp)}function zc(t){var e=typeof t=="function"?t:ga(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Mp(){return null}function Hc(t,e){var n=typeof t=="function"?t:ga(t),i=e==null?Mp:typeof e=="function"?e:ri(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Op(){var t=this.parentNode;t&&t.removeChild(this)}function $c(){return this.each(Op)}function Pp(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ip(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xc(t){return this.select(t?Ip:Pp)}function Wc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Vp(t){return function(e){t.call(this,e,this.__data__)}}function Rp(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Np(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,a=e.length,s;n<a;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Bp(t,e,n){return function(){var i=this.__on,a,s=Vp(e);if(i){for(var r=0,o=i.length;r<o;++r)if((a=i[r]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=e;return}}this.addEventListener(t.type,s,n),a={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(a):this.__on=[a]}}function Yc(t,e,n){var i=Rp(t+""),a,s=i.length,r;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,h;l<c;++l)for(a=0,h=o[l];a<s;++a)if((r=i[a]).type===h.type&&r.name===h.name)return h.value}return}for(o=e?Bp:Np,a=0;a<s;++a)this.each(o(i[a],e,n));return this}function jc(t,e,n){var i=_a(t),a=i.CustomEvent;typeof a=="function"?a=new a(e,n):(a=i.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function Gp(t,e){return function(){return jc(this,t,e)}}function zp(t,e){return function(){return jc(this,t,e.apply(this,arguments))}}function qc(t,e){return this.each((typeof e=="function"?zp:Gp)(t,e))}function*Qc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],a=0,s=i.length,r;a<s;++a)(r=i[a])&&(yield r)}var dr=[null];function Le(t,e){this._groups=t,this._parents=e}function Zc(){return new Le([[document.documentElement]],dr)}function Hp(){return this}Le.prototype=Zc.prototype={constructor:Le,select:hc,selectAll:dc,selectChild:uc,selectChildren:mc,filter:pc,data:xc,enter:gc,exit:_c,join:vc,merge:yc,selection:Hp,order:bc,sort:Tc,call:wc,nodes:Sc,node:Cc,size:kc,empty:Ac,each:Lc,attr:Ec,style:Dc,property:Fc,classed:Vc,text:Rc,html:Nc,raise:Bc,lower:Gc,append:zc,insert:Hc,remove:$c,clone:Xc,datum:Wc,on:Yc,dispatch:qc,[Symbol.iterator]:Qc};var Ft=Zc;function oi(t){return typeof t=="string"?new Le([[document.querySelector(t)]],[document.documentElement]):new Le([[t]],dr)}var $p={value:()=>{}};function Kc(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new va(n)}function va(t){this._=t}function Xp(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");if(a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}va.prototype=Kc.prototype={constructor:va,on:function(t,e){var n=this._,i=Xp(t+"",n),a,s=-1,r=i.length;if(arguments.length<2){for(;++s<r;)if((a=(t=i[s]).type)&&(a=Wp(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<r;)if(a=(t=i[s]).type)n[a]=Uc(n[a],t.name,e);else if(e==null)for(a in n)n[a]=Uc(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new va(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,s;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,a=s.length;i<a;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],a=0,s=i.length;a<s;++a)i[a].value.apply(e,n)}};function Wp(t,e){for(var n=0,i=t.length,a;n<i;++n)if((a=t[n]).name===e)return a.value}function Uc(t,e,n){for(var i=0,a=t.length;i<a;++i)if(t[i].name===e){t[i]=$p,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var ur=Kc;function ya(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function un(){}var hn=.7,wa=1/hn,Pi="\\s*([+-]?\\d+)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yp=/^#([0-9a-f]{3,8})$/,jp=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),qp=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Qp=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${dn}\\)$`),Zp=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${dn}\\)$`),Up=new RegExp(`^hsl\\(${dn},${Tt},${Tt}\\)$`),Kp=new RegExp(`^hsla\\(${dn},${Tt},${Tt},${dn}\\)$`),Jc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ya(un,ht,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eh,formatHex:eh,formatHex8:Jp,formatHsl:eg,formatRgb:th,toString:th});function eh(){return this.rgb().formatHex()}function Jp(){return this.rgb().formatHex8()}function eg(){return oh(this).formatHsl()}function th(){return this.rgb().formatRgb()}function ht(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Yp.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ih(e):n===3?new Qe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jp.exec(t))?new Qe(e[1],e[2],e[3],1):(e=qp.exec(t))?new Qe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qp.exec(t))?ba(e[1],e[2],e[3],e[4]):(e=Zp.exec(t))?ba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Up.exec(t))?sh(e[1],e[2]/100,e[3]/100,1):(e=Kp.exec(t))?sh(e[1],e[2]/100,e[3]/100,e[4]):Jc.hasOwnProperty(t)?ih(Jc[t]):t==="transparent"?new Qe(NaN,NaN,NaN,0):null}function ih(t){return new Qe(t>>16&255,t>>8&255,t&255,1)}function ba(t,e,n,i){return i<=0&&(t=e=n=NaN),new Qe(t,e,n,i)}function tg(t){return t instanceof un||(t=ht(t)),t?(t=t.rgb(),new Qe(t.r,t.g,t.b,t.opacity)):new Qe}function Ii(t,e,n,i){return arguments.length===1?tg(t):new Qe(t,e,n,i??1)}function Qe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}ya(Qe,Ii,mr(un,{brighter(t){return t=t==null?wa:Math.pow(wa,t),new Qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hn:Math.pow(hn,t),new Qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qe(ci(this.r),ci(this.g),ci(this.b),Sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nh,formatHex:nh,formatHex8:ig,formatRgb:ah,toString:ah}));function nh(){return`#${li(this.r)}${li(this.g)}${li(this.b)}`}function ig(){return`#${li(this.r)}${li(this.g)}${li(this.b)}${li((isNaN(this.opacity)?1:this.opacity)*255)}`}function ah(){let t=Sa(this.opacity);return`${t===1?"rgb(":"rgba("}${ci(this.r)}, ${ci(this.g)}, ${ci(this.b)}${t===1?")":`, ${t})`}`}function Sa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ci(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function li(t){return t=ci(t),(t<16?"0":"")+t.toString(16)}function sh(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ct(t,e,n,i)}function oh(t){if(t instanceof ct)return new ct(t.h,t.s,t.l,t.opacity);if(t instanceof un||(t=ht(t)),!t)return new ct;if(t instanceof ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,a=Math.min(e,n,i),s=Math.max(e,n,i),r=NaN,o=s-a,l=(s+a)/2;return o?(e===s?r=(n-i)/o+(n<i)*6:n===s?r=(i-e)/o+2:r=(e-n)/o+4,o/=l<.5?s+a:2-s-a,r*=60):o=l>0&&l<1?0:r,new ct(r,o,l,t.opacity)}function lh(t,e,n,i){return arguments.length===1?oh(t):new ct(t,e,n,i??1)}function ct(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}ya(ct,lh,mr(un,{brighter(t){return t=t==null?wa:Math.pow(wa,t),new ct(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hn:Math.pow(hn,t),new ct(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,a=2*n-i;return new Qe(pr(t>=240?t-240:t+120,a,i),pr(t,a,i),pr(t<120?t+240:t-120,a,i),this.opacity)},clamp(){return new ct(rh(this.h),Ta(this.s),Ta(this.l),Sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Sa(this.opacity);return`${t===1?"hsl(":"hsla("}${rh(this.h)}, ${Ta(this.s)*100}%, ${Ta(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rh(t){return t=(t||0)%360,t<0?t+360:t}function Ta(t){return Math.max(0,Math.min(1,t||0))}function pr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function gr(t,e,n,i,a){var s=t*t,r=s*t;return((1-3*t+3*s-r)*e+(4-6*s+3*r)*n+(1+3*t+3*s-3*r)*i+r*a)/6}function ch(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[i],s=t[i+1],r=i>0?t[i-1]:2*a-s,o=i<e-1?t[i+2]:2*s-a;return gr((n-i/e)*e,r,a,s,o)}}function hh(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),a=t[(i+e-1)%e],s=t[i%e],r=t[(i+1)%e],o=t[(i+2)%e];return gr((n-i/e)*e,a,s,r,o)}}var mn=t=>()=>t;function ng(t,e){return function(n){return t+n*e}}function ag(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function dh(t){return(t=+t)==1?Ca:function(e,n){return n-e?ag(e,n,t):mn(isNaN(e)?n:e)}}function Ca(t,e){var n=e-t;return n?ng(t,n):mn(isNaN(t)?e:t)}var hi=(function t(e){var n=dh(e);function i(a,s){var r=n((a=Ii(a)).r,(s=Ii(s)).r),o=n(a.g,s.g),l=n(a.b,s.b),c=Ca(a.opacity,s.opacity);return function(h){return a.r=r(h),a.g=o(h),a.b=l(h),a.opacity=c(h),a+""}}return i.gamma=t,i})(1);function uh(t){return function(e){var n=e.length,i=new Array(n),a=new Array(n),s=new Array(n),r,o;for(r=0;r<n;++r)o=Ii(e[r]),i[r]=o.r||0,a[r]=o.g||0,s[r]=o.b||0;return i=t(i),a=t(a),s=t(s),o.opacity=1,function(l){return o.r=i(l),o.g=a(l),o.b=s(l),o+""}}}var sg=uh(ch),rg=uh(hh);function mh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),a;return function(s){for(a=0;a<n;++a)i[a]=t[a]*(1-s)+e[a]*s;return i}}function ph(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gh(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,a=new Array(i),s=new Array(n),r;for(r=0;r<i;++r)a[r]=dt(t[r],e[r]);for(;r<n;++r)s[r]=e[r];return function(o){for(r=0;r<i;++r)s[r]=a[r](o);return s}}function fh(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Ve(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xh(t,e){var n={},i={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=dt(t[a],e[a]):i[a]=e[a];return function(s){for(a in n)i[a]=n[a](s);return i}}var xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fr=new RegExp(xr.source,"g");function og(t){return function(){return t}}function lg(t){return function(e){return t(e)+""}}function pn(t,e){var n=xr.lastIndex=fr.lastIndex=0,i,a,s,r=-1,o=[],l=[];for(t=t+"",e=e+"";(i=xr.exec(t))&&(a=fr.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),o[r]?o[r]+=s:o[++r]=s),(i=i[0])===(a=a[0])?o[r]?o[r]+=a:o[++r]=a:(o[++r]=null,l.push({i:r,x:Ve(i,a)})),n=fr.lastIndex;return n<e.length&&(s=e.slice(n),o[r]?o[r]+=s:o[++r]=s),o.length<2?l[0]?lg(l[0].x):og(e):(e=l.length,function(c){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(c);return o.join("")})}function dt(t,e){var n=typeof e,i;return e==null||n==="boolean"?mn(e):(n==="number"?Ve:n==="string"?(i=ht(e))?(e=i,hi):pn:e instanceof ht?hi:e instanceof Date?fh:ph(e)?mh:Array.isArray(e)?gh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xh:Ve)(t,e)}function _r(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var _h=180/Math.PI,ka={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vr(t,e,n,i,a,s){var r,o,l;return(r=Math.sqrt(t*t+e*e))&&(t/=r,e/=r),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),t*i<e*n&&(t=-t,e=-e,l=-l,r=-r),{translateX:a,translateY:s,rotate:Math.atan2(e,t)*_h,skewX:Math.atan(l)*_h,scaleX:r,scaleY:o}}var Aa;function vh(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ka:vr(e.a,e.b,e.c,e.d,e.e,e.f)}function yh(t){return t==null?ka:(Aa||(Aa=document.createElementNS("http://www.w3.org/2000/svg","g")),Aa.setAttribute("transform",t),(t=Aa.transform.baseVal.consolidate())?(t=t.matrix,vr(t.a,t.b,t.c,t.d,t.e,t.f)):ka)}function bh(t,e,n,i){function a(c){return c.length?c.pop()+" ":""}function s(c,h,d,p,v,_){if(c!==d||h!==p){var S=v.push("translate(",null,e,null,n);_.push({i:S-4,x:Ve(c,d)},{i:S-2,x:Ve(h,p)})}else(d||p)&&v.push("translate("+d+e+p+n)}function r(c,h,d,p){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),p.push({i:d.push(a(d)+"rotate(",null,i)-2,x:Ve(c,h)})):h&&d.push(a(d)+"rotate("+h+i)}function o(c,h,d,p){c!==h?p.push({i:d.push(a(d)+"skewX(",null,i)-2,x:Ve(c,h)}):h&&d.push(a(d)+"skewX("+h+i)}function l(c,h,d,p,v,_){if(c!==d||h!==p){var S=v.push(a(v)+"scale(",null,",",null,")");_.push({i:S-4,x:Ve(c,d)},{i:S-2,x:Ve(h,p)})}else(d!==1||p!==1)&&v.push(a(v)+"scale("+d+","+p+")")}return function(c,h){var d=[],p=[];return c=t(c),h=t(h),s(c.translateX,c.translateY,h.translateX,h.translateY,d,p),r(c.rotate,h.rotate,d,p),o(c.skewX,h.skewX,d,p),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,p),c=h=null,function(v){for(var _=-1,S=p.length,R;++_<S;)d[(R=p[_]).i]=R.x(v);return d.join("")}}}var yr=bh(vh,"px, ","px)","deg)"),br=bh(yh,", ",")",")");var Vi=0,fn=0,gn=0,wh=1e3,La,xn,Ea=0,di=0,Da=0,_n=typeof performance=="object"&&performance.now?performance:Date,Sh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function yn(){return di||(Sh(cg),di=_n.now()+Da)}function cg(){di=0}function vn(){this._call=this._time=this._next=null}vn.prototype=Fa.prototype={constructor:vn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?yn():+n)+(e==null?0:+e),!this._next&&xn!==this&&(xn?xn._next=this:La=this,xn=this),this._call=t,this._time=n,Tr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tr())}};function Fa(t,e,n){var i=new vn;return i.restart(t,e,n),i}function Ch(){yn(),++Vi;for(var t=La,e;t;)(e=di-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Vi}function Th(){di=(Ea=_n.now())+Da,Vi=fn=0;try{Ch()}finally{Vi=0,dg(),di=0}}function hg(){var t=_n.now(),e=t-Ea;e>wh&&(Da-=e,Ea=t)}function dg(){for(var t,e=La,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:La=n);xn=t,Tr(i)}function Tr(t){if(!Vi){fn&&(fn=clearTimeout(fn));var e=t-di;e>24?(t<1/0&&(fn=setTimeout(Th,t-_n.now()-Da)),gn&&(gn=clearInterval(gn))):(gn||(Ea=_n.now(),gn=setInterval(hg,wh)),Vi=1,Sh(Th))}}function Ma(t,e,n){var i=new vn;return e=e==null?0:+e,i.restart(a=>{i.stop(),t(a+e)},e,n),i}var ug=ur("start","end","cancel","interrupt"),mg=[],Lh=0,kh=1,Pa=2,Oa=3,Ah=4,Ia=5,bn=6;function jt(t,e,n,i,a,s){var r=t.__transition;if(!r)t.__transition={};else if(n in r)return;pg(t,n,{name:e,index:i,group:a,on:ug,tween:mg,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Lh})}function Tn(t,e){var n=Fe(t,e);if(n.state>Lh)throw new Error("too late; already scheduled");return n}function Re(t,e){var n=Fe(t,e);if(n.state>Oa)throw new Error("too late; already running");return n}function Fe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function pg(t,e,n){var i=t.__transition,a;i[e]=n,n.timer=Fa(s,0,n.time);function s(c){n.state=kh,n.timer.restart(r,n.delay,n.time),n.delay<=c&&r(c-n.delay)}function r(c){var h,d,p,v;if(n.state!==kh)return l();for(h in i)if(v=i[h],v.name===n.name){if(v.state===Oa)return Ma(r);v.state===Ah?(v.state=bn,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete i[h]):+h<e&&(v.state=bn,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete i[h])}if(Ma(function(){n.state===Oa&&(n.state=Ah,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=Pa,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Pa){for(n.state=Oa,a=new Array(p=n.tween.length),h=0,d=-1;h<p;++h)(v=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(a[++d]=v);a.length=d+1}}function o(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Ia,1),d=-1,p=a.length;++d<p;)a[d].call(t,h);n.state===Ia&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=bn,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function wr(t,e){var n=t.__transition,i,a,s=!0,r;if(n){e=e==null?null:e+"";for(r in n){if((i=n[r]).name!==e){s=!1;continue}a=i.state>Pa&&i.state<Ia,i.state=bn,i.timer.stop(),i.on.call(a?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[r]}s&&delete t.__transition}}function Eh(t){return this.each(function(){wr(this,t)})}function gg(t,e){var n,i;return function(){var a=Re(this,t),s=a.tween;if(s!==n){i=n=s;for(var r=0,o=i.length;r<o;++r)if(i[r].name===e){i=i.slice(),i.splice(r,1);break}}a.tween=i}}function fg(t,e,n){var i,a;if(typeof n!="function")throw new Error;return function(){var s=Re(this,t),r=s.tween;if(r!==i){a=(i=r).slice();for(var o={name:e,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===e){a[l]=o;break}l===c&&a.push(o)}s.tween=a}}function Dh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Fe(this.node(),n).tween,a=0,s=i.length,r;a<s;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((e==null?gg:fg)(n,t,e))}function Ri(t,e,n){var i=t._id;return t.each(function(){var a=Re(this,i);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return Fe(a,i).value[e]}}function Va(t,e){var n;return(typeof e=="number"?Ve:e instanceof ht?hi:(n=ht(e))?(e=n,hi):pn)(t,e)}function xg(t){return function(){this.removeAttribute(t)}}function _g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vg(t,e,n){var i,a=n+"",s;return function(){var r=this.getAttribute(t);return r===a?null:r===i?s:s=e(i=r,n)}}function yg(t,e,n){var i,a=n+"",s;return function(){var r=this.getAttributeNS(t.space,t.local);return r===a?null:r===i?s:s=e(i=r,n)}}function bg(t,e,n){var i,a,s;return function(){var r,o=n(this),l;return o==null?void this.removeAttribute(t):(r=this.getAttribute(t),l=o+"",r===l?null:r===i&&l===a?s:(a=l,s=e(i=r,o)))}}function Tg(t,e,n){var i,a,s;return function(){var r,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(r=this.getAttributeNS(t.space,t.local),l=o+"",r===l?null:r===i&&l===a?s:(a=l,s=e(i=r,o)))}}function Fh(t,e){var n=Dt(t),i=n==="transform"?br:Va;return this.attrTween(t,typeof e=="function"?(n.local?Tg:bg)(n,i,Ri(this,"attr."+t,e)):e==null?(n.local?_g:xg)(n):(n.local?yg:vg)(n,i,e))}function wg(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sg(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Cg(t,e){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Sg(t,s)),n}return a._value=e,a}function kg(t,e){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&wg(t,s)),n}return a._value=e,a}function Mh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Dt(t);return this.tween(n,(i.local?Cg:kg)(i,e))}function Ag(t,e){return function(){Tn(this,t).delay=+e.apply(this,arguments)}}function Lg(t,e){return e=+e,function(){Tn(this,t).delay=e}}function Oh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ag:Lg)(e,t)):Fe(this.node(),e).delay}function Eg(t,e){return function(){Re(this,t).duration=+e.apply(this,arguments)}}function Dg(t,e){return e=+e,function(){Re(this,t).duration=e}}function Ph(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Eg:Dg)(e,t)):Fe(this.node(),e).duration}function Fg(t,e){if(typeof e!="function")throw new Error;return function(){Re(this,t).ease=e}}function Ih(t){var e=this._id;return arguments.length?this.each(Fg(e,t)):Fe(this.node(),e).ease}function Mg(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Re(this,t).ease=n}}function Vh(t){if(typeof t!="function")throw new Error;return this.each(Mg(this._id,t))}function Rh(t){typeof t!="function"&&(t=ln(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],r=s.length,o=i[a]=[],l,c=0;c<r;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new Xe(i,this._parents,this._name,this._id)}function Nh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,a=n.length,s=Math.min(i,a),r=new Array(i),o=0;o<s;++o)for(var l=e[o],c=n[o],h=l.length,d=r[o]=new Array(h),p,v=0;v<h;++v)(p=l[v]||c[v])&&(d[v]=p);for(;o<i;++o)r[o]=e[o];return new Xe(r,this._parents,this._name,this._id)}function Og(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Pg(t,e,n){var i,a,s=Og(e)?Tn:Re;return function(){var r=s(this,t),o=r.on;o!==i&&(a=(i=o).copy()).on(e,n),r.on=a}}function Bh(t,e){var n=this._id;return arguments.length<2?Fe(this.node(),n).on.on(t):this.each(Pg(n,t,e))}function Ig(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Gh(){return this.on("end.remove",Ig(this._id))}function zh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ri(t));for(var i=this._groups,a=i.length,s=new Array(a),r=0;r<a;++r)for(var o=i[r],l=o.length,c=s[r]=new Array(l),h,d,p=0;p<l;++p)(h=o[p])&&(d=t.call(h,h.__data__,p,o))&&("__data__"in h&&(d.__data__=h.__data__),c[p]=d,jt(c[p],e,n,p,c,Fe(h,n)));return new Xe(s,this._parents,e,n)}function Hh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=on(t));for(var i=this._groups,a=i.length,s=[],r=[],o=0;o<a;++o)for(var l=i[o],c=l.length,h,d=0;d<c;++d)if(h=l[d]){for(var p=t.call(h,h.__data__,d,l),v,_=Fe(h,n),S=0,R=p.length;S<R;++S)(v=p[S])&&jt(v,e,n,S,p,_);s.push(p),r.push(h)}return new Xe(s,r,e,n)}var Vg=Ft.prototype.constructor;function $h(){return new Vg(this._groups,this._parents)}function Rg(t,e){var n,i,a;return function(){var s=Yt(this,t),r=(this.style.removeProperty(t),Yt(this,t));return s===r?null:s===n&&r===i?a:a=e(n=s,i=r)}}function Xh(t){return function(){this.style.removeProperty(t)}}function Ng(t,e,n){var i,a=n+"",s;return function(){var r=Yt(this,t);return r===a?null:r===i?s:s=e(i=r,n)}}function Bg(t,e,n){var i,a,s;return function(){var r=Yt(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Yt(this,t))),r===l?null:r===i&&l===a?s:(a=l,s=e(i=r,o))}}function Gg(t,e){var n,i,a,s="style."+e,r="end."+s,o;return function(){var l=Re(this,t),c=l.on,h=l.value[s]==null?o||(o=Xh(e)):void 0;(c!==n||a!==h)&&(i=(n=c).copy()).on(r,a=h),l.on=i}}function Wh(t,e,n){var i=(t+="")=="transform"?yr:Va;return e==null?this.styleTween(t,Rg(t,i)).on("end.style."+t,Xh(t)):typeof e=="function"?this.styleTween(t,Bg(t,i,Ri(this,"style."+t,e))).each(Gg(this._id,t)):this.styleTween(t,Ng(t,i,e),n).on("end.style."+t,null)}function zg(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Hg(t,e,n){var i,a;function s(){var r=e.apply(this,arguments);return r!==a&&(i=(a=r)&&zg(t,r,n)),i}return s._value=e,s}function Yh(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Hg(t,e,n??""))}function $g(t){return function(){this.textContent=t}}function Xg(t){return function(){var e=t(this);this.textContent=e??""}}function jh(t){return this.tween("text",typeof t=="function"?Xg(Ri(this,"text",t)):$g(t==null?"":t+""))}function Wg(t){return function(e){this.textContent=t.call(this,e)}}function Yg(t){var e,n;function i(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&Wg(a)),e}return i._value=t,i}function qh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Yg(t))}function Qh(){for(var t=this._name,e=this._id,n=Ra(),i=this._groups,a=i.length,s=0;s<a;++s)for(var r=i[s],o=r.length,l,c=0;c<o;++c)if(l=r[c]){var h=Fe(l,e);jt(l,t,n,c,r,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Xe(i,this._parents,t,n)}function Zh(){var t,e,n=this,i=n._id,a=n.size();return new Promise(function(s,r){var o={value:r},l={value:function(){--a===0&&s()}};n.each(function(){var c=Re(this,i),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),a===0&&s()})}var jg=0;function Xe(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Uh(t){return Ft().transition(t)}function Ra(){return++jg}var Mt=Ft.prototype;Xe.prototype=Uh.prototype={constructor:Xe,select:zh,selectAll:Hh,selectChild:Mt.selectChild,selectChildren:Mt.selectChildren,filter:Rh,merge:Nh,selection:$h,transition:Qh,call:Mt.call,nodes:Mt.nodes,node:Mt.node,size:Mt.size,empty:Mt.empty,each:Mt.each,on:Bh,attr:Fh,attrTween:Mh,style:Wh,styleTween:Yh,text:jh,textTween:qh,remove:Gh,tween:Dh,delay:Oh,duration:Ph,ease:Ih,easeVarying:Vh,end:Zh,[Symbol.iterator]:Mt[Symbol.iterator]};function Na(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qg={time:null,delay:0,duration:250,ease:Na};function Qg(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Kh(t){var e,n;t instanceof Xe?(e=t._id,t=t._name):(e=Ra(),(n=qg).time=yn(),t=t==null?null:t+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var r=i[s],o=r.length,l,c=0;c<o;++c)(l=r[c])&&jt(l,t,e,c,r,n||Qg(l,e));return new Xe(i,this._parents,t,e)}Ft.prototype.interrupt=Eh;Ft.prototype.transition=Kh;var{abs:rS,max:oS,min:lS}=Math;function Jh(t){return[+t[0],+t[1]]}function Zg(t){return[Jh(t[0]),Jh(t[1])]}var cS={name:"x",handles:["w","e"].map(Sr),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},hS={name:"y",handles:["n","s"].map(Sr),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},dS={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Sr),input:function(t){return t==null?null:Zg(t)},output:function(t){return t}};function Sr(t){return{type:t}}function wt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ba(t){let e,n,i;t.length!==2?(e=wt,n=(o,l)=>wt(t(o),l),i=(o,l)=>t(o)-l):(e=t===wt||t===Cr?t:Kg,n=t,i=t);function a(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{let d=c+h>>>1;n(o[d],l)<0?c=d+1:h=d}while(c<h)}return c}function s(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{let d=c+h>>>1;n(o[d],l)<=0?c=d+1:h=d}while(c<h)}return c}function r(o,l,c=0,h=o.length){let d=a(o,l,c,h-1);return d>c&&i(o[d-1],l)>-i(o[d],l)?d-1:d}return{left:a,center:r,right:s}}function Kg(){return 0}function wn(t){return t===null?NaN:+t}var ed=Ba(wt),td=ed.right,Jg=ed.left,ef=Ba(wn).center,Sn=td;var Ni=class extends Map{constructor(e,n=af){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[i,a]of e)this.set(i,a)}get(e){return super.get(id(this,e))}has(e){return super.has(id(this,e))}set(e,n){return super.set(tf(this,e),n)}delete(e){return super.delete(nf(this,e))}};function id({_intern:t,_key:e},n){let i=e(n);return t.has(i)?t.get(i):n}function tf({_intern:t,_key:e},n){let i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function nf({_intern:t,_key:e},n){let i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function af(t){return t!==null&&typeof t=="object"?t.valueOf():t}var sf=Math.sqrt(50),rf=Math.sqrt(10),of=Math.sqrt(2);function Ga(t,e,n){let i=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(i)),s=i/Math.pow(10,a),r=s>=sf?10:s>=rf?5:s>=of?2:1,o,l,c;return a<0?(c=Math.pow(10,-a)/r,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,a)*r,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Ga(t,e,n*2):[o,l,c]}function za(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let i=e<t,[a,s,r]=i?Ga(e,t,n):Ga(t,e,n);if(!(s>=a))return[];let o=s-a+1,l=new Array(o);if(i)if(r<0)for(let c=0;c<o;++c)l[c]=(s-c)/-r;else for(let c=0;c<o;++c)l[c]=(s-c)*r;else if(r<0)for(let c=0;c<o;++c)l[c]=(a+c)/-r;else for(let c=0;c<o;++c)l[c]=(a+c)*r;return l}function Cn(t,e,n){return e=+e,t=+t,n=+n,Ga(t,e,n)[2]}function kr(t,e,n){e=+e,t=+t,n=+n;let i=e<t,a=i?Cn(e,t,n):Cn(t,e,n);return(i?-1:1)*(a<0?1/-a:a)}function Ha(t,e){let n;if(e===void 0)for(let i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Ar(t,e,n=wn){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,a=(i-1)*e,s=Math.floor(a),r=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return r+(o-r)*(a-s)}}function Bi(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var i=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++i<a;)s[i]=t+i*n;return s}function qt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var Lr=Symbol("implicit");function ui(){var t=new Ni,e=[],n=[],i=Lr;function a(s){let r=t.get(s);if(r===void 0){if(i!==Lr)return i;t.set(s,r=e.push(s)-1)}return n[r%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Ni;for(let r of s)t.has(r)||t.set(r,e.push(r)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return ui(e,n).unknown(i)},qt.apply(a,arguments),a}function Gi(){var t=ui().unknown(void 0),e=t.domain,n=t.range,i=0,a=1,s,r,o=!1,l=0,c=0,h=.5;delete t.unknown;function d(){var p=e().length,v=a<i,_=v?a:i,S=v?i:a;s=(S-_)/Math.max(1,p-l+c*2),o&&(s=Math.floor(s)),_+=(S-_-s*(p-l))*h,r=s*(1-l),o&&(_=Math.round(_),r=Math.round(r));var R=Bi(p).map(function(M){return _+s*M});return n(v?R.reverse():R)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([i,a]=p,i=+i,a=+a,d()):[i,a]},t.rangeRound=function(p){return[i,a]=p,i=+i,a=+a,o=!0,d()},t.bandwidth=function(){return r},t.step=function(){return s},t.round=function(p){return arguments.length?(o=!!p,d()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),d()):h},t.copy=function(){return Gi(e(),[i,a]).round(o).paddingInner(l).paddingOuter(c).align(h)},qt.apply(d(),arguments)}function Er(t){return function(){return t}}function Dr(t){return+t}var nd=[0,1];function zi(t){return t}function Fr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Er(isNaN(e)?NaN:.5)}function cf(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function hf(t,e,n){var i=t[0],a=t[1],s=e[0],r=e[1];return a<i?(i=Fr(a,i),s=n(r,s)):(i=Fr(i,a),s=n(s,r)),function(o){return s(i(o))}}function df(t,e,n){var i=Math.min(t.length,e.length)-1,a=new Array(i),s=new Array(i),r=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++r<i;)a[r]=Fr(t[r],t[r+1]),s[r]=n(e[r],e[r+1]);return function(o){var l=Sn(t,o,1,i)-1;return s[l](a[l](o))}}function ad(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function uf(){var t=nd,e=nd,n=dt,i,a,s,r=zi,o,l,c;function h(){var p=Math.min(t.length,e.length);return r!==zi&&(r=cf(t[0],t[p-1])),o=p>2?df:hf,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?s:(l||(l=o(t.map(i),e,n)))(i(r(p)))}return d.invert=function(p){return r(a((c||(c=o(e,t.map(i),Ve)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,Dr),h()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=_r,h()},d.clamp=function(p){return arguments.length?(r=p?!0:zi,h()):r!==zi},d.interpolate=function(p){return arguments.length?(n=p,h()):n},d.unknown=function(p){return arguments.length?(s=p,d):s},function(p,v){return i=p,a=v,h()}}function Mr(){return uf()(zi,zi)}function sd(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mi(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function St(t){return t=mi(Math.abs(t)),t?t[1]:NaN}function rd(t,e){return function(n,i){for(var a=n.length,s=[],r=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(n.substring(a-=o,a+o)),!((l+=o+1)>i));)o=t[r=(r+1)%t.length];return s.reverse().join(e)}}function od(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qt(t){if(!(e=mf.exec(t)))throw new Error("invalid format: "+t);var e;return new $a({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qt.prototype=$a.prototype;function $a(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ld(t){e:for(var e=t.length,n=1,i=-1,a;n<e;++n)switch(t[n]){case".":i=a=n;break;case"0":i===0&&(i=n),a=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(a+1):t}var kn;function cd(t,e){var n=mi(t,e);if(!n)return kn=void 0,t.toPrecision(e);var i=n[0],a=n[1],s=a-(kn=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,r=i.length;return s===r?i:s>r?i+new Array(s-r+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+mi(t,Math.max(0,e+s-1))[0]}function Or(t,e){var n=mi(t,e);if(!n)return t+"";var i=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}var Pr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sd,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Or(t*100,e),r:Or,s:cd,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ir(t){return t}var hd=Array.prototype.map,dd=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ud(t){var e=t.grouping===void 0||t.thousands===void 0?Ir:rd(hd.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Ir:od(hd.call(t.numerals,String)),r=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,p){d=Qt(d);var v=d.fill,_=d.align,S=d.sign,R=d.symbol,M=d.zero,D=d.width,k=d.comma,N=d.precision,j=d.trim,X=d.type;X==="n"?(k=!0,X="g"):Pr[X]||(N===void 0&&(N=12),j=!0,X="g"),(M||v==="0"&&_==="=")&&(M=!0,v="0",_="=");var Z=(p&&p.prefix!==void 0?p.prefix:"")+(R==="$"?n:R==="#"&&/[boxX]/.test(X)?"0"+X.toLowerCase():""),B=(R==="$"?i:/[%p]/.test(X)?r:"")+(p&&p.suffix!==void 0?p.suffix:""),ie=Pr[X],W=/[defgprs%]/.test(X);N=N===void 0?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function z(L){var F=Z,$=B,re,A,C;if(X==="c")$=ie(L)+$,L="";else{L=+L;var g=L<0||1/L<0;if(L=isNaN(L)?l:ie(Math.abs(L),N),j&&(L=ld(L)),g&&+L==0&&S!=="+"&&(g=!1),F=(g?S==="("?S:o:S==="-"||S==="("?"":S)+F,$=(X==="s"&&!isNaN(L)&&kn!==void 0?dd[8+kn/3]:"")+$+(g&&S==="("?")":""),W){for(re=-1,A=L.length;++re<A;)if(C=L.charCodeAt(re),48>C||C>57){$=(C===46?a+L.slice(re+1):L.slice(re))+$,L=L.slice(0,re);break}}}k&&!M&&(L=e(L,1/0));var x=F.length+L.length+$.length,V=x<D?new Array(D-x+1).join(v):"";switch(k&&M&&(L=e(V+L,V.length?D-$.length:1/0),V=""),_){case"<":L=F+L+$+V;break;case"=":L=F+V+L+$;break;case"^":L=V.slice(0,x=V.length>>1)+F+L+$+V.slice(x);break;default:L=V+F+L+$;break}return s(L)}return z.toString=function(){return d+""},z}function h(d,p){var v=Math.max(-8,Math.min(8,Math.floor(St(p)/3)))*3,_=Math.pow(10,-v),S=c((d=Qt(d),d.type="f",d),{suffix:dd[8+v/3]});return function(R){return S(_*R)}}return{format:c,formatPrefix:h}}var Xa,Wa,Ya;Vr({thousands:",",grouping:[3],currency:["$",""]});function Vr(t){return Xa=ud(t),Wa=Xa.format,Ya=Xa.formatPrefix,Xa}function Rr(t){return Math.max(0,-St(Math.abs(t)))}function Nr(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(St(e)/3)))*3-St(Math.abs(t)))}function Br(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,St(e)-St(t))+1}function Gr(t,e,n,i){var a=kr(t,e,n),s;switch(i=Qt(i??",f"),i.type){case"s":{var r=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(s=Nr(a,r))&&(i.precision=s),Ya(i,r)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Br(a,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Rr(a))&&(i.precision=s-(i.type==="%")*2);break}}return Wa(i)}function pf(t){var e=t.domain;return t.ticks=function(n){var i=e();return za(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var a=e();return Gr(a[0],a[a.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),a=0,s=i.length-1,r=i[a],o=i[s],l,c,h=10;for(o<r&&(c=r,r=o,o=c,c=a,a=s,s=c);h-- >0;){if(c=Cn(r,o,n),c===l)return i[a]=r,i[s]=o,e(i);if(c>0)r=Math.floor(r/c)*c,o=Math.ceil(o/c)*c;else if(c<0)r=Math.ceil(r*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Zt(){var t=Mr();return t.copy=function(){return ad(t,Zt())},qt.apply(t,arguments),pf(t)}function An(){var t=[],e=[],n=[],i;function a(){var r=0,o=Math.max(1,e.length);for(n=new Array(o-1);++r<o;)n[r-1]=Ar(t,r/o);return s}function s(r){return r==null||isNaN(r=+r)?i:e[Sn(n,r)]}return s.invertExtent=function(r){var o=e.indexOf(r);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let o of r)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(wt),a()},s.range=function(r){return arguments.length?(e=Array.from(r),a()):e.slice()},s.unknown=function(r){return arguments.length?(i=r,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return An().domain(t).range(e).unknown(i)},qt.apply(s,arguments)}function Ne(t){return function(){return t}}var zr=Math.abs,Be=Math.atan2,Ut=Math.cos,md=Math.max,ja=Math.min,ut=Math.sin,pi=Math.sqrt,We=1e-12,Hi=Math.PI,Ln=Hi/2,$i=2*Hi;function pd(t){return t>1?0:t<-1?Hi:Math.acos(t)}function Hr(t){return t>=1?Ln:t<=-1?-Ln:Math.asin(t)}var $r=Math.PI,Xr=2*$r,gi=1e-6,ff=Xr-gi;function gd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gd;let n=10**e;return function(i){this._+=i[0];for(let a=1,s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}var fi=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gd:xf(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,a){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(e,n,i,a,s,r){this._append`C${+e},${+n},${+i},${+a},${this._x1=+s},${this._y1=+r}`}arcTo(e,n,i,a,s){if(e=+e,n=+n,i=+i,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let r=this._x1,o=this._y1,l=i-e,c=a-n,h=r-e,d=o-n,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>gi)if(!(Math.abs(d*l-c*h)>gi)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=i-r,_=a-o,S=l*l+c*c,R=v*v+_*_,M=Math.sqrt(S),D=Math.sqrt(p),k=s*Math.tan(($r-Math.acos((S+p-R)/(2*M*D)))/2),N=k/D,j=k/M;Math.abs(N-1)>gi&&this._append`L${e+N*h},${n+N*d}`,this._append`A${s},${s},0,0,${+(d*v>h*_)},${this._x1=e+j*l},${this._y1=n+j*c}`}}arc(e,n,i,a,s,r){if(e=+e,n=+n,i=+i,r=!!r,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(a),l=i*Math.sin(a),c=e+o,h=n+l,d=1^r,p=r?a-s:s-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>gi||Math.abs(this._y1-h)>gi)&&this._append`L${c},${h}`,i&&(p<0&&(p=p%Xr+Xr),p>ff?this._append`A${i},${i},0,1,${d},${e-o},${n-l}A${i},${i},0,1,${d},${this._x1=c},${this._y1=h}`:p>gi&&this._append`A${i},${i},0,${+(p>=$r)},${d},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}};function fd(){return new fi}fd.prototype=fi.prototype;function xd(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new fi(e)}function _f(t){return t.innerRadius}function vf(t){return t.outerRadius}function yf(t){return t.startAngle}function bf(t){return t.endAngle}function Tf(t){return t&&t.padAngle}function wf(t,e,n,i,a,s,r,o){var l=n-t,c=i-e,h=r-a,d=o-s,p=d*l-h*c;if(!(p*p<We))return p=(h*(e-s)-d*(t-a))/p,[t+p*l,e+p*c]}function qa(t,e,n,i,a,s,r){var o=t-n,l=e-i,c=(r?s:-s)/pi(o*o+l*l),h=c*l,d=-c*o,p=t+h,v=e+d,_=n+h,S=i+d,R=(p+_)/2,M=(v+S)/2,D=_-p,k=S-v,N=D*D+k*k,j=a-s,X=p*S-_*v,Z=(k<0?-1:1)*pi(md(0,j*j*N-X*X)),B=(X*k-D*Z)/N,ie=(-X*D-k*Z)/N,W=(X*k+D*Z)/N,z=(-X*D+k*Z)/N,L=B-R,F=ie-M,$=W-R,re=z-M;return L*L+F*F>$*$+re*re&&(B=W,ie=z),{cx:B,cy:ie,x01:-h,y01:-d,x11:B*(a/j-1),y11:ie*(a/j-1)}}function En(){var t=_f,e=vf,n=Ne(0),i=null,a=yf,s=bf,r=Tf,o=null,l=xd(c);function c(){var h,d,p=+t.apply(this,arguments),v=+e.apply(this,arguments),_=a.apply(this,arguments)-Ln,S=s.apply(this,arguments)-Ln,R=zr(S-_),M=S>_;if(o||(o=h=l()),v<p&&(d=v,v=p,p=d),!(v>We))o.moveTo(0,0);else if(R>$i-We)o.moveTo(v*Ut(_),v*ut(_)),o.arc(0,0,v,_,S,!M),p>We&&(o.moveTo(p*Ut(S),p*ut(S)),o.arc(0,0,p,S,_,M));else{var D=_,k=S,N=_,j=S,X=R,Z=R,B=r.apply(this,arguments)/2,ie=B>We&&(i?+i.apply(this,arguments):pi(p*p+v*v)),W=ja(zr(v-p)/2,+n.apply(this,arguments)),z=W,L=W,F,$;if(ie>We){var re=Hr(ie/p*ut(B)),A=Hr(ie/v*ut(B));(X-=re*2)>We?(re*=M?1:-1,N+=re,j-=re):(X=0,N=j=(_+S)/2),(Z-=A*2)>We?(A*=M?1:-1,D+=A,k-=A):(Z=0,D=k=(_+S)/2)}var C=v*Ut(D),g=v*ut(D),x=p*Ut(j),V=p*ut(j);if(W>We){var H=v*Ut(k),se=v*ut(k),K=p*Ut(N),me=p*ut(N),Ae;if(R<Hi)if(Ae=wf(C,g,K,me,H,se,x,V)){var ze=C-Ae[0],fe=g-Ae[1],O=H-Ae[0],E=se-Ae[1],T=1/ut(pd((ze*O+fe*E)/(pi(ze*ze+fe*fe)*pi(O*O+E*E)))/2),P=pi(Ae[0]*Ae[0]+Ae[1]*Ae[1]);z=ja(W,(p-P)/(T-1)),L=ja(W,(v-P)/(T+1))}else z=L=0}Z>We?L>We?(F=qa(K,me,C,g,v,L,M),$=qa(H,se,x,V,v,L,M),o.moveTo(F.cx+F.x01,F.cy+F.y01),L<W?o.arc(F.cx,F.cy,L,Be(F.y01,F.x01),Be($.y01,$.x01),!M):(o.arc(F.cx,F.cy,L,Be(F.y01,F.x01),Be(F.y11,F.x11),!M),o.arc(0,0,v,Be(F.cy+F.y11,F.cx+F.x11),Be($.cy+$.y11,$.cx+$.x11),!M),o.arc($.cx,$.cy,L,Be($.y11,$.x11),Be($.y01,$.x01),!M))):(o.moveTo(C,g),o.arc(0,0,v,D,k,!M)):o.moveTo(C,g),!(p>We)||!(X>We)?o.lineTo(x,V):z>We?(F=qa(x,V,H,se,p,-z,M),$=qa(C,g,K,me,p,-z,M),o.lineTo(F.cx+F.x01,F.cy+F.y01),z<W?o.arc(F.cx,F.cy,z,Be(F.y01,F.x01),Be($.y01,$.x01),!M):(o.arc(F.cx,F.cy,z,Be(F.y01,F.x01),Be(F.y11,F.x11),!M),o.arc(0,0,p,Be(F.cy+F.y11,F.cx+F.x11),Be($.cy+$.y11,$.cx+$.x11),M),o.arc($.cx,$.cy,z,Be($.y11,$.x11),Be($.y01,$.x01),!M))):o.arc(0,0,p,j,N,M)}if(o.closePath(),h)return o=null,h+""||null}return c.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Hi/2;return[Ut(d)*h,ut(d)*h]},c.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Ne(+h),c):t},c.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Ne(+h),c):e},c.cornerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:Ne(+h),c):n},c.padRadius=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:Ne(+h),c):i},c.startAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Ne(+h),c):a},c.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Ne(+h),c):s},c.padAngle=function(h){return arguments.length?(r=typeof h=="function"?h:Ne(+h),c):r},c.context=function(h){return arguments.length?(o=h??null,c):o},c}var vk=Array.prototype.slice;function _d(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vd(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function yd(t){return t}function Wr(){var t=yd,e=vd,n=null,i=Ne(0),a=Ne($i),s=Ne(0);function r(o){var l,c=(o=_d(o)).length,h,d,p=0,v=new Array(c),_=new Array(c),S=+i.apply(this,arguments),R=Math.min($i,Math.max(-$i,a.apply(this,arguments)-S)),M,D=Math.min(Math.abs(R)/c,s.apply(this,arguments)),k=D*(R<0?-1:1),N;for(l=0;l<c;++l)(N=_[v[l]=l]=+t(o[l],l,o))>0&&(p+=N);for(e!=null?v.sort(function(j,X){return e(_[j],_[X])}):n!=null&&v.sort(function(j,X){return n(o[j],o[X])}),l=0,d=p?(R-c*k)/p:0;l<c;++l,S=M)h=v[l],N=_[h],M=S+(N>0?N*d:0)+k,_[h]={data:o[h],index:l,value:N,startAngle:S,endAngle:M,padAngle:D};return _}return r.value=function(o){return arguments.length?(t=typeof o=="function"?o:Ne(+o),r):t},r.sortValues=function(o){return arguments.length?(e=o,n=null,r):e},r.sort=function(o){return arguments.length?(n=o,e=null,r):n},r.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Ne(+o),r):i},r.endAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Ne(+o),r):a},r.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Ne(+o),r):s},r}var Lf=["caretElm"],Ef=t=>({model:t});function Df(t,e){}function Ff(t,e){if(t&1&&(u(0,"span"),G(1,Df,0,0,"ng-template",5),m()),t&2){let n=w();f(),y("ngTemplateOutlet",n.template)("ngTemplateOutletContext",il(2,Ef,n.context))}}function Mf(t,e){if(t&1&&I(0,"span",6),t&2){let n=w();y("innerHTML",n.title,Go)}}function Of(t,e){if(t&1&&(u(0,"header",4)(1,"span",5),b(2),m()()),t&2){let n=w();f(2),Ce(n.title)}}function Pf(t,e){if(t&1){let n=Te();u(0,"li",6)(1,"ngx-charts-legend-entry",7),Y("select",function(a){J(n);let s=w();return ee(s.labelClick.emit(a))})("activate",function(a){J(n);let s=w();return ee(s.activate(a))})("deactivate",function(a){J(n);let s=w();return ee(s.deactivate(a))}),m()()}if(t&2){let n=e.$implicit,i=w();f(),y("label",n.label)("formattedLabel",n.formattedLabel)("color",n.color)("isActive",i.isActive(n))}}var If=["*"];function Vf(t,e){if(t&1&&I(0,"ngx-charts-scale-legend",4),t&2){let n=w();y("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)}}function Rf(t,e){if(t&1){let n=Te();u(0,"ngx-charts-legend",5),Y("labelClick",function(a){J(n);let s=w();return ee(s.legendLabelClick.emit(a))})("labelActivate",function(a){J(n);let s=w();return ee(s.legendLabelActivate.emit(a))})("labelDeactivate",function(a){J(n);let s=w();return ee(s.legendLabelDeactivate.emit(a))}),m()}if(t&2){let n=w();y("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("data",n.legendOptions.domain)("title",n.legendOptions.title)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)("activeEntries",n.activeEntries)}}var Nf=["ngx-charts-axis-label",""],Dd=["ticksel"],Bf=["ngx-charts-x-axis-ticks",""];function Gf(t,e){t&1&&(q(),Ps(0))}function zf(t,e){if(t&1&&(q(),u(0,"tspan",12),b(1),m()),t&2){let n=e.$implicit,i=e.index;pe("y",i*12),f(),de(" ",n," ")}}function Hf(t,e){if(t&1&&(q(),Rt(0),G(1,zf,2,2,"tspan",11),Nt()),t&2){let n=e.ngIf;f(),y("ngForOf",n)}}function $f(t,e){if(t&1&&G(0,Hf,2,1,"ng-container",8),t&2){let n=w(2).$implicit,i=w();y("ngIf",i.tickChunks(n))}}function Xf(t,e){if(t&1&&b(0),t&2){let n=w().ngIf,i=w(2);de(" ",i.tickTrim(n)," ")}}function Wf(t,e){if(t&1&&(q(),Rt(0),u(1,"title"),b(2),m(),u(3,"text",9),G(4,Gf,1,0,"ng-container",10),m(),G(5,$f,1,1,"ng-template",null,1,Ki)(7,Xf,1,1,"ng-template",null,2,Ki),Nt()),t&2){let n=e.ngIf,i=Gt(6),a=Gt(8),s=w(2);f(2),Ce(n),f(),pe("text-anchor",s.textAnchor)("transform",s.textTransform),f(),y("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",a)}}function Yf(t,e){if(t&1&&(q(),u(0,"g",7),G(1,Wf,9,6,"ng-container",8),m()),t&2){let n=e.$implicit,i=w();pe("transform",i.tickTransform(n)),f(),y("ngIf",i.tickFormat(n))}}function jf(t,e){if(t&1&&(q(),u(0,"g"),I(1,"line",13),m()),t&2){let n=w(2);pe("transform",n.gridLineTransform()),f(),pe("y1",-n.gridLineHeight)}}function qf(t,e){if(t&1&&(q(),u(0,"g"),G(1,jf,2,2,"g",8),m()),t&2){let n=e.$implicit,i=w();pe("transform",i.tickTransform(n)),f(),y("ngIf",i.showGridLines)}}function Qf(t,e){if(t&1&&(q(),I(0,"path",14)),t&2){let n=w();pe("d",n.referenceAreaPath)("transform",n.gridLineTransform())}}function Zf(t,e){if(t&1&&(q(),u(0,"g")(1,"title"),b(2),m(),u(3,"text",17),b(4),m()()),t&2){let n=w(2).$implicit,i=w();f(2),Ce(i.tickTrim(i.tickFormat(n.value))),f(2),de(" ",n.name," ")}}function Uf(t,e){if(t&1&&(q(),u(0,"g"),I(1,"line",16),G(2,Zf,5,2,"g",8),m()),t&2){let n=w().$implicit,i=w();pe("transform",i.transform(n.value)),f(),pe("y2",25+i.gridLineHeight)("transform",i.gridLineTransform()),f(),y("ngIf",i.showRefLabels)}}function Kf(t,e){if(t&1&&(q(),u(0,"g",15),G(1,Uf,3,4,"g",8),m()),t&2){let n=w();f(),y("ngIf",n.showRefLines)}}var Jf=["ngx-charts-x-axis",""];function e0(t,e){if(t&1){let n=Te();q(),u(0,"g",2),Y("dimensionsChanged",function(a){J(n);let s=w();return ee(s.emitTicksHeight(a))}),m()}if(t&2){let n=w();y("trimTicks",n.trimTicks)("rotateTicks",n.rotateTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickStroke",n.tickStroke)("scale",n.xScale)("orient",n.xOrient)("showGridLines",n.showGridLines)("gridLineHeight",n.dims.height)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("width",n.dims.width)("tickValues",n.ticks)("wrapTicks",n.wrapTicks)}}function t0(t,e){if(t&1&&(q(),I(0,"g",3)),t&2){let n=w();y("label",n.labelText)("offset",n.labelOffset)("orient",n.orientation.Bottom)("height",n.dims.height)("width",n.dims.width)}}var i0=["ngx-charts-y-axis-ticks",""];function n0(t,e){t&1&&(q(),Ps(0))}function a0(t,e){if(t&1&&(q(),u(0,"tspan",13),b(1),m()),t&2){let n=e.$implicit,i=e.index,a=w(6);pe("y",i*(8+a.tickSpacing)),f(),de(" ",n," ")}}function s0(t,e){if(t&1&&(q(),Rt(0),G(1,a0,2,2,"tspan",12),Nt()),t&2){let n=w().ngIf;f(),y("ngForOf",n)}}function r0(t,e){if(t&1&&(q(),Rt(0),G(1,s0,2,1,"ng-container",11),Nt()),t&2){let n=e.ngIf;w(2);let i=Gt(8);f(),y("ngIf",n.length>1)("ngIfElse",i)}}function o0(t,e){if(t&1&&G(0,r0,2,2,"ng-container",8),t&2){let n=w(2).$implicit,i=w();y("ngIf",i.tickChunks(n))}}function l0(t,e){if(t&1&&b(0),t&2){let n=w().ngIf,i=w(2);de(" ",i.tickTrim(n)," ")}}function c0(t,e){if(t&1&&(q(),Rt(0),u(1,"title"),b(2),m(),u(3,"text",9),G(4,n0,1,0,"ng-container",10),m(),G(5,o0,1,1,"ng-template",null,1,Ki)(7,l0,1,1,"ng-template",null,2,Ki),Nt()),t&2){let n=e.ngIf,i=Gt(6),a=Gt(8),s=w(2);f(2),Ce(n),f(),Ke("font-size","12px"),pe("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),f(),y("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",a)}}function h0(t,e){if(t&1&&(q(),u(0,"g",7),G(1,c0,9,10,"ng-container",8),m()),t&2){let n=e.$implicit,i=w();pe("transform",i.transform(n)),f(),y("ngIf",i.tickFormat(n))}}function d0(t,e){if(t&1&&(q(),I(0,"path",14)),t&2){let n=w();pe("d",n.referenceAreaPath)("transform",n.gridLineTransform())}}function u0(t,e){if(t&1&&(q(),I(0,"line",16)),t&2){let n=w(3);pe("x2",n.gridLineWidth)}}function m0(t,e){if(t&1&&(q(),I(0,"line",16)),t&2){let n=w(3);pe("x2",-n.gridLineWidth)}}function p0(t,e){if(t&1&&(q(),u(0,"g"),G(1,u0,1,1,"line",15)(2,m0,1,1,"line",15),m()),t&2){let n=w(2);pe("transform",n.gridLineTransform()),f(),y("ngIf",n.orient===n.Orientation.Left),f(),y("ngIf",n.orient===n.Orientation.Right)}}function g0(t,e){if(t&1&&(q(),u(0,"g"),G(1,p0,3,3,"g",8),m()),t&2){let n=e.$implicit,i=w();pe("transform",i.transform(n)),f(),y("ngIf",i.showGridLines)}}function f0(t,e){if(t&1&&(q(),u(0,"g")(1,"title"),b(2),m(),u(3,"text",19),b(4),m()()),t&2){let n=w(2).$implicit,i=w();f(2),Ce(i.tickTrim(i.tickFormat(n.value))),f(),pe("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),f(),de(" ",n.name," ")}}function x0(t,e){if(t&1&&(q(),u(0,"g"),I(1,"line",18),G(2,f0,5,6,"g",8),m()),t&2){let n=w().$implicit,i=w();pe("transform",i.transform(n.value)),f(),pe("x2",i.gridLineWidth),f(),y("ngIf",i.showRefLabels)}}function _0(t,e){if(t&1&&(q(),u(0,"g",17),G(1,x0,3,3,"g",8),m()),t&2){let n=w();f(),y("ngIf",n.showRefLines)}}var v0=["ngx-charts-y-axis",""];function y0(t,e){if(t&1){let n=Te();q(),u(0,"g",2),Y("dimensionsChanged",function(a){J(n);let s=w();return ee(s.emitTicksWidth(a))}),m()}if(t&2){let n=w();y("trimTicks",n.trimTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickValues",n.ticks)("tickStroke",n.tickStroke)("scale",n.yScale)("orient",n.yOrient)("showGridLines",n.showGridLines)("gridLineWidth",n.dims.width)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("height",n.dims.height)("wrapTicks",n.wrapTicks)}}function b0(t,e){if(t&1&&(q(),I(0,"g",3)),t&2){let n=w();y("label",n.labelText)("offset",n.labelOffset)("orient",n.yOrient)("height",n.dims.height)("width",n.dims.width)}}var T0=["ngx-charts-svg-linear-gradient",""];function w0(t,e){if(t&1&&(q(),I(0,"stop")),t&2){let n=e.$implicit;Ke("stop-color",n.color)("stop-opacity",n.opacity),pe("offset",n.offset+"%")}}var S0=["ngx-charts-svg-radial-gradient",""];function C0(t,e){if(t&1&&(q(),I(0,"stop")),t&2){let n=e.$implicit;Ke("stop-color",n.color)("stop-opacity",n.opacity),pe("offset",n.offset+"%")}}var Fd=["tooltipTemplate"];var Md=(t,e)=>[t,e];var Od=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var k0=["ngx-charts-bar",""];function A0(t,e){if(t&1&&(q(),u(0,"defs"),I(1,"g",2),m()),t&2){let n=w();f(),y("orientation",n.orientation)("name",n.gradientId)("stops",n.gradientStops)}}var L0=["ngx-charts-bar-label",""];var E0=["ngx-charts-series-vertical",""];function D0(t,e){if(t&1){let n=Te();q(),u(0,"g",2),Y("select",function(a){J(n);let s=w(2);return ee(s.onClick(a))})("activate",function(a){J(n);let s=w(2);return ee(s.activate.emit(a))})("deactivate",function(a){J(n);let s=w(2);return ee(s.deactivate.emit(a))}),m()}if(t&2){let n=e.$implicit,i=w(2);y("@animationState","active")("@.disabled",!i.animations)("width",n.width)("height",n.height)("x",n.x)("y",n.y)("fill",n.color)("stops",n.gradientStops)("data",n.data)("orientation",i.barOrientation.Vertical)("roundEdges",n.roundEdges)("gradient",i.gradient)("ariaLabel",n.ariaLabel)("isActive",i.isActive(n.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:n.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",n.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function F0(t,e){if(t&1&&(q(),u(0,"g"),G(1,D0,1,22,"g",1),m()),t&2){let n=w();f(),y("ngForOf",n.bars)("ngForTrackBy",n.trackBy)}}function M0(t,e){if(t&1){let n=Te();q(),u(0,"g",2),Y("select",function(a){J(n);let s=w(2);return ee(s.onClick(a))})("activate",function(a){J(n);let s=w(2);return ee(s.activate.emit(a))})("deactivate",function(a){J(n);let s=w(2);return ee(s.deactivate.emit(a))}),m()}if(t&2){let n=e.$implicit,i=w(2);y("width",n.width)("height",n.height)("x",n.x)("y",n.y)("fill",n.color)("stops",n.gradientStops)("data",n.data)("orientation",i.barOrientation.Vertical)("roundEdges",n.roundEdges)("gradient",i.gradient)("ariaLabel",n.ariaLabel)("isActive",i.isActive(n.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:n.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",n.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function O0(t,e){if(t&1&&(q(),u(0,"g"),G(1,M0,1,20,"g",1),m()),t&2){let n=w();f(),y("ngForOf",n.bars)("ngForTrackBy",n.trackBy)}}function P0(t,e){if(t&1){let n=Te();q(),u(0,"g",4),Y("dimensionsChanged",function(a){let s=J(n).index,r=w(2);return ee(r.dataLabelHeightChanged.emit({size:a,index:s}))}),m()}if(t&2){let n=e.$implicit,i=w(2);y("barX",n.x)("barY",n.y)("barWidth",n.width)("barHeight",n.height)("value",n.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function I0(t,e){if(t&1&&(q(),u(0,"g"),G(1,P0,1,7,"g",3),m()),t&2){let n=w();f(),y("ngForOf",n.barsForDataLabels)("ngForTrackBy",n.trackDataLabelBy)}}function V0(t,e){if(t&1){let n=Te();q(),u(0,"g",5),Y("dimensionsChanged",function(a){J(n);let s=w();return ee(s.updateXAxisHeight(a))}),m()}if(t&2){let n=w();y("xScale",n.xScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showXAxisLabel)("labelText",n.xAxisLabel)("trimTicks",n.trimXAxisTicks)("rotateTicks",n.rotateXAxisTicks)("maxTickLength",n.maxXAxisTickLength)("tickFormatting",n.xAxisTickFormatting)("ticks",n.xAxisTicks)("xAxisOffset",n.dataLabelMaxHeight.negative)("wrapTicks",n.wrapTicks)}}function R0(t,e){if(t&1){let n=Te();q(),u(0,"g",6),Y("dimensionsChanged",function(a){J(n);let s=w();return ee(s.updateYAxisWidth(a))}),m()}if(t&2){let n=w();y("yScale",n.yScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showYAxisLabel)("labelText",n.yAxisLabel)("trimTicks",n.trimYAxisTicks)("maxTickLength",n.maxYAxisTickLength)("tickFormatting",n.yAxisTickFormatting)("ticks",n.yAxisTicks)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("wrapTicks",n.wrapTicks)}}var N0=["ngx-charts-pie-label",""];var B0=["ngx-charts-pie-arc",""];function G0(t,e){if(t&1&&(q(),u(0,"defs"),I(1,"g",3),m()),t&2){let n=w();f(),y("color",n.fill)("name",n.radialGradientId)("startOpacity",n.startOpacity)}}var z0=["ngx-charts-pie-series",""];function H0(t,e){if(t&1&&(q(),I(0,"g",3)),t&2){let n=w().$implicit,i=w();y("data",n)("radius",i.outerRadius)("color",i.color(n))("label",i.labelText(n))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",n.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function $0(t,e){if(t&1){let n=Te();q(),u(0,"g"),G(1,H0,1,10,"g",1),u(2,"g",2),Y("select",function(a){J(n);let s=w();return ee(s.onClick(a))})("activate",function(a){J(n);let s=w();return ee(s.activate.emit(a))})("deactivate",function(a){J(n);let s=w();return ee(s.deactivate.emit(a))})("dblclick",function(a){J(n);let s=w();return ee(s.dblclick.emit(a))}),m()()}if(t&2){let n=e.$implicit,i=w();f(),y("ngIf",i.labelVisible(n)),f(),y("startAngle",n.startAngle)("endAngle",n.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(n))("value",n.data.value)("gradient",i.gradient)("data",n.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(n.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(n))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",n.data)}}var X0=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function W0(t,e,n){n=n||{};let i,a,s,r=null,o=0;function l(){o=n.leading===!1?0:+new Date,r=null,s=t.apply(i,a)}return function(){let c=+new Date;!o&&n.leading===!1&&(o=c);let h=e-(c-o);return i=this,a=arguments,h<=0?(clearTimeout(r),r=null,o=c,s=t.apply(i,a)):!r&&n.trailing!==!1&&(r=setTimeout(l,h)),s}}function Y0(t,e){return function(i,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:W0(s.value,t,e)}),this[a]}}}}var ue=(function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t})(ue||{}),Jt=7;function bd(t,e,n){if(n===ue.Top)return t.top-Jt;if(n===ue.Bottom)return t.top+t.height-e.height+Jt;if(n===ue.Center)return t.top+t.height/2-e.height/2}function Td(t,e,n){if(n===ue.Left)return t.left-Jt;if(n===ue.Right)return t.left+t.width-e.width+Jt;if(n===ue.Center)return t.left+t.width/2-e.width/2}var Fn=class t{static calculateVerticalAlignment(e,n,i){let a=bd(e,n,i);return a+n.height>window.innerHeight&&(a=window.innerHeight-n.height),a}static calculateVerticalCaret(e,n,i,a){let s;a===ue.Top&&(s=e.height/2-i.height/2+Jt),a===ue.Bottom&&(s=n.height-e.height/2-i.height/2-Jt),a===ue.Center&&(s=n.height/2-i.height/2);let r=bd(e,n,a);return r+n.height>window.innerHeight&&(s+=r+n.height-window.innerHeight),s}static calculateHorizontalAlignment(e,n,i){let a=Td(e,n,i);return a+n.width>window.innerWidth&&(a=window.innerWidth-n.width),a}static calculateHorizontalCaret(e,n,i,a){let s;a===ue.Left&&(s=e.width/2-i.width/2+Jt),a===ue.Right&&(s=n.width-e.width/2-i.width/2-Jt),a===ue.Center&&(s=n.width/2-i.width/2);let r=Td(e,n,a);return r+n.width>window.innerWidth&&(s+=r+n.width-window.innerWidth),s}static shouldFlip(e,n,i,a){let s=!1;return i===ue.Right&&e.left+e.width+n.width+a>window.innerWidth&&(s=!0),i===ue.Left&&e.left-n.width-a<0&&(s=!0),i===ue.Top&&e.top-n.height-a<0&&(s=!0),i===ue.Bottom&&e.top+e.height+n.height+a>window.innerHeight&&(s=!0),s}static positionCaret(e,n,i,a,s){let r=0,o=0;return e===ue.Right?(o=-7,r=t.calculateVerticalCaret(i,n,a,s)):e===ue.Left?(o=n.width,r=t.calculateVerticalCaret(i,n,a,s)):e===ue.Top?(r=n.height,o=t.calculateHorizontalCaret(i,n,a,s)):e===ue.Bottom&&(r=-7,o=t.calculateHorizontalCaret(i,n,a,s)),{top:r,left:o}}static positionContent(e,n,i,a,s){let r=0,o=0;return e===ue.Right?(o=i.left+i.width+a,r=t.calculateVerticalAlignment(i,n,s)):e===ue.Left?(o=i.left-n.width-a,r=t.calculateVerticalAlignment(i,n,s)):e===ue.Top?(r=i.top-n.height-a,o=t.calculateHorizontalAlignment(i,n,s)):e===ue.Bottom&&(r=i.top+i.height+a,o=t.calculateHorizontalAlignment(i,n,s)),{top:r,left:o}}static determinePlacement(e,n,i,a){if(t.shouldFlip(i,n,e,a)){if(e===ue.Right)return ue.Left;if(e===ue.Left)return ue.Right;if(e===ue.Top)return ue.Bottom;if(e===ue.Bottom)return ue.Top}return e}},j0=(()=>{let e=class e{get cssClasses(){let i="ngx-charts-tooltip-content";return i+=` position-${this.placement}`,i+=` type-${this.type}`,i+=` ${this.cssClass}`,i}constructor(i,a,s){this.element=i,this.renderer=a,this.platformId=s}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!ni(this.platformId))return;let i=this.element.nativeElement,a=this.host.nativeElement.getBoundingClientRect();if(!a.height&&!a.width)return;let s=i.getBoundingClientRect();this.checkFlip(a,s),this.positionContent(i,a,s),this.showCaret&&this.positionCaret(a,s),setTimeout(()=>this.renderer.addClass(i,"animate"),1)}positionContent(i,a,s){let{top:r,left:o}=Fn.positionContent(this.placement,s,a,this.spacing,this.alignment);this.renderer.setStyle(i,"top",`${r}px`),this.renderer.setStyle(i,"left",`${o}px`)}positionCaret(i,a){let s=this.caretElm.nativeElement,r=s.getBoundingClientRect(),{top:o,left:l}=Fn.positionCaret(this.placement,a,i,r,this.alignment);this.renderer.setStyle(s,"top",`${o}px`),this.renderer.setStyle(s,"left",`${l}px`)}checkFlip(i,a){this.placement=Fn.determinePlacement(this.placement,a,i,this.spacing)}onWindowResize(){this.position()}};e.\u0275fac=function(a){return new(a||e)(Se(xt),Se(Es),Se(ii))},e.\u0275cmp=le({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(a,s){if(a&1&&Bt(Lf,5),a&2){let r;_t(r=vt())&&(s.caretElm=r.first)}},hostVars:2,hostBindings:function(a,s){a&1&&Y("resize",function(){return s.onWindowResize()},Ho),a&2&&wi(s.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},standalone:!1,decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(a,s){a&1&&(u(0,"div"),I(1,"span",1,0),u(3,"div",2),G(4,Ff,2,4,"span",3)(5,Mf,1,1,"span",4),m()()),a&2&&(f(),wi(el("tooltip-caret position-",s.placement)),y("hidden",!s.showCaret),f(3),y("ngIf",!s.title),f(),y("ngIf",s.title))},dependencies:[we,rl],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:#000000bf;font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translateZ(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2});let t=e;return Po([Y0(100)],t.prototype,"onWindowResize",null),t})(),Yr=class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,n){n=this.assignDefaults(n);let i=this.injectComponent(e,n);return this.register(e,i),i}destroy(e){let n=this.components.get(e.componentType);if(n&&n.length){let i=n.indexOf(e);i>-1&&(n[i].destroy(),n.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){let n=this.components.get(e);if(n&&n.length){let i=n.length-1;for(;i>=0;)this.destroy(n[i--])}}injectComponent(e,n){return this.injectionService.appendComponent(e,n)}assignDefaults(e){let n=je({},this.defaults.inputs),i=je({},this.defaults.outputs);return!e.inputs&&!e.outputs&&(e={inputs:e}),n&&(e.inputs=je(je({},n),e.inputs)),i&&(e.outputs=je(je({},i),e.outputs)),e}register(e,n){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(n)}};function q0(t){return t.element}var Pd=(()=>{let e=class e{static setGlobalRootViewContainer(i){e.globalRootViewContainer=i}constructor(i,a){this.applicationRef=i,this.injector=a}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(i){this._container=i}getComponentRootNode(i){return q0(i)?i.element.nativeElement:i.hostView&&i.hostView.rootNodes.length>0?i.hostView.rootNodes[0]:i.location.nativeElement}getRootViewContainerNode(i){return this.getComponentRootNode(i)}projectComponentBindings(i,a){if(a){if(a.inputs!==void 0){let s=Object.getOwnPropertyNames(a.inputs);for(let r of s)i.instance[r]=a.inputs[r]}if(a.outputs!==void 0){let s=Object.getOwnPropertyNames(a.outputs);for(let r of s)i.instance[r]=a.outputs[r]}}return i}appendComponent(i,a={},s){s||(s=this.getRootViewContainer());let r=this.getComponentRootNode(s),o=new ma(r,this.applicationRef,this.injector),l=new rn(i),c=o.attach(l);return this.projectComponentBindings(c,a),c}};e.globalRootViewContainer=null,e.\u0275fac=function(a){return new(a||e)(Vt(jo),Vt(zn))},e.\u0275prov=He({token:e,factory:e.\u0275fac});let t=e;return t})(),qr=(()=>{let e=class e extends Yr{constructor(i){super(i),this.type=j0}};e.\u0275fac=function(a){return new(a||e)(Vt(Pd))},e.\u0275prov=He({token:e,factory:e.\u0275fac});let t=e;return t})(),ei=(function(t){return t.Right="right",t.Below="below",t})(ei||{}),Dn=(function(t){return t.ScaleLegend="scaleLegend",t.Legend="legend",t})(Dn||{}),_e=(function(t){return t.Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",t})(_e||{});function Mn(t){return t instanceof Date?t=t.toLocaleDateString():t=t.toLocaleString(),t}function Id(t){return t.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[e])}var Q0=(()=>{let e=class e{constructor(){this.isActive=!1,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.toggle=new ae}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(a,s){a&1&&Y("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},standalone:!1,decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(a,s){a&1&&(u(0,"span",0),Y("click",function(){return s.select.emit(s.formattedLabel)}),u(1,"span",1),Y("click",function(){return s.toggle.emit(s.formattedLabel)}),m(),u(2,"span",2),b(3),m()()),a&2&&(Pe("active",s.isActive),y("title",s.formattedLabel),f(),Ke("background-color",s.color),f(2),de(" ",s.trimmedLabel," "))},encapsulation:2,changeDetection:0});let t=e;return t})(),Z0=(()=>{let e=class e{constructor(i){this.cd=i,this.horizontal=!1,this.labelClick=new ae,this.labelActivate=new ae,this.labelDeactivate=new ae,this.legendEntries=[]}ngOnChanges(i){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let i=[];for(let a of this.data){let s=Mn(a);i.findIndex(o=>o.label===s)===-1&&i.push({label:a,formattedLabel:s,color:this.colors.getColor(a)})}return i}isActive(i){return this.activeEntries?this.activeEntries.find(s=>i.label===s.name)!==void 0:!1}activate(i){this.labelActivate.emit(i)}deactivate(i){this.labelDeactivate.emit(i)}trackBy(i,a){return a.label}};e.\u0275fac=function(a){return new(a||e)(Se(Ns))},e.\u0275cmp=le({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},standalone:!1,features:[Ee],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(a,s){a&1&&(u(0,"div"),G(1,Of,3,1,"header",0),u(2,"div",1)(3,"ul",2),G(4,Pf,2,4,"li",3),m()()()),a&2&&(Ke("width",s.width,"px"),f(),y("ngIf",(s.title==null?null:s.title.length)>0),f(2),Ke("max-height",s.height-45,"px"),Pe("horizontal-legend",s.horizontal),f(),y("ngForOf",s.legendEntries)("ngForTrackBy",s.trackBy))},dependencies:[qe,we,Q0],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:#0000000d}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),U0=(()=>{let e=class e{constructor(){this.horizontal=!1}ngOnChanges(i){let a=this.gradientString(this.colors.range(),this.colors.domain()),s=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${s}, ${a})`}gradientString(i,a){a.push(1);let s=[];return i.reverse().forEach((r,o)=>{s.push(`${r} ${Math.round(a[o]*100)}%`)}),s.join(", ")}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},standalone:!1,features:[Ee],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(a,s){a&1&&(u(0,"div",0)(1,"div",1)(2,"span"),b(3),m()(),I(4,"div",2),u(5,"div",1)(6,"span"),b(7),m()()()),a&2&&(Ke("height",s.horizontal?void 0:s.height,"px")("width",s.width,"px"),Pe("horizontal-legend",s.horizontal),f(3),Ce(s.valueRange[1].toLocaleString()),f(),Ke("background",s.gradient),f(3),Ce(s.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),Vd=(()=>{let e=class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new ae,this.legendLabelActivate=new ae,this.legendLabelDeactivate=new ae,this.LegendPosition=ei,this.LegendType=Dn}ngOnChanges(i){this.update()}update(){let i=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===ei.Right)&&(this.legendType===Dn.ScaleLegend?i=1:i=2));let a=12-i;this.chartWidth=Math.floor(this.view[0]*a/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===ei.Right?Math.floor(this.view[0]*i/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===_e.Linear?Dn.ScaleLegend:Dn.Legend}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},standalone:!1,features:[tl([qr]),Ee],ngContentSelectors:If,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(a,s){a&1&&(Ko(),u(0,"div",0),q(),u(1,"svg",1),Jo(2),m(),G(3,Vf,1,5,"ngx-charts-scale-legend",2)(4,Rf,1,7,"ngx-charts-legend",3),m()),a&2&&(Ke("width",s.view[0],"px")("height",s.view[1],"px"),f(),pe("width",s.chartWidth)("height",s.view[1]),f(2),y("ngIf",s.showLegend&&s.legendType===s.LegendType.ScaleLegend),f(),y("ngIf",s.showLegend&&s.legendType===s.LegendType.Legend))},dependencies:[we,Z0,U0],encapsulation:2,changeDetection:0});let t=e;return t})(),K0=(()=>{let e=class e{constructor(i,a){this.element=i,this.zone=a,this.visible=new ae,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let i=()=>{if(!this.element)return;let{offsetHeight:a,offsetWidth:s}=this.element.nativeElement;a&&s?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>i(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>i())})}};e.\u0275fac=function(a){return new(a||e)(Se(xt),Se(Ui))},e.\u0275dir=Fs({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1});let t=e;return t})();function wd(t){return toString.call(t)==="[object Date]"}var Rd=(()=>{let e=class e{constructor(i,a,s,r){this.chartElement=i,this.zone=a,this.cd=s,this.platformId=r,this.scheme="cool",this.schemeType=_e.Ordinal,this.animations=!0,this.select=new ae}ngOnInit(){Hn(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new K0(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(i){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let i=this.getContainerDims();i&&(this.width=i.width,this.height=i.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let i,a,s=this.chartElement.nativeElement;if(ni(this.platformId)&&s.parentNode!==null){let r=s.parentNode.getBoundingClientRect();i=r.width,a=r.height}return i&&a?{width:i,height:a}:null}formatDates(){for(let i=0;i<this.results.length;i++){let a=this.results[i];if(a.label=a.name,wd(a.label)&&(a.label=a.label.toLocaleDateString()),a.series)for(let s=0;s<a.series.length;s++){let r=a.series[s];r.label=r.name,wd(r.label)&&(r.label=r.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!ni(this.platformId))return;let a=Io(window,"resize").pipe(Ro(200)).subscribe(s=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=a}cloneData(i){let a=[];for(let s of i){let r={};if(s.name!==void 0&&(r.name=s.name),s.value!==void 0&&(r.value=s.value),s.series!==void 0){r.series=[];for(let o of s.series){let l=Object.assign({},o);r.series.push(l)}}s.extra!==void 0&&(r.extra=JSON.parse(JSON.stringify(s.extra))),s.source!==void 0&&(r.source=s.source),s.target!==void 0&&(r.target=s.target),a.push(r)}return a}};e.\u0275fac=function(a){return new(a||e)(Se(xt),Se(Ui),Se(Ns),Se(ii))},e.\u0275cmp=le({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[Ee],decls:1,vars:0,template:function(a,s){a&1&&I(0,"div")},encapsulation:2});let t=e;return t})(),ke=(function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t})(ke||{}),Nd=(()=>{let e=class e{constructor(i){this.textHeight=25,this.margin=5,this.element=i.nativeElement}ngOnChanges(i){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case ke.Top:this.y=this.offset,this.x=this.width/2;break;case ke.Bottom:this.y=this.offset,this.x=this.width/2;break;case ke.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case ke.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}};e.\u0275fac=function(a){return new(a||e)(Se(xt))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},standalone:!1,features:[Ee],attrs:Nf,decls:2,vars:6,template:function(a,s){a&1&&(q(),u(0,"text"),b(1),m()),a&2&&(pe("stroke-width",s.strokeWidth)("x",s.x)("y",s.y)("text-anchor",s.textAnchor)("transform",s.transform),f(),de(" ",s.label," "))},encapsulation:2,changeDetection:0});let t=e;return t})();function Qr(t,e=16){return typeof t!="string"?typeof t=="number"?t+"":"":(t=t.trim(),t.length<=e?t:`${t.slice(0,e)}...`)}function Bd(t,e){if(t.length>e){let n=[],i=Math.floor(t.length/e);for(let a=0;a<t.length;a++)a%i===0&&n.push(t[a]);t=n}return t}function Gd(t,e,n){let i=(t||"").toString(),a=[];if(/\s/.test(i))a=i.split(/\s+/).reduce((s,r)=>{let o=(s.pop()||"")+" ";return o.length+r.length>e?[...s,o.trim(),r.trim()]:[...s,o+r]},[]);else{let s=0;for(;s<i.length;)a.push(i.substring(s,s+e)),s+=e}return a.length>n&&(a=a.splice(0,n),a[a.length-1]+="..."),a}var Ye=(function(t){return t.Start="start",t.Middle="middle",t.End="end",t})(Ye||{});function Ot(t,e,n,i,a,[s,r,o,l]){let c="";return n=Math.floor(n),i=Math.floor(i),n=n===0?1:n,i=i===0?1:i,c=`M${[t+a,e]}`,c+=`h${n-2*a}`,r?c+=`a${[a,a]} 0 0 1 ${[a,a]}`:c+=`h${a}v${a}`,c+=`v${i-2*a}`,l?c+=`a${[a,a]} 0 0 1 ${[-a,a]}`:c+=`v${a}h${-a}`,c+=`h${2*a-n}`,o?c+=`a${[a,a]} 0 0 1 ${[-a,-a]}`:c+=`h${-a}v${-a}`,c+=`v${2*a-i}`,s?c+=`a${[a,a]} 0 0 1 ${[a,-a]}`:c+=`v${-a}h${a}`,c+="z",c}var Sd=(()=>{let e=class e{get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}constructor(i){this.platformId=i,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new ae,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Ye.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16,this.referenceLineLength=0}ngOnChanges(i){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ni(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let i=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);i!==this.height&&(this.height=i,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let i=this.scale;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5}:this.scale,this.ticks=this.getTicks();let a=this.orient===ke.Top||this.orient===ke.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.orient){case ke.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Ye.Middle,this.x2=this.innerTickSize*a,this.x1=this.tickSpacing*a,this.dx=a<0?"0em":".71em";break;case ke.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Ye.End,this.y2=this.innerTickSize*-a,this.y1=this.tickSpacing*-a,this.dx=".32em";break;case ke.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Ye.Middle,this.y2=this.innerTickSize*a,this.y1=this.tickSpacing*a,this.dx=a<0?"0em":".71em";break;case ke.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Ye.Start,this.x2=this.innerTickSize*-a,this.x1=this.tickSpacing*-a,this.dx=".32em";break;default:}this.tickFormatting?this.tickFormat=this.tickFormatting:i.tickFormat?this.tickFormat=i.tickFormat.apply(i,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()};let s=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.textTransform="",s&&s!==0?(this.textTransform=`rotate(${s})`,this.textAnchor=Ye.End,this.verticalSpacing=10):this.textAnchor=Ye.Middle,setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(i=>i.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(i=>i.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Ot(this.refMax,-this.gridLineHeight+25,this.refMin-this.refMax,this.gridLineHeight,0,[!1,!1,!1,!1])}getRotationAngle(i){let a=0;this.maxTicksLength=0;for(let p=0;p<i.length;p++){let v=this.tickFormat(i[p]).toString(),_=v.length;this.trimTicks&&(_=this.tickTrim(v).length),_>this.maxTicksLength&&(this.maxTicksLength=_)}let s=Math.min(this.maxTicksLength,this.maxAllowedLength),r=7,o=s*r,l=o,c=Math.floor(this.width/i.length);for(;l>c&&a>-90;)a-=30,l=Math.cos(a*(Math.PI/180))*o;let h=14;if(this.isWrapTicksSupported){let p=this.ticks.reduce((_,S)=>S.length>_.length?S:_,"");h=14*(this.tickChunks(p).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(p)}let d=a!==0?Math.max(Math.abs(Math.sin(a*Math.PI/180))*this.maxTickLength*r,10):h;return this.approxHeight=Math.min(d,200),this.showRefLines&&this.referenceLines&&this.setReferencelines(),a}getTicks(){let i,a=this.getMaxTicks(20),s=this.getMaxTicks(100);return this.tickValues?i=this.tickValues:this.scale.ticks?i=this.scale.ticks.apply(this.scale,[s]):(i=this.scale.domain(),i=Bd(i,a)),i}getMaxTicks(i){return Math.floor(this.width/i)}tickTransform(i){return"translate("+this.adjustedScale(i)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(i){return this.trimTicks?Qr(i,this.maxTickLength):i}getMaxPossibleLengthForTick(i){if(this.scale.bandwidth){let s=Math.floor(this.scale.bandwidth()/7),r=i.slice(0,s);return Math.max(r.length,this.maxTickLength)}return this.maxTickLength}tickChunks(i){if(i.toString().length>this.maxTickLength&&this.scale.bandwidth){let s=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(s<=1)return[this.tickTrim(i)];let r=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return ni(this.platformId)||(r=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),s=Math.min(s,5),Gd(i,r,s<1?1:s)}return[this.tickTrim(i)]}};e.\u0275fac=function(a){return new(a||e)(Se(ii))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(a,s){if(a&1&&Bt(Dd,5),a&2){let r;_t(r=vt())&&(s.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ee],attrs:Bf,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],["class","ref-line",4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"],[1,"reference-area"],[1,"ref-line"],["y1","25",1,"refline-path","gridline-path-vertical"],["transform","rotate(-270) translate(5, -5)",1,"refline-label"]],template:function(a,s){a&1&&(q(),u(0,"g",null,0),G(2,Yf,2,2,"g",3),m(),G(3,qf,2,2,"g",4)(4,Qf,1,2,"path",5)(5,Kf,2,1,"g",6)),a&2&&(f(2),y("ngForOf",s.ticks),f(),y("ngForOf",s.ticks),f(),y("ngIf",s.referenceLineLength>1&&s.refMax&&s.refMin&&s.showRefLines),f(),y("ngForOf",s.referenceLines))},dependencies:[qe,we],encapsulation:2,changeDetection:0});let t=e;return t})(),J0=(()=>{let e=class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=ke.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ae,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=ke}ngOnChanges(i){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:i}){let a=i+25+5;a!==this.labelOffset&&(this.labelOffset=a,setTimeout(()=>{this.dimensionsChanged.emit({height:i})},0))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(a,s){if(a&1&&Bt(Sd,5),a&2){let r;_t(r=vt())&&(s.ticksComponent=r.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ee],attrs:Jf,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","referenceLines","showRefLines","showRefLabels","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","referenceLines","showRefLines","showRefLabels","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(a,s){a&1&&(q(),u(0,"g"),G(1,e0,1,16,"g",0)(2,t0,1,5,"g",1),m()),a&2&&(pe("class",s.xAxisClassName)("transform",s.transform),f(),y("ngIf",s.xScale),f(),y("ngIf",s.showLabel))},dependencies:[we,Nd,Sd],encapsulation:2,changeDetection:0});let t=e;return t})(),Cd=(()=>{let e=class e{constructor(i){this.platformId=i,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new ae,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Ye.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=ke}ngOnChanges(i){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ni(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let i=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);i!==this.width&&(this.width=i,this.dimensionsChanged.emit({width:i}),setTimeout(()=>this.updateDims()))}update(){let i=this.scale,a=this.orient===ke.Top||this.orient===ke.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:i.tickFormat?this.tickFormat=i.tickFormat.apply(i,this.tickArguments):this.tickFormat=function(s){return s.constructor.name==="Date"?s.toLocaleDateString():s.toLocaleString()},this.adjustedScale=i.bandwidth?s=>{let r=i(s)+i.bandwidth()*.5;if(this.wrapTicks&&s.toString().length>this.maxTickLength){let o=this.tickChunks(s).length;if(o===1)return r;let l=i.bandwidth(),c=o*8,h=l*.5-c*.5;return i(s)+h}return r}:i,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case ke.Top:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=Ye.Middle,this.y2=this.innerTickSize*a,this.y1=this.tickSpacing*a,this.dy=a<0?"0em":".71em";break;case ke.Bottom:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=Ye.Middle,this.y2=this.innerTickSize*a,this.y1=this.tickSpacing*a,this.dy=a<0?"0em":".71em";break;case ke.Left:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=Ye.End,this.x2=this.innerTickSize*-a,this.x1=this.tickSpacing*-a,this.dy=".32em";break;case ke.Right:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=Ye.Start,this.x2=this.innerTickSize*-a,this.x1=this.tickSpacing*-a,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(i=>i.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(i=>i.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Ot(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let i,a=this.getMaxTicks(20),s=this.getMaxTicks(50);return this.tickValues?i=this.tickValues:this.scale.ticks?i=this.scale.ticks.apply(this.scale,[s]):(i=this.scale.domain(),i=Bd(i,a)),i}getMaxTicks(i){return Math.floor(this.height/i)}tickTransform(i){return`translate(${this.adjustedScale(i)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(i){return this.trimTicks?Qr(i,this.maxTickLength):i}getApproximateAxisWidth(){return Math.max(...this.ticks.map(s=>this.tickTrim(this.tickFormat(s)).length))*7}tickChunks(i){if(i.toString().length>this.maxTickLength&&this.scale.bandwidth){let a=this.maxTickLength,s=Math.floor(this.scale.bandwidth()/15);return s<=1?[this.tickTrim(i)]:Gd(i,a,Math.min(s,5))}return[this.tickFormat(i)]}};e.\u0275fac=function(a){return new(a||e)(Se(ii))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(a,s){if(a&1&&Bt(Dd,5),a&2){let r;_t(r=vt())&&(s.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ee],attrs:i0,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],["class","ref-line",4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],[1,"ref-line"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(a,s){a&1&&(q(),u(0,"g",null,0),G(2,h0,2,2,"g",3),m(),G(3,d0,1,2,"path",4)(4,g0,2,2,"g",5)(5,_0,2,1,"g",6)),a&2&&(f(2),y("ngForOf",s.ticks),f(),y("ngIf",s.referenceLineLength>1&&s.refMax&&s.refMin&&s.showRefLines),f(),y("ngForOf",s.ticks),f(),y("ngForOf",s.referenceLines))},dependencies:[qe,we],encapsulation:2,changeDetection:0});let t=e;return t})(),ex=(()=>{let e=class e{constructor(){this.showGridLines=!1,this.yOrient=ke.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ae,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(i){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===ke.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:i}){i!==this.labelOffset&&this.yOrient===ke.Right?(this.labelOffset=i+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:i})},0)):i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({width:i})},0))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(a,s){if(a&1&&Bt(Cd,5),a&2){let r;_t(r=vt())&&(s.ticksComponent=r.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ee],attrs:v0,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(a,s){a&1&&(q(),u(0,"g"),G(1,y0,1,15,"g",0)(2,b0,1,5,"g",1),m()),a&2&&(pe("class",s.yAxisClassName)("transform",s.transform),f(),y("ngIf",s.yScale),f(),y("ngIf",s.showLabel))},dependencies:[we,Nd,Cd],encapsulation:2,changeDetection:0});let t=e;return t})(),kd=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Ie]});let t=e;return t})(),Za=(function(t){return t.popover="popover",t.tooltip="tooltip",t})(Za||{}),Xi=(function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t})(Xi||{}),zd=(()=>{let e=class e{get listensForFocus(){return this.tooltipShowEvent===Xi.all||this.tooltipShowEvent===Xi.focus}get listensForHover(){return this.tooltipShowEvent===Xi.all||this.tooltipShowEvent===Xi.mouseover}constructor(i,a,s){this.tooltipService=i,this.viewContainerRef=a,this.renderer=s,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=ue.Top,this.tooltipAlignment=ue.Center,this.tooltipType=Za.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Xi.all,this.tooltipImmediateExit=!1,this.show=new ae,this.hide=new ae}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(i){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(i))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(i){if(this.component||this.tooltipDisabled)return;let a=i?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let s=this.createBoundOptions();this.component=this.tooltipService.create(s),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},a)}addHideListeners(i){this.mouseEnterContentEvent=this.renderer.listen(i,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(i,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",a=>{i.contains(a.target)||this.hideTooltip()}))}hideTooltip(i=!1){if(!this.component)return;let a=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),i?a():this.timeout=setTimeout(a,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}};e.\u0275fac=function(a){return new(a||e)(Se(qr),Se(Ds),Se(Es))},e.\u0275dir=Fs({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(a,s){a&1&&Y("focusin",function(){return s.onFocus()})("blur",function(){return s.onBlur()})("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(o){return s.onMouseLeave(o.target)})("click",function(){return s.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"},standalone:!1});let t=e;return t})(),Ad=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({providers:[Pd,qr],imports:[Ie]});let t=e;return t})(),Ld={};function Zr(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,Ld[t]?Zr():(Ld[t]=!0,t)}var Ge=(function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t})(Ge||{});var tx=(()=>{let e=class e{constructor(){this.orientation=Ge.Vertical}ngOnChanges(i){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Ge.Horizontal?this.x2="100%":this.orientation===Ge.Vertical&&(this.y1="100%")}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},standalone:!1,features:[Ee],attrs:T0,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(a,s){a&1&&(q(),u(0,"linearGradient",0),G(1,w0,1,5,"stop",1),m()),a&2&&(y("id",s.name),pe("x1",s.x1)("y1",s.y1)("x2",s.x2)("y2",s.y2),f(),y("ngForOf",s.stops))},dependencies:[qe],encapsulation:2,changeDetection:0});let t=e;return t})();var ix=(()=>{let e=class e{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(i){this.stopsInput=i}ngOnChanges(i){this.r="30%",("color"in i||"startOpacity"in i||"endOpacity"in i)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},standalone:!1,features:[Ee],attrs:S0,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(a,s){a&1&&(q(),u(0,"radialGradient",0),G(1,C0,1,5,"stop",1),m()),a&2&&(y("id",s.name),pe("cx",s.cx)("cy",s.cy)("r",s.r),f(),y("ngForOf",s.stops))},dependencies:[qe],encapsulation:2,changeDetection:0});let t=e;return t})();var jr;typeof window<"u"?jr=window:typeof global<"u"&&(jr=global);var EA=jr.MouseEvent;var Je=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Ie,kd,Ad,Ie,kd,Ad]});let t=e;return t})();function Hd({width:t,height:e,margins:n,showXAxis:i=!1,showYAxis:a=!1,xAxisHeight:s=0,yAxisWidth:r=0,showXLabel:o=!1,showYLabel:l=!1,showLegend:c=!1,legendType:h=_e.Ordinal,legendPosition:d=ei.Right,columns:p=12}){let v=n[3],_=t,S=e-n[0]-n[2];return c&&d===ei.Right&&(h===_e.Ordinal?p-=2:p-=1),_=_*p/12,_=_-n[1]-n[3],i&&(S-=5,S-=s,o&&(S-=30)),a&&(_-=5,_-=r,v+=r,v+=10,l&&(_-=30,v+=30)),_=Math.max(0,_),S=Math.max(0,S),{width:Math.floor(_),height:Math.floor(S),xOffset:Math.floor(v)}}var Ed=[{name:"vivid",selectable:!0,group:_e.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:_e.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:_e.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:_e.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:_e.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:_e.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:_e.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:_e.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:_e.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:_e.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:_e.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:_e.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:_e.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:_e.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:_e.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],Qa=class{constructor(e,n,i,a){typeof e=="string"&&(e=Ed.find(s=>s.name===e)),this.colorDomain=e.domain,this.scaleType=n,this.domain=i,this.customColors=a,this.scale=this.generateColorScheme(e,n,this.domain)}generateColorScheme(e,n,i){typeof e=="string"&&(e=Ed.find(s=>s.name===e));let a;switch(n){case _e.Quantile:a=An().range(e.domain).domain(i);break;case _e.Ordinal:a=ui().range(e.domain).domain(i);break;case _e.Linear:{let s=[...e.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let r=Bi(0,1,1/s.length);a=Zt().range(s).domain(r)}break;default:break}return a}getColor(e){if(e==null)throw new Error("Value can not be null");if(this.scaleType===_e.Linear){let n=Zt().domain(this.domain).range([0,1]);return this.scale(n(e))}else{if(typeof this.customColors=="function")return this.customColors(e);let n=e.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===n.toLowerCase())),i?i.value:this.scale(e)}}getLinearGradientStops(e,n){n===void 0&&(n=this.domain[0]);let i=Zt().domain(this.domain).range([0,1]),a=Gi().domain(this.colorDomain).range([0,1]),s=this.getColor(e),r=i(n),o=this.getColor(n),l=i(e),c=1,h=r,d=[];for(d.push({color:o,offset:r,originalOffset:r,opacity:1});h<l&&c<this.colorDomain.length;){let p=this.colorDomain[c],v=a(p);if(v<=r){c++;continue}if(v.toFixed(4)>=(l-a.bandwidth()).toFixed(4))break;d.push({color:p,offset:v,opacity:1}),h=v,c++}if(d[d.length-1].offset<100&&d.push({color:s,offset:l,opacity:1}),l===r)d[0].offset=0,d[1].offset=100;else if(d[d.length-1].offset!==100)for(let p of d)p.offset=(p.offset-r)/(l-r)*100;return d}};var nx=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})(),ax=(()=>{let e=class e{constructor(i){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.hasGradient=!1,this.hideBar=!1,this.element=i.nativeElement}ngOnChanges(i){i.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+Zr().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let i=oi(this.element).select(".bar"),a=this.getPath();this.animations?i.transition().duration(500).attr("d",a):i.attr("d",a)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let i=this.getRadius(),a;return this.roundEdges?this.orientation===Ge.Vertical?(i=Math.min(this.height,i),a=Ot(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Ge.Horizontal&&(i=Math.min(this.width,i),a=Ot(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Ge.Vertical?a=Ot(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Ge.Horizontal&&(a=Ot(this.x,this.y,1,this.height,0,this.edges)),a}getPath(){let i=this.getRadius(),a;return this.roundEdges?this.orientation===Ge.Vertical?(i=Math.min(this.height,i),a=Ot(this.x,this.y,this.width,this.height,i,this.edges)):this.orientation===Ge.Horizontal&&(i=Math.min(this.width,i),a=Ot(this.x,this.y,this.width,this.height,i,this.edges)):a=Ot(this.x,this.y,this.width,this.height,i,this.edges),a}getRadius(){let i=0;return this.roundEdges&&this.height>5&&this.width>5&&(i=Math.floor(Math.min(5,this.height/2,this.width/2))),i}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let i=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Ge.Vertical?this.data.value>0?i=[!0,!0,!1,!1]:i=[!1,!1,!0,!0]:this.orientation===Ge.Horizontal&&(this.data.value>0?i=[!1,!0,!1,!0]:i=[!0,!1,!0,!1])),i}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Ge.Vertical&&this.height===0||this.orientation===Ge.Horizontal&&this.width===0)}};e.\u0275fac=function(a){return new(a||e)(Se(xt))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(a,s){a&1&&Y("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Ee],attrs:k0,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(a,s){a&1&&(G(0,A0,2,3,"defs",0),q(),u(1,"path",1),Y("click",function(){return s.select.emit(s.data)}),m()),a&2&&(y("ngIf",s.hasGradient),f(),Pe("active",s.isActive)("hidden",s.hideBar),pe("d",s.path)("aria-label",s.ariaLabel)("fill",s.hasGradient?s.gradientFill:s.fill))},dependencies:[we,tx],encapsulation:2,changeDetection:0});let t=e;return t})(),Kt=(function(t){return t.Standard="standard",t.Normalized="normalized",t.Stacked="stacked",t})(Kt||{}),Wi=(function(t){return t.positive="positive",t.negative="negative",t})(Wi||{}),sx=(()=>{let e=class e{constructor(i){this.dimensionsChanged=new ae,this.horizontalPadding=2,this.verticalPadding=5,this.element=i.nativeElement}ngOnChanges(i){this.update()}getSize(){let i=this.element.getBoundingClientRect().height,a=this.element.getBoundingClientRect().width;return{height:i,width:a,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=Mn(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}};e.\u0275fac=function(a){return new(a||e)(Se(xt))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Ee],attrs:L0,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(a,s){a&1&&(q(),u(0,"text",0),b(1),m()),a&2&&(pe("text-anchor",s.textAnchor)("transform",s.transform)("x",s.x)("y",s.y),f(),de(" ",s.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0});let t=e;return t})();var rx=(()=>{let e=class e{constructor(i){this.platformId=i,this.type=Kt.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.dataLabelHeightChanged=new ae,this.barsForDataLabels=[],this.barOrientation=Ge,this.isSSR=!1}ngOnInit(){Hn(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.updateTooltipSettings();let i;this.series.length&&(i=this.xScale.bandwidth()),i=Math.round(i);let a=Math.max(this.yScale.domain()[0],0),s={[Wi.positive]:0,[Wi.negative]:0},r=Wi.positive,o;this.type===Kt.Normalized&&(o=this.series.map(l=>l.value).reduce((l,c)=>l+c,0)),this.bars=this.series.map((l,c)=>{let h=l.value,d=this.getLabel(l),p=Mn(d),v=this.roundEdges;r=h>0?Wi.positive:Wi.negative;let _={value:h,label:d,roundEdges:v,data:l,width:i,formattedLabel:p,height:0,x:0,y:0};if(this.type===Kt.Standard)_.height=Math.abs(this.yScale(h)-this.yScale(a)),_.x=this.xScale(d),h<0?_.y=this.yScale(0):_.y=this.yScale(h);else if(this.type===Kt.Stacked){let R=s[r],M=R+h;s[r]+=h,_.height=this.yScale(R)-this.yScale(M),_.x=0,_.y=this.yScale(M),_.offset0=R,_.offset1=M}else if(this.type===Kt.Normalized){let R=s[r],M=R+h;s[r]+=h,o>0?(R=R*100/o,M=M*100/o):(R=0,M=0),_.height=this.yScale(R)-this.yScale(M),_.x=0,_.y=this.yScale(M),_.offset0=R,_.offset1=M,h=(M-R).toFixed(2)+"%"}this.colors.scaleType===_e.Ordinal?_.color=this.colors.getColor(d):this.type===Kt.Standard?(_.color=this.colors.getColor(h),_.gradientStops=this.colors.getLinearGradientStops(h)):(_.color=this.colors.getColor(_.offset1),_.gradientStops=this.colors.getLinearGradientStops(_.offset1,_.offset0));let S=p;return _.ariaLabel=p+" "+h.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(S=`${this.seriesName} \u2022 ${p}`,_.data.series=this.seriesName,_.ariaLabel=this.seriesName+" "+_.ariaLabel),_.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${Id(S)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(h):h.toLocaleString()}</span>
      `,_}),this.updateDataLabels()}updateDataLabels(){if(this.type===Kt.Stacked){this.barsForDataLabels=[];let i={};i.series=this.seriesName;let a=this.series.map(r=>r.value).reduce((r,o)=>o>0?r+o:r,0),s=this.series.map(r=>r.value).reduce((r,o)=>o<0?r+o:r,0);i.total=a+s,i.x=0,i.y=0,i.total>0?i.height=this.yScale(a):i.height=this.yScale(s),i.width=this.xScale.bandwidth(),this.barsForDataLabels.push(i)}else this.barsForDataLabels=this.series.map(i=>{let a={};return a.series=this.seriesName??i.label,a.total=i.value,a.x=this.xScale(i.label),a.y=this.yScale(0),a.height=this.yScale(a.total)-this.yScale(0),a.width=this.xScale.bandwidth(),a})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:ue.Top,this.tooltipType=this.tooltipDisabled?void 0:Za.tooltip}isActive(i){return this.activeEntries?this.activeEntries.find(s=>i.name===s.name&&i.value===s.value)!==void 0:!1}onClick(i){this.select.emit(i)}getLabel(i){return i.label?i.label:i.name}trackBy(i,a){return a.label}trackDataLabelBy(i,a){return i+"#"+a.series+"#"+a.total}};e.\u0275fac=function(a){return new(a||e)(Se(ii))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},standalone:!1,features:[Ee],attrs:E0,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(a,s){a&1&&G(0,F0,2,2,"g",0)(1,O0,2,2,"g",0)(2,I0,2,2,"g",0),a&2&&(y("ngIf",!s.isSSR),f(),y("ngIf",s.isSSR),f(),y("ngIf",s.showDataLabel))},dependencies:[qe,we,zd,ax,sx],encapsulation:2,data:{animation:[sr("animationState",[or(":leave",[si({opacity:1}),rr(500,si({opacity:0}))])])]},changeDetection:0});let t=e;return t})(),$d=(()=>{let e=class e extends Rd{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=ei.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new ae,this.deactivate=new ae,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}ngOnChanges(){this.update()}update(){if(super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=Hd({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`,this.showRefLines){let i=oi(this.chartElement.nativeElement).select(".bar-chart").node();oi(this.chartElement.nativeElement).selectAll(".ref-line").nodes().forEach(s=>i.appendChild(s))}}getXScale(){this.xDomain=this.getXDomain();let i=this.xDomain.length/(this.dims.width/this.barPadding+1);return Gi().range([0,this.dims.width]).paddingInner(i).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();let i=Zt().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?i.nice():i}getXDomain(){return this.results.map(i=>i.label)}getYDomain(){let i=this.results.map(r=>r.value),a=this.yScaleMin?Math.min(this.yScaleMin,...i):Math.min(0,...i);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(a=Math.min(a,...this.yAxisTicks));let s=this.yScaleMax?Math.max(this.yScaleMax,...i):Math.max(0,...i);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(s=Math.max(s,...this.yAxisTicks)),[a,s]}onClick(i){this.select.emit(i)}setColors(){let i;this.schemeType===_e.Ordinal?i=this.xDomain:i=this.yDomain,this.colors=new Qa(this.scheme,this.schemeType,i,this.customColors)}getLegendOptions(){let i={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return i.scaleType===_e.Ordinal?(i.domain=this.xDomain,i.colors=this.colors,i.title=this.legendTitle):(i.domain=this.yDomain,i.colors=this.colors.scale),i}updateYAxisWidth({width:i}){this.yAxisWidth=i,this.update()}updateXAxisHeight({height:i}){this.xAxisHeight=i,this.update()}onDataLabelMaxHeightChanged(i){i.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,i.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,i.size.height),i.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(i,a=!1){i=this.results.find(r=>a?r.label===i.name:r.name===i.name),!(this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series)>-1)&&(this.activeEntries=[i,...this.activeEntries],this.activate.emit({value:i,entries:this.activeEntries}))}onDeactivate(i,a=!1){i=this.results.find(r=>a?r.label===i.name:r.name===i.name);let s=this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series);this.activeEntries.splice(s,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:i,entries:this.activeEntries})}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=As(e)))(s||e)}})(),e.\u0275cmp=le({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(a,s,r){if(a&1&&Is(r,Fd,5),a&2){let o;_t(o=vt())&&(s.tooltipTemplate=o.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Ms,Ee],decls:5,vars:25,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activate","deactivate","select","dataLabelHeightChanged","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks"]],template:function(a,s){a&1&&(u(0,"ngx-charts-chart",0),Y("legendLabelClick",function(o){return s.onClick(o)})("legendLabelActivate",function(o){return s.onActivate(o,!0)})("legendLabelDeactivate",function(o){return s.onDeactivate(o,!0)}),q(),u(1,"g",1),G(2,V0,1,12,"g",2)(3,R0,1,13,"g",3),u(4,"g",4),Y("activate",function(o){return s.onActivate(o)})("deactivate",function(o){return s.onDeactivate(o)})("select",function(o){return s.onClick(o)})("dataLabelHeightChanged",function(o){return s.onDataLabelMaxHeightChanged(o)}),m()()()),a&2&&(y("view",Rs(22,Md,s.width,s.height))("showLegend",s.legend)("legendOptions",s.legendOptions)("activeEntries",s.activeEntries)("animations",s.animations),f(),pe("transform",s.transform),f(),y("ngIf",s.xAxis),f(),y("ngIf",s.yAxis),f(),y("xScale",s.xScale)("yScale",s.yScale)("colors",s.colors)("series",s.results)("dims",s.dims)("gradient",s.gradient)("tooltipDisabled",s.tooltipDisabled)("tooltipTemplate",s.tooltipTemplate)("showDataLabel",s.showDataLabel)("dataLabelFormatting",s.dataLabelFormatting)("activeEntries",s.activeEntries)("roundEdges",s.roundEdges)("animations",s.animations)("noBarWhenZero",s.noBarWhenZero))},dependencies:[we,J0,ex,Vd,rx],styles:[Od],encapsulation:2,changeDetection:0});let t=e;return t})();var Xd=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})();var ox=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})();var lx=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})();var cx=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})();var Wd=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})(),hx=(()=>{let e=class e{constructor(i){this.platformId=i,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=Qr}ngOnChanges(i){this.setTransforms(),this.update()}setTransforms(){if(Hn(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let i=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=i?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=i?`translate(${this.textX},${this.textY})`:null,this.textTransition=i||!this.animations?null:"transform 0.75s"}}update(){let i=this.radius;this.explodeSlices&&(i=this.radius*this.value/this.max);let s=En().innerRadius(i).outerRadius(i).centroid(this.data),r=this.data.pos[1]/s[1];(this.data.pos[1]===0||s[1]===0)&&(r=1);let o=[r*s[0],r*s[1]];this.line=`M${s}L${o}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?Ye.Start:Ye.End}midAngle(i){return i.startAngle+(i.endAngle-i.startAngle)/2}};e.\u0275fac=function(a){return new(a||e)(Se(ii))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},standalone:!1,features:[Ee],attrs:N0,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(a,s){a&1&&(u(0,"title"),b(1),m(),q(),u(2,"g")(3,"text",0),b(4),m()(),I(5,"path",1)),a&2&&(f(),Ce(s.label),f(),Ke("transform",s.styleTransform)("transition",s.textTransition),pe("transform",s.attrTransform),f(),Ke("text-anchor",s.textAnchor())("shape-rendering","crispEdges"),Pe("animation",s.animations),f(),de(" ",s.labelTrim?s.trimLabel(s.label,s.labelTrimSize):s.label," "),f(),Pe("animation",s.animations),pe("d",s.line)("stroke",s.color))},encapsulation:2,changeDetection:0});let t=e;return t})();var DA=2*Math.PI;var dx=(()=>{let e=class e{constructor(i){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.dblclick=new ae,this.barOrientation=Ge,this.initialized=!1,this.element=i.nativeElement}ngOnChanges(i){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let i=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+Zr().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=i.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let i=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(i=this.outerRadius*this.value/this.max),En().innerRadius(this.innerRadius).outerRadius(i).cornerRadius(this.cornerRadius)}loadAnimation(){let i=oi(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),a=this.calculateArc();i.transition().attrTween("d",function(s){this._current=this._current||s;let r=Object.assign({},s);r.endAngle=r.startAngle;let o=dt(r,r);return this._current=o(0),function(l){return a(o(l))}}).transition().duration(750).attrTween("d",function(s){this._current=this._current||s;let r=dt(this._current,s);return this._current=r(0),function(o){return a(r(o))}})}updateAnimation(){let i=oi(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),a=this.calculateArc();i.transition().duration(750).attrTween("d",function(s){this._current=this._current||s;let r=dt(this._current,s);return this._current=r(0),function(o){return a(r(o))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(i){i.preventDefault(),i.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:i})}};e.\u0275fac=function(a){return new(a||e)(Se(xt))},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[Ee],attrs:B0,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(a,s){a&1&&(q(),u(0,"g",0),G(1,G0,2,3,"defs",1),u(2,"path",2),Y("click",function(){return s.onClick()})("dblclick",function(o){return s.onDblClick(o)})("mouseenter",function(){return s.activate.emit(s.data)})("mouseleave",function(){return s.deactivate.emit(s.data)}),m()()),a&2&&(f(),y("ngIf",s.gradient),f(),Ke("pointer-events",s.getPointerEvents()),Pe("active",s.isActive),pe("d",s.path)("fill",s.getGradient()))},dependencies:[we,ix],encapsulation:2,changeDetection:0});let t=e;return t})(),ux=(()=>{let e=class e{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new ae,this.activate=new ae,this.deactivate=new ae,this.dblclick=new ae,this.placementTypes=ue,this.styleTypes=Za}ngOnChanges(i){this.update()}update(){let a=Wr().value(s=>s.value).sort(null)(this.series);this.max=Ha(a,s=>s.value),this.data=this.calculateLabelPositions(a),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(i){return i.startAngle+(i.endAngle-i.startAngle)/2}outerArc(){return En().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(i){let r=i;r.forEach(o=>{o.pos=this.outerArc().centroid(o),o.pos[0]=1.5*this.outerRadius*(this.midAngle(o)<Math.PI?1:-1)});for(let o=0;o<r.length-1;o++){let l=r[o];if(this.labelVisible(l))for(let c=o+1;c<r.length;c++){let h=r[c];if(this.labelVisible(h)&&h.pos[0]*l.pos[0]>0){let d=10-Math.abs(h.pos[1]-l.pos[1]);d>0&&(h.pos[1]+=Math.sign(h.pos[0])*d)}}}return r}labelVisible(i){return this.showLabels&&i.endAngle-i.startAngle>Math.PI/30}getTooltipTitle(i){return this.tooltipTemplate?void 0:this.tooltipText(i)}labelText(i){return this.labelFormatting?this.labelFormatting(i.data.name):this.label(i)}label(i){return Mn(i.data.name)}defaultTooltipText(i){let a=this.label(i),s=Mn(i.data.value);return`
      <span class="tooltip-label">${Id(a)}</span>
      <span class="tooltip-val">${s}</span>
    `}color(i){return this.colors.getColor(this.label(i))}trackBy(i,a){return a.data.name}onClick(i){this.select.emit(i)}isActive(i){return this.activeEntries?this.activeEntries.find(s=>i.name===s.name&&i.series===s.series)!==void 0:!1}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=le({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[Ee],attrs:z0,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(a,s){a&1&&G(0,$0,3,19,"g",0),a&2&&y("ngForOf",s.data)("ngForTrackBy",s.trackBy)},dependencies:[qe,we,zd,hx,dx],encapsulation:2,changeDetection:0});let t=e;return t})();var Yd=(()=>{let e=class e extends Rd{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=ei.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new ae,this.select=new ae,this.activate=new ae,this.deactivate=new ae}ngOnChanges(){this.update()}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=Hd({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let i=this.margins[3]+this.dims.width/2,a=this.margins[0]+this.dims.height/2;this.translation=`translate(${i}, ${a})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((s,r)=>this.domain.indexOf(s.name)-this.domain.indexOf(r.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(i=>i.label)}onClick(i){this.select.emit(i)}setColors(){this.colors=new Qa(this.scheme,_e.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:_e.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(i,a=!1){i=this.results.find(r=>a?r.label===i.name:r.name===i.name),!(this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series)>-1)&&(this.activeEntries=[i,...this.activeEntries],this.activate.emit({value:i,entries:this.activeEntries}))}onDeactivate(i,a=!1){i=this.results.find(r=>a?r.label===i.name:r.name===i.name);let s=this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series);this.activeEntries.splice(s,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:i,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=As(e)))(s||e)}})(),e.\u0275cmp=le({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(a,s,r){if(a&1&&Is(r,Fd,5),a&2){let o;_t(o=vt())&&(s.tooltipTemplate=o.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Ms,Ee],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(a,s){a&1&&(u(0,"ngx-charts-chart",0),Y("legendLabelActivate",function(o){return s.onActivate(o,!0)})("legendLabelDeactivate",function(o){return s.onDeactivate(o,!0)})("legendLabelClick",function(o){return s.onClick(o)}),q(),u(1,"g",1)(2,"g",2),Y("dblclick",function(o){return s.dblclick.emit(o)})("select",function(o){return s.onClick(o)})("activate",function(o){return s.onActivate(o)})("deactivate",function(o){return s.onDeactivate(o)}),m()()()),a&2&&(y("view",Rs(21,Md,s.width,s.height))("showLegend",s.legend)("legendOptions",s.legendOptions)("activeEntries",s.activeEntries)("animations",s.animations),f(),pe("transform",s.translation),f(),y("colors",s.colors)("series",s.data)("showLabels",s.labels)("labelFormatting",s.labelFormatting)("trimLabels",s.trimLabels)("maxLabelLength",s.maxLabelLength)("activeEntries",s.activeEntries)("innerRadius",s.innerRadius)("outerRadius",s.outerRadius)("explodeSlices",s.explodeSlices)("gradient",s.gradient)("animations",s.animations)("tooltipDisabled",s.tooltipDisabled)("tooltipTemplate",s.tooltipTemplate)("tooltipText",s.tooltipText))},dependencies:[Vd,ux],styles:[Od,X0],encapsulation:2,changeDetection:0});let t=e;return t})();var Ur=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})(),mx=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je,Ur,Wd]});let t=e;return t})();var px=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})();var gx=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})();var fx=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je,Ur,Xd]});let t=e;return t})();function xx(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var _x=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je]});let t=e;return t})(),jd=(()=>{let e=class e{constructor(){xx()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Me({imports:[Je,nx,Xd,ox,lx,cx,_x,Wd,mx,px,Ur,gx,fx]});let t=e;return t})();var Ua=class t{http=be(hl);apiUrl=`${Bl.apiUrl}/dashboard`;getKpis(e){let n=new Bs;return e&&(n=n.set("date",e)),this.http.get(`${this.apiUrl}/kpis`,{params:n})}getCharts(e,n){let i=new Bs;return e&&(i=i.set("from",e)),n&&(i=i.set("to",n)),this.http.get(`${this.apiUrl}/charts`,{params:i})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"})};function yx(t,e){if(t&1&&(u(0,"div",25)(1,"div")(2,"p",26),b(3),m(),u(4,"h3",27),b(5),m(),u(6,"p",28),b(7),m()(),u(8,"div"),I(9,"lucide-icon",29),m()()),t&2){let n=e.$implicit;f(3),Ce(n.label),f(2),Ce(n.value),f(2),Ce(n.subtext),f(),wi("p-3 rounded-xl "+n.bg),f(),wi("w-6 h-6 "+n.color),y("img",n.icon)}}function bx(t,e){if(t&1&&(u(0,"tr")(1,"td",30),b(2),m(),u(3,"td",31)(4,"span",32),b(5),m()()()),t&2){let n=e.$implicit;f(2),de(" ",n.name," "),f(3),de(" ",n.count," visitas ")}}function Tx(t,e){t&1&&(u(0,"p",33),b(1,"No hay datos suficientes."),m())}function wx(t,e){if(t&1&&(u(0,"tr")(1,"td",30),b(2),m(),u(3,"td",31)(4,"span",32),b(5),m()(),u(6,"td",31),b(7),m()()),t&2){let n=e.$implicit,i=w();f(2),de(" ",n.name," "),f(3),de(" ",n.count," "),f(2),Vs(" ",i.currencySymbol()," ",n.revenue," ")}}function Sx(t,e){t&1&&(u(0,"p",33),b(1,"No hay datos suficientes."),m())}var Ka=class t{dashboardService=be(Ua);configService=be(Hl);currencySymbol=Si(()=>this.configService.settings().currency==="USD"?"$":"S/");icons={Users:Li,CalendarCheck:zs,FileX:$s,DollarSign:Hs,Activity:Gs,TrendingUp:Rl,Clock:Wn,CreditCard:Al};kpis=et([]);patientsByStatus=[];visitsBySpecialty=[];genderDistribution=[];ageDistribution=[];paymentMethods=[];peakDays=[];peakHours=[];revenueBySpecialty=[];topPatients=[];topDoctors=[];view=[500,300];gradient=!1;showLegend=!0;showLabels=!0;isDoughnut=!0;colorScheme={domain:["#10B981","#F59E0B","#3B82F6","#6366F1","#8B5CF6"]};pieColorScheme={domain:["#10B981","#F59E0B","#EF4444"]};ngOnInit(){this.loadDashboardData()}loadDashboardData(){let e=new Date().toISOString().split("T")[0];this.dashboardService.getKpis(e).subscribe({next:s=>{this.kpis.set([{label:"Citas de Hoy",value:s.appointmentsToday.value,subtext:s.appointmentsToday.subtext,icon:zs,color:"text-blue-500",bg:"bg-blue-50"},{label:"Tasa Confirmaci\xF3n",value:s.confirmationRate.value,subtext:s.confirmationRate.subtext,icon:Gs,color:"text-green-500",bg:"bg-green-50"},{label:"Cancelaciones",value:s.cancellationRate.value,subtext:s.cancellationRate.subtext,icon:$s,color:"text-orange-500",bg:"bg-orange-50"},{label:"Ingresos (Mes)",value:`${this.currencySymbol()} ${s.monthlyRevenue.value}`,subtext:s.monthlyRevenue.subtext,icon:Hs,color:"text-emerald-600",bg:"bg-emerald-50"}])},error:s=>console.error("Error fetching KPIs",s)});let n=new Date,i=new Date(n.getFullYear(),n.getMonth(),1).toISOString().split("T")[0],a=new Date(n.getFullYear(),n.getMonth()+1,0).toISOString().split("T")[0];this.dashboardService.getCharts(i,a).subscribe({next:s=>{this.patientsByStatus=s.patientsByStatus,this.visitsBySpecialty=s.visitsBySpecialty,this.genderDistribution=s.genderDistribution,this.ageDistribution=s.ageDistribution,this.paymentMethods=s.paymentMethods,this.peakDays=s.peakDays,this.peakHours=s.peakHours,this.revenueBySpecialty=s.revenueBySpecialty,this.topDoctors=s.topDoctors,this.topPatients=s.topPatients},error:s=>console.error("Error fetching Charts",s)})}onSelect(e){console.log(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-dashboard"]],decls:92,vars:82,consts:[[1,"space-y-8","animate-fade-in"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],["class","bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start justify-between transition-transform hover:-translate-y-1",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border","border-gray-100","flex","flex-col"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center","gap-2"],[1,"w-5","h-5","text-gray-500",3,"img"],[1,"h-80","w-full","flex","items-center","justify-center"],[3,"select","scheme","results","gradient","legend","legendTitle","labels","doughnut"],[3,"select","scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","yAxisLabel"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"h-64","w-full","flex","items-center","justify-center"],[3,"select","scheme","results","gradient","legend","labels","doughnut"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border","border-gray-100","flex","flex-col","lg:col-span-2"],[3,"select","scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","xAxisLabel","showYAxisLabel","yAxisLabel"],[1,"overflow-y-auto","max-h-64"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["class","text-center text-gray-500 py-4 text-sm",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","pb-8"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border","border-gray-100","flex","items-start","justify-between","transition-transform","hover:-translate-y-1"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-xs","text-gray-400","mt-1"],[3,"img"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"text-center","text-gray-500","py-4","text-sm"]],template:function(n,i){n&1&&(u(0,"div",0)(1,"div")(2,"h2",1),b(3,"Dashboard"),m(),u(4,"p",2),b(5,"Resumen y m\xE9tricas clave de tu cl\xEDnica"),m()(),u(6,"div",3),G(7,yx,10,8,"div",4),m(),u(8,"div",5)(9,"div",6)(10,"h3",7),I(11,"lucide-icon",8),b(12," Estado de Pagos (Mes Actual) "),m(),u(13,"div",9)(14,"ngx-charts-pie-chart",10),Y("select",function(s){return i.onSelect(s)}),m()()(),u(15,"div",6)(16,"h3",7),I(17,"lucide-icon",8),b(18," Demanda por Especialidad "),m(),u(19,"div",9)(20,"ngx-charts-bar-vertical",11),Y("select",function(s){return i.onSelect(s)}),m()()()(),u(21,"div",12)(22,"div",6)(23,"h3",7),I(24,"lucide-icon",8),b(25," G\xE9nero "),m(),u(26,"div",13)(27,"ngx-charts-pie-chart",14),Y("select",function(s){return i.onSelect(s)}),m()()(),u(28,"div",15)(29,"h3",7),I(30,"lucide-icon",8),b(31," Distribuci\xF3n por Edad "),m(),u(32,"div",13)(33,"ngx-charts-bar-vertical",16),Y("select",function(s){return i.onSelect(s)}),m()()()(),u(34,"div",5)(35,"div",6)(36,"h3",7),I(37,"lucide-icon",8),b(38," D\xEDas de Mayor Afluencia "),m(),u(39,"div",13)(40,"ngx-charts-bar-vertical",11),Y("select",function(s){return i.onSelect(s)}),m()()(),u(41,"div",6)(42,"h3",7),I(43,"lucide-icon",8),b(44," Horas Pico "),m(),u(45,"div",13)(46,"ngx-charts-bar-vertical",16),Y("select",function(s){return i.onSelect(s)}),m()()(),u(47,"div",6)(48,"h3",7),I(49,"lucide-icon",8),b(50," M\xE9todos de Pago Preferidos "),m(),u(51,"div",13)(52,"ngx-charts-pie-chart",10),Y("select",function(s){return i.onSelect(s)}),m()()(),u(53,"div",6)(54,"h3",7),I(55,"lucide-icon",8),b(56," Pacientes Frecuentes (Top 5) "),m(),u(57,"div",17)(58,"table",18)(59,"thead",19)(60,"tr")(61,"th",20),b(62," Paciente"),m(),u(63,"th",20),b(64," Citas"),m()()(),u(65,"tbody",21),G(66,bx,6,2,"tr",22),m()(),G(67,Tx,2,0,"p",23),m()()(),u(68,"div",24)(69,"div",6)(70,"h3",7),I(71,"lucide-icon",8),b(72," Ingresos por Especialidad "),m(),u(73,"div",13)(74,"ngx-charts-bar-vertical",11),Y("select",function(s){return i.onSelect(s)}),m()()(),u(75,"div",6)(76,"h3",7),I(77,"lucide-icon",8),b(78," Top Doctores (M\xE1s Solicitados) "),m(),u(79,"div",17)(80,"table",18)(81,"thead",19)(82,"tr")(83,"th",20),b(84," Doctor "),m(),u(85,"th",20),b(86," Citas "),m(),u(87,"th",20),b(88," Ingresos "),m()()(),u(89,"tbody",21),G(90,wx,8,4,"tr",22),m()(),G(91,Sx,2,0,"p",23),m()()()()),n&2&&(f(7),y("ngForOf",i.kpis()),f(4),y("img",i.icons.CreditCard),f(3),y("scheme",i.pieColorScheme)("results",i.patientsByStatus)("gradient",i.gradient)("legend",!0)("legendTitle","Leyenda")("labels",!1)("doughnut",!0),f(3),y("img",i.icons.Activity),f(3),y("scheme",i.colorScheme)("results",i.visitsBySpecialty)("gradient",i.gradient)("xAxis",!0)("yAxis",!0)("legend",i.showLegend)("showXAxisLabel",!1)("showYAxisLabel",!0)("yAxisLabel","Citas"),f(4),y("img",i.icons.Users),f(3),y("scheme",i.colorScheme)("results",i.genderDistribution)("gradient",i.gradient)("legend",!1)("labels",!0)("doughnut",!1),f(3),y("img",i.icons.Users),f(3),y("scheme",i.colorScheme)("results",i.ageDistribution)("gradient",i.gradient)("xAxis",!0)("yAxis",!0)("legend",!1)("showXAxisLabel",!0)("xAxisLabel","Rango de Edad")("showYAxisLabel",!0)("yAxisLabel","Pacientes"),f(4),y("img",i.icons.CalendarCheck),f(3),y("scheme",i.colorScheme)("results",i.peakDays)("gradient",i.gradient)("xAxis",!0)("yAxis",!0)("legend",!1)("showXAxisLabel",!1)("showYAxisLabel",!0)("yAxisLabel","Citas"),f(3),y("img",i.icons.Clock),f(3),y("scheme",i.colorScheme)("results",i.peakHours)("gradient",i.gradient)("xAxis",!0)("yAxis",!0)("legend",!1)("showXAxisLabel",!0)("xAxisLabel","Hora")("showYAxisLabel",!0)("yAxisLabel","Citas"),f(3),y("img",i.icons.DollarSign),f(3),y("scheme",i.colorScheme)("results",i.paymentMethods)("gradient",i.gradient)("legend",!0)("legendTitle","M\xE9todo")("labels",!1)("doughnut",!0),f(3),y("img",i.icons.TrendingUp),f(11),y("ngForOf",i.topPatients),f(),y("ngIf",i.topPatients.length===0),f(4),y("img",i.icons.DollarSign),f(3),y("scheme",i.colorScheme)("results",i.revenueBySpecialty)("gradient",i.gradient)("xAxis",!0)("yAxis",!0)("legend",!1)("showXAxisLabel",!1)("showYAxisLabel",!0)("yAxisLabel",i.currencySymbol()),f(3),y("img",i.icons.Activity),f(13),y("ngForOf",i.topDoctors),f(),y("ngIf",i.topDoctors.length===0))},dependencies:[Ie,qe,we,it,tt,jd,$d,Yd],encapsulation:2})};function Cx(t,e){if(t&1){let n=Te();u(0,"div",74)(1,"form",75,0),Y("ngSubmit",function(){J(n);let a=w();return ee(a.onSubmit())}),u(3,"div",76)(4,"div")(5,"label",77),b(6,"Nombre Completo"),m(),u(7,"input",78),$t("ngModelChange",function(a){J(n);let s=w();return Ht(s.contactForm.name,a)||(s.contactForm.name=a),ee(a)}),m()(),u(8,"div")(9,"label",77),b(10,"Especialidad"),m(),u(11,"input",79),$t("ngModelChange",function(a){J(n);let s=w();return Ht(s.contactForm.role,a)||(s.contactForm.role=a),ee(a)}),m()()(),u(12,"div")(13,"label",77),b(14,"Correo Electr\xF3nico"),m(),u(15,"input",80),$t("ngModelChange",function(a){J(n);let s=w();return Ht(s.contactForm.email,a)||(s.contactForm.email=a),ee(a)}),m()(),u(16,"div")(17,"label",77),b(18,"Mensaje (Opcional)"),m(),u(19,"textarea",81),$t("ngModelChange",function(a){J(n);let s=w();return Ht(s.contactForm.message,a)||(s.contactForm.message=a),ee(a)}),m()(),u(20,"button",82),b(21," Solicitar Demo Gratuita "),m()()()}if(t&2){let n=Gt(2),i=w();f(7),zt("ngModel",i.contactForm.name),f(4),zt("ngModel",i.contactForm.role),f(4),zt("ngModel",i.contactForm.email),f(4),zt("ngModel",i.contactForm.message),f(),y("disabled",!n.form.valid)}}function kx(t,e){if(t&1){let n=Te();u(0,"div",83)(1,"div",84),I(2,"lucide-icon",85),m(),u(3,"h3",86),b(4,"\xA1Todo listo!"),m(),u(5,"p",87),b(6,"Hemos recibido tu solicitud. Uno de nuestros especialistas te contactar\xE1 en breve."),m(),u(7,"button",88),Y("click",function(){J(n);let a=w();return ee(a.submitted=!1)}),b(8,"Volver al inicio"),m()()}if(t&2){let n=w();f(2),y("name",n.CheckCircle2)}}var Ja=class t{Calendar=Xn;Users=Li;ShieldCheck=Pl;ArrowRight=_l;CheckCircle2=Cl;Menu=Yn;X=Ei;isMenuOpen=!1;contactForm={name:"",role:"",email:"",message:""};submitted=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}onSubmit(){console.log("Form submitted:",this.contactForm),this.submitted=!0,setTimeout(()=>{this.submitted=!1,this.contactForm={name:"",role:"",email:"",message:""}},3e3)}scrollToSection(e){let n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"}),this.isMenuOpen=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-landing"]],decls:166,vars:12,consts:[["leadForm","ngForm"],[1,"min-h-screen","bg-white","font-sans","text-[#1d1d1f]","antialiased"],[1,"glass-nav","fixed","top-0","left-0","right-0","z-50","h-[44px]","flex","items-center"],[1,"max-w-[1000px]","mx-auto","w-full","px-4","flex","justify-between","items-center","text-[12px]","font-normal","tracking-tight"],[1,"flex","items-center","space-x-8"],["href","#",1,"opacity-80","hover:opacity-100","transition-opacity"],[1,"w-4","h-4",3,"name"],[1,"hidden","md:flex","space-x-6"],[1,"cursor-pointer","opacity-80","hover:opacity-100","transition-opacity",3,"click"],[1,"flex","items-center","space-x-6"],["routerLink","/auth/login",1,"opacity-80","hover:opacity-100","transition-opacity"],[1,"bg-[#0071e3]","text-white","px-3","py-1","rounded-full","text-[11px]","font-medium","apple-button",3,"click"],[1,"relative","overflow-hidden","min-h-screen","flex","flex-col","items-center","justify-center","text-center","px-4","pt-32","pb-20"],[1,"absolute","inset-0","z-0"],[1,"absolute","inset-0","bg-gradient-to-b","from-blue-50/50","via-white","to-white"],[1,"relative","z-10","max-w-5xl","mx-auto"],[1,"mb-6","inline-flex","items-center","bg-gray-100","rounded-full","px-4","py-1.5","animate-fade-in"],[1,"text-[#1d1d1f]","text-xs","font-medium","tracking-wide"],[1,"text-5xl","md:text-7xl","font-semibold","tracking-tight","hero-text","animate-fade-in","mb-6"],[1,"mt-4","text-xl","md:text-2xl","font-normal","text-[#86868b]","max-w-3xl","mx-auto","animate-fade-in","animate-delay-1","leading-relaxed"],[1,"mt-10","flex","flex-col","md:flex-row","gap-4","justify-center","animate-fade-in","animate-delay-2"],[1,"bg-[#0071e3]","text-white","px-8","py-4","rounded-full","text-lg","font-medium","apple-button","shadow-lg","shadow-blue-500/30",3,"click"],[1,"text-[#0066cc]","hover:underline","px-8","py-4","text-lg","font-normal","flex","items-center","justify-center","bg-white/50","backdrop-blur","rounded-full","border","border-gray-200","apple-button",3,"click"],[1,"w-4","h-4","ml-1",3,"name"],[1,"mt-16","relative","z-10","animate-fade-in","animate-delay-2"],[1,"rounded-t-[30px]","overflow-hidden","mx-4","md:mx-0","shadow-lg"],["src","assets/images/dashboard_screen.png","alt","Mediagenda Dashboard",1,"w-full","h-auto","object-cover","transform","hover:scale-[1.01]","transition-transform","duration-700"],["id","showcase",1,"bg-white","py-24"],[1,"max-w-[1200px]","mx-auto","px-6","space-y-32"],[1,"flex","flex-col","md:flex-row","items-center","gap-16"],[1,"w-full","md:w-1/2","space-y-6"],[1,"w-12","h-12","bg-blue-50","rounded-2xl","flex","items-center","justify-center","text-[#0071e3]","mb-4"],[1,"w-6","h-6",3,"name"],[1,"text-4xl","md:text-5xl","font-semibold","tracking-tight","text-[#1d1d1f]"],[1,"text-[#86868b]"],[1,"text-xl","text-[#424245]","leading-relaxed"],[1,"space-y-3","mt-4"],[1,"flex","items-center","text-[#424245]","text-lg"],[1,"w-5","h-5","text-green-500","mr-3",3,"name"],[1,"w-full","md:w-1/2"],[1,"rounded-[30px]","overflow-hidden","shadow-lg","mx-auto"],["src","assets/images/calendar_screen.png","alt","Agenda Calendario",1,"w-full","h-auto"],[1,"flex","flex-col","md:flex-row-reverse","items-center","gap-16"],[1,"w-12","h-12","bg-purple-50","rounded-2xl","flex","items-center","justify-center","text-purple-600","mb-4"],[1,"flex","gap-4","mt-6"],[1,"bg-gray-50","px-4","py-2","rounded-lg","text-sm","font-medium","text-gray-600"],["src","assets/images/patient_tracking.png","alt","Seguimiento de Pacientes",1,"w-full","h-auto","object-contain"],["src","assets/images/doctors_real.png","alt","Gesti\xF3n de Doctores",1,"w-full","h-auto"],[1,"w-12","h-12","bg-gray-100","rounded-2xl","flex","items-center","justify-center","text-gray-600","mb-4"],["src","assets/images/configuration_real.png","alt","Configuraci\xF3n General",1,"w-full","h-auto"],[1,"mt-24"],[1,"text-3xl","md:text-4xl","font-semibold","text-center","mb-16","text-[#1d1d1f]"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"bg-[#f5f5f7]","rounded-[30px]","p-6","hover:scale-[1.02]","transition-transform","duration-300","overflow-hidden","flex","flex-col"],[1,"mb-4"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600","text-sm"],[1,"rounded-xl","overflow-hidden","shadow-sm","border","border-gray-200","mt-auto"],["src","assets/images/roles_real.png","alt","Roles",1,"w-full","h-48","object-cover","object-top"],["src","assets/images/schedule_config_real.png","alt","Configuraci\xF3n de Horarios",1,"w-full","h-48","object-cover","object-top"],["src","assets/images/specialties_real.png","alt","Especialidades",1,"w-full","h-48","object-cover","object-top"],["id","contact",1,"bg-[#f5f5f7]","py-24"],[1,"max-w-4xl","mx-auto","px-4","text-center"],[1,"text-4xl","md:text-5xl","font-semibold","tracking-tight","mb-6"],[1,"text-[#86868b]","text-xl","mb-12","max-w-2xl","mx-auto"],["class","bg-white rounded-[30px] p-8 md:p-12 text-left shadow-lg animate-fade-in max-w-2xl mx-auto",4,"ngIf"],["class","bg-white rounded-[30px] p-16 text-center shadow-lg animate-fade-in max-w-2xl mx-auto",4,"ngIf"],[1,"bg-white","border-t","border-gray-200","py-12","text-[#86868b]","text-xs"],[1,"max-w-[1000px]","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","space-y-4","md:space-y-0"],[1,"text-center","md:text-left"],[1,"font-semibold","text-[#1d1d1f]","mb-1"],[1,"flex","space-x-6"],["href","#",1,"hover:text-[#1d1d1f]","transition-colors"],[1,"bg-white","rounded-[30px]","p-8","md:p-12","text-left","shadow-lg","animate-fade-in","max-w-2xl","mx-auto"],[1,"space-y-6",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"block","text-sm","font-medium","text-[#1d1d1f]","mb-2"],["type","text","name","name","required","","placeholder","Dr. Juan P\xE9rez",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-200","bg-gray-50","focus:bg-white","focus:ring-2","focus:ring-[#0071e3]","focus:border-transparent","outline-none","transition-all",3,"ngModelChange","ngModel"],["type","text","name","role","placeholder","Ej. Cardi\xF3logo",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-200","bg-gray-50","focus:bg-white","focus:ring-2","focus:ring-[#0071e3]","focus:border-transparent","outline-none","transition-all",3,"ngModelChange","ngModel"],["type","email","name","email","required","","email","","placeholder","hola@tucorreo.com",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-200","bg-gray-50","focus:bg-white","focus:ring-2","focus:ring-[#0071e3]","focus:border-transparent","outline-none","transition-all",3,"ngModelChange","ngModel"],["name","message","rows","3","placeholder","\xBFTienes alguna duda espec\xEDfica?",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-200","bg-gray-50","focus:bg-white","focus:ring-2","focus:ring-[#0071e3]","focus:border-transparent","outline-none","transition-all",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-[#0071e3]","text-white","py-4","rounded-xl","font-semibold","hover:bg-[#0077ED]","transition-colors","disabled:opacity-50","shadow-md",3,"disabled"],[1,"bg-white","rounded-[30px]","p-16","text-center","shadow-lg","animate-fade-in","max-w-2xl","mx-auto"],[1,"w-20","h-20","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-6"],[1,"w-10","h-10","text-green-600",3,"name"],[1,"text-3xl","font-semibold","mb-4","text-[#1d1d1f]"],[1,"text-[#86868b]","text-lg"],[1,"mt-8","text-[#0071e3]","font-medium","hover:underline",3,"click"]],template:function(n,i){n&1&&(u(0,"div",1)(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),I(5,"lucide-icon",6),m(),u(6,"div",7)(7,"a",8),Y("click",function(){return i.scrollToSection("features")}),b(8,"Caracter\xEDsticas"),m(),u(9,"a",8),Y("click",function(){return i.scrollToSection("contact")}),b(10,"Contacto"),m()()(),u(11,"div",9)(12,"a",10),b(13,"Iniciar Sesi\xF3n"),m(),u(14,"button",11),Y("click",function(){return i.scrollToSection("contact")}),b(15,"Agendar Cita"),m()()()(),u(16,"section",12)(17,"div",13),I(18,"div",14),m(),u(19,"div",15)(20,"div",16)(21,"span",17),b(22,"Nuevo: Gesti\xF3n avanzada para cl\xEDnicas"),m()(),u(23,"h1",18),b(24," La plataforma definitiva para"),I(25,"br"),b(26," profesionales de la salud. "),m(),u(27,"p",19),b(28," M\xE9dicos, Psic\xF3logos, Nutricionistas y Enfermeras. "),I(29,"br"),b(30," Simplifica tu pr\xE1ctica, digitaliza tus pacientes y recupera tu tiempo. "),m(),u(31,"div",20)(32,"button",21),Y("click",function(){return i.scrollToSection("contact")}),b(33," Empezar prueba gratis "),m(),u(34,"button",22),Y("click",function(){return i.scrollToSection("showcase")}),b(35," Ver c\xF3mo funciona "),I(36,"lucide-icon",23),m()(),u(37,"div",24)(38,"div",25),I(39,"img",26),m()()()(),u(40,"section",27)(41,"div",28)(42,"div",29)(43,"div",30)(44,"div",31),I(45,"lucide-icon",32),m(),u(46,"h2",33),b(47," Tu tiempo, "),u(48,"span",34),b(49,"bajo control absoluto."),m()(),u(50,"p",35),b(51," Nuestra agenda inteligente est\xE1 dise\xF1ada para el flujo real de una consulta. Evita citas duplicadas, automatiza recordatorios y visualiza tu d\xEDa con claridad cristalina. Adaptable a consultas de 15 minutos o sesiones de terapia de una hora. "),m(),u(52,"ul",36)(53,"li",37),I(54,"lucide-icon",38),b(55," Recordatorios autom\xE1ticos por WhatsApp "),m(),u(56,"li",37),I(57,"lucide-icon",38),b(58," Sincronizaci\xF3n en tiempo real "),m()()(),u(59,"div",39)(60,"div",40),I(61,"img",41),m()()(),u(62,"div",42)(63,"div",30)(64,"div",43),I(65,"lucide-icon",32),m(),u(66,"h2",33),b(67," Seguimiento detallado "),u(68,"span",34),b(69,"de cada paciente."),m()(),u(70,"p",35),b(71," Mant\xE9n un registro claro de todas las atenciones. Visualiza el historial de citas, estados (confirmadas, canceladas) y pagos en una l\xEDnea de tiempo intuitiva. Sin complicaciones cl\xEDnicas, solo la gesti\xF3n administrativa que necesitas. "),m(),u(72,"div",44)(73,"div",45),b(74,"Historial de Citas"),m(),u(75,"div",45),b(76,"Pagos"),m(),u(77,"div",45),b(78,"Estados"),m()()(),u(79,"div",39)(80,"div",40),I(81,"img",46),m()()(),u(82,"div",29)(83,"div",30)(84,"div",31),I(85,"lucide-icon",32),m(),u(86,"h2",33),b(87," Tu equipo m\xE9dico, "),u(88,"span",34),b(89,"en perfecta sincron\xEDa."),m()(),u(90,"p",35),b(91," Centraliza la informaci\xF3n de todos tus especialistas (CMP, RNE, Datos de contacto). Asigna colores distintivos para una identificaci\xF3n r\xE1pida en el calendario y gestiona sus perfiles con facilidad. "),m(),u(92,"ul",36)(93,"li",37),I(94,"lucide-icon",38),b(95," Directorio completo de especialistas "),m(),u(96,"li",37),I(97,"lucide-icon",38),b(98," Personalizaci\xF3n de perfiles "),m()()(),u(99,"div",39)(100,"div",40),I(101,"img",47),m()()(),u(102,"div",42)(103,"div",30)(104,"div",48),I(105,"lucide-icon",32),m(),u(106,"h2",33),b(107," Control total "),u(108,"span",34),b(109,"de tu cl\xEDnica."),m()(),u(110,"p",35),b(111," Configura cada aspecto de tu operaci\xF3n: desde el nombre y logo de tu cl\xEDnica hasta la moneda y los horarios globales de atenci\xF3n. Una plataforma que se adapta a tu marca, no al rev\xE9s. "),m()(),u(112,"div",39)(113,"div",40),I(114,"img",49),m()()(),u(115,"div",50)(116,"h3",51),b(117,"Todo lo que necesitas para crecer"),m(),u(118,"div",52)(119,"div",53)(120,"div",54)(121,"h4",55),b(122,"Roles y Permisos"),m(),u(123,"p",56),b(124,"Define qui\xE9n accede a qu\xE9. Control granular para administradores y m\xE9dicos."),m()(),u(125,"div",57),I(126,"img",58),m()(),u(127,"div",53)(128,"div",54)(129,"h4",55),b(130,"Horarios Flexibles"),m(),u(131,"p",56),b(132,"Configura turnos rotativos, descansos y horarios espec\xEDficos por m\xE9dico. "),m()(),u(133,"div",57),I(134,"img",59),m()(),u(135,"div",53)(136,"div",54)(137,"h4",55),b(138,"Multi-Especialidad"),m(),u(139,"p",56),b(140,"Gestiona m\xFAltiples disciplinas en un solo lugar. Cardiolog\xEDa, Pediatr\xEDa, Nutrici\xF3n y m\xE1s."),m()(),u(141,"div",57),I(142,"img",60),m()()()()()(),u(143,"section",61)(144,"div",62)(145,"h2",63),b(146,"Empieza a transformar tu consulta hoy."),m(),u(147,"p",64),b(148," \xDAnete a cientos de profesionales de la salud que ya usan Mediagenda. D\xE9janos tus datos para una demo personalizada. "),m(),G(149,Cx,22,5,"div",65)(150,kx,9,1,"div",66),m()(),u(151,"footer",67)(152,"div",68)(153,"div",69)(154,"div",70)(155,"p",71),b(156,"Mediagenda"),m(),u(157,"p"),b(158,"\xA9 2026 Mediagenda Inc. Todos los derechos reservados."),m()(),u(159,"div",72)(160,"a",73),b(161,"Privacidad"),m(),u(162,"a",73),b(163,"T\xE9rminos"),m(),u(164,"a",73),b(165,"Soporte"),m()()()()()()),n&2&&(f(5),y("name",i.Calendar),f(31),y("name",i.ArrowRight),f(9),y("name",i.Calendar),f(9),y("name",i.CheckCircle2),f(3),y("name",i.CheckCircle2),f(8),y("name",i.Users),f(20),y("name",i.Users),f(9),y("name",i.CheckCircle2),f(3),y("name",i.CheckCircle2),f(8),y("name",i.Menu),f(44),y("ngIf",!i.submitted),f(),y("ngIf",i.submitted))},dependencies:[Ie,we,xl,Ai,ta,Jn,qn,Qn,Zn,ea,zl,Kn,Un,it,tt],styles:[".glass-nav[_ngcontent-%COMP%]{background:#ffffffb3;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,0,0,.1)}.hero-text[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1d1d1f,#434344);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.apple-button[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.apple-button[_ngcontent-%COMP%]:hover{transform:scale(1.02);opacity:.9}.reveal-on-scroll[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);transition:all .8s cubic-bezier(.4,0,.2,1)}.reveal-on-scroll.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.feature-card[_ngcontent-%COMP%]{transition:transform .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out forwards}.animate-delay-1[_ngcontent-%COMP%]{animation-delay:.2s}.animate-delay-2[_ngcontent-%COMP%]{animation-delay:.4s}section[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:100px}@media (max-width: 768px){section[_ngcontent-%COMP%]{padding-top:60px;padding-bottom:60px}}"]})};var qd=()=>{let t=be(Di),e=be(ki),n=t.currentUser();return n?!n.features||n.features.length===0?(t.logout(),e.createUrlTree(["/auth/login"])):!0:e.createUrlTree(["/auth/login"])};var Qd=[{path:"",redirectTo:"landing",pathMatch:"full"},{path:"landing",component:Ja},{path:"auth",component:oa,children:[{path:"login",component:ua},{path:"plans",loadComponent:()=>import("./chunk-KQBK5YRM.js").then(t=>t.PlansComponent)},{path:"recover-password",loadComponent:()=>import("./chunk-76UGF5Y3.js").then(t=>t.RecoverPasswordComponent)}]},{path:"app",component:da,canActivate:[qd],children:[{path:"dashboard",component:Ka},{path:"specialties",loadComponent:()=>import("./chunk-2IGG3MJP.js").then(t=>t.SpecialtiesListComponent)},{path:"doctors",loadComponent:()=>import("./chunk-BOVLHOXE.js").then(t=>t.DoctorsListComponent)},{path:"doctors/:id",loadComponent:()=>import("./chunk-SQTK2QU4.js").then(t=>t.DoctorDetailComponent)},{path:"doctor-specialty",loadComponent:()=>import("./chunk-KIDKQ5IN.js").then(t=>t.DoctorSpecialtyComponent)},{path:"schedule-config",loadComponent:()=>import("./chunk-XH2SW4GM.js").then(t=>t.ScheduleConfigComponent)},{path:"patients",loadComponent:()=>import("./chunk-MOERQ4CR.js").then(t=>t.PatientsListComponent)},{path:"patients/:id",loadComponent:()=>import("./chunk-JIMPDIWY.js").then(t=>t.PatientDetailComponent)},{path:"appointments",loadComponent:()=>import("./chunk-QLCBUMLK.js").then(t=>t.AppointmentsCalendarComponent)},{path:"users",loadComponent:()=>import("./chunk-LJ5BAXED.js").then(t=>t.UsersListComponent)},{path:"configuration",loadComponent:()=>import("./chunk-46MSQUX5.js").then(t=>t.ConfigurationComponent)},{path:"subscription",loadComponent:()=>import("./chunk-VHYD2F6I.js").then(t=>t.SubscriptionComponent)},{path:"profile",loadComponent:()=>import("./chunk-FYA2NHN2.js").then(t=>t.ProfileComponent)}]},{path:"**",redirectTo:"landing"}];function Zd(t){return new ge(3e3,!1)}function Ax(){return new ge(3100,!1)}function Lx(){return new ge(3101,!1)}function Ex(t){return new ge(3001,!1)}function Dx(t){return new ge(3003,!1)}function Fx(t){return new ge(3004,!1)}function Kd(t,e){return new ge(3005,!1)}function Jd(){return new ge(3006,!1)}function eu(){return new ge(3007,!1)}function tu(t,e){return new ge(3008,!1)}function iu(t){return new ge(3002,!1)}function nu(t,e,n,i,a){return new ge(3010,!1)}function au(){return new ge(3011,!1)}function su(){return new ge(3012,!1)}function ru(){return new ge(3200,!1)}function ou(){return new ge(3202,!1)}function lu(){return new ge(3013,!1)}function cu(t){return new ge(3014,!1)}function hu(t){return new ge(3015,!1)}function du(t){return new ge(3016,!1)}function uu(t,e){return new ge(3404,!1)}function Mx(t){return new ge(3502,!1)}function mu(t){return new ge(3503,!1)}function pu(){return new ge(3300,!1)}function gu(t){return new ge(3504,!1)}function fu(t){return new ge(3301,!1)}function xu(t,e){return new ge(3302,!1)}function _u(t){return new ge(3303,!1)}function vu(t,e){return new ge(3400,!1)}function yu(t){return new ge(3401,!1)}function bu(t){return new ge(3402,!1)}function Tu(t,e){return new ge(3505,!1)}function Pt(t){switch(t.length){case 0:return new bt;case 1:return t[0];default:return new ai(t)}}function to(t,e,n=new Map,i=new Map){let a=[],s=[],r=-1,o=null;if(e.forEach(l=>{let c=l.get("offset"),h=c==r,d=h&&o||new Map;l.forEach((p,v)=>{let _=v,S=p;if(v!=="offset")switch(_=t.normalizePropertyName(_,a),S){case Oi:S=n.get(v);break;case st:S=i.get(v);break;default:S=t.normalizeStyleValue(v,_,S,a);break}d.set(_,S)}),h||s.push(d),o=d,r=c}),a.length)throw Mx(a);return s}function es(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Kr(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Kr(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Kr(n,"destroy",t)));break}}function Kr(t,e,n){let i=n.totalTime,a=!!n.disabled,s=ts(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,a),r=t._data;return r!=null&&(s._data=r),s}function ts(t,e,n,i,a="",s=0,r){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:a,totalTime:s,disabled:!!r}}function Ze(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function io(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var Ox=typeof document>"u"?null:document.documentElement;function is(t){let e=t.parentNode||t.host||null;return e===Ox?null:e}function Px(t){return t.substring(1,6)=="ebkit"}var xi=null,Ud=!1;function wu(t){xi||(xi=Ix()||{},Ud=xi.style?"WebkitAppearance"in xi.style:!1);let e=!0;return xi.style&&!Px(t)&&(e=t in xi.style,!e&&Ud&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in xi.style)),e}function Ix(){return typeof document<"u"?document.body:null}function no(t,e){for(;e;){if(e===t)return!0;e=is(e)}return!1}function ao(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var Vx=1e3,so="{{",Rx="}}",ro="ng-enter",ns="ng-leave",On="ng-trigger",Pn=".ng-trigger",oo="ng-animating",as=".ng-animating";function Ct(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Jr(parseFloat(e[1]),e[2])}function Jr(t,e){switch(e){case"s":return t*Vx;default:return t}}function In(t,e,n){return t.hasOwnProperty("duration")?t:Bx(t,e,n)}var Nx=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Bx(t,e,n){let i,a=0,s="";if(typeof t=="string"){let r=t.match(Nx);if(r===null)return e.push(Zd(t)),{duration:0,delay:0,easing:""};i=Jr(parseFloat(r[1]),r[2]);let o=r[3];o!=null&&(a=Jr(parseFloat(o),r[4]));let l=r[5];l&&(s=l)}else i=t;if(!n){let r=!1,o=e.length;i<0&&(e.push(Ax()),r=!0),a<0&&(e.push(Lx()),r=!0),r&&e.splice(o,0,Zd(t))}return{duration:i,delay:a,easing:s}}function Su(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function mt(t,e,n){e.forEach((i,a)=>{let s=ss(a);n&&!n.has(a)&&n.set(a,t.style[s]),t.style[s]=i})}function ti(t,e){e.forEach((n,i)=>{let a=ss(i);t.style[a]=""})}function Yi(t){return Array.isArray(t)?t.length==1?t[0]:cc(t):t}function Cu(t,e,n){let i=e.params||{},a=lo(t);a.length&&a.forEach(s=>{i.hasOwnProperty(s)||n.push(Ex(s))})}var eo=new RegExp(`${so}\\s*(.+?)\\s*${Rx}`,"g");function lo(t){let e=[];if(typeof t=="string"){let n;for(;n=eo.exec(t);)e.push(n[1]);eo.lastIndex=0}return e}function ji(t,e,n){let i=`${t}`,a=i.replace(eo,(s,r)=>{let o=e[r];return o==null&&(n.push(Dx(r)),o=""),o.toString()});return a==i?t:a}var Gx=/-+([a-z0-9])/g;function ss(t){return t.replace(Gx,(...e)=>e[1].toUpperCase())}function ku(t,e){return t===0||e===0}function Au(t,e,n){if(n.size&&e.length){let i=e[0],a=[];if(n.forEach((s,r)=>{i.has(r)||a.push(r),i.set(r,s)}),a.length)for(let s=1;s<e.length;s++){let r=e[s];a.forEach(o=>r.set(o,rs(t,o)))}}return e}function Ue(t,e,n){switch(e.type){case ne.Trigger:return t.visitTrigger(e,n);case ne.State:return t.visitState(e,n);case ne.Transition:return t.visitTransition(e,n);case ne.Sequence:return t.visitSequence(e,n);case ne.Group:return t.visitGroup(e,n);case ne.Animate:return t.visitAnimate(e,n);case ne.Keyframes:return t.visitKeyframes(e,n);case ne.Style:return t.visitStyle(e,n);case ne.Reference:return t.visitReference(e,n);case ne.AnimateChild:return t.visitAnimateChild(e,n);case ne.AnimateRef:return t.visitAnimateRef(e,n);case ne.Query:return t.visitQuery(e,n);case ne.Stagger:return t.visitStagger(e,n);default:throw Fx(e.type)}}function rs(t,e){return window.getComputedStyle(t)[e]}var ko=(()=>{class t{validateStyleProperty(n){return wu(n)}containsElement(n,i){return no(n,i)}getParentElement(n){return is(n)}query(n,i,a){return ao(n,i,a)}computeStyle(n,i,a){return a||""}animate(n,i,a,s,r,o=[],l){return new bt(a,s)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=He({token:t,factory:t.\u0275fac})}return t})(),vi=class{static NOOP=new ko},yi=class{};var zx=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ds=class extends yi{normalizePropertyName(e,n){return ss(e)}normalizeStyleValue(e,n,i,a){let s="",r=i.toString().trim();if(zx.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&a.push(Kd(e,i))}return r+s}};var us="*";function Hx(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>$x(i,n,e)):n.push(t),n}function $x(t,e,n){if(t[0]==":"){let l=Xx(t,n);if(typeof l=="function"){e.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(hu(t)),e;let a=i[1],s=i[2],r=i[3];e.push(Lu(a,r));let o=a==us&&r==us;s[0]=="<"&&!o&&e.push(Lu(r,a))}function Xx(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(du(t)),"* => *"}}var os=new Set(["true","1"]),ls=new Set(["false","0"]);function Lu(t,e){let n=os.has(t)||ls.has(t),i=os.has(e)||ls.has(e);return(a,s)=>{let r=t==us||t==a,o=e==us||e==s;return!r&&n&&typeof a=="boolean"&&(r=a?os.has(t):ls.has(t)),!o&&i&&typeof s=="boolean"&&(o=s?os.has(e):ls.has(e)),r&&o}}var Nu=":self",Wx=new RegExp(`s*${Nu}s*,?`,"g");function Bu(t,e,n,i){return new go(t).build(e,n,i)}var Eu="",go=class{_driver;constructor(e){this._driver=e}build(e,n,i){let a=new fo(n);return this._resetContextStyleTimingState(a),Ue(this,Yi(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector=Eu,e.collectedStyles=new Map,e.collectedStyles.set(Eu,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,a=n.depCount=0,s=[],r=[];return e.name.charAt(0)=="@"&&n.errors.push(Jd()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(n),o.type==ne.State){let l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,n))}),l.name=c}else if(o.type==ne.Transition){let l=this.visitTransition(o,n);i+=l.queryCount,a+=l.depCount,r.push(l)}else n.errors.push(eu())}),{type:ne.Trigger,name:e.name,states:s,transitions:r,queryCount:i,depCount:a,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,r=a||{};i.styles.forEach(o=>{o instanceof Map&&o.forEach(l=>{lo(l).forEach(c=>{r.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(tu(e.name,[...s.values()]))}return{type:ne.State,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Ue(this,Yi(e.animation),n),a=Hx(e.expr,n.errors);return{type:ne.Transition,matchers:a,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:_i(e.options)}}visitSequence(e,n){return{type:ne.Sequence,steps:e.steps.map(i=>Ue(this,i,n)),options:_i(e.options)}}visitGroup(e,n){let i=n.currentTime,a=0,s=e.steps.map(r=>{n.currentTime=i;let o=Ue(this,r,n);return a=Math.max(a,n.currentTime),o});return n.currentTime=a,{type:ne.Group,steps:s,options:_i(e.options)}}visitAnimate(e,n){let i=Qx(e.timings,n.errors);n.currentAnimateTimings=i;let a,s=e.styles?e.styles:si({});if(s.type==ne.Keyframes)a=this.visitKeyframes(s,n);else{let r=e.styles,o=!1;if(!r){o=!0;let c={};i.easing&&(c.easing=i.easing),r=si(c)}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(r,n);l.isEmptyStep=o,a=l}return n.currentAnimateTimings=null,{type:ne.Animate,timings:i,style:a,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let o of a)typeof o=="string"?o===st?i.push(o):n.errors.push(iu(o)):i.push(new Map(Object.entries(o)));let s=!1,r=null;return i.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(r=o.get("easing"),o.delete("easing")),!s)){for(let l of o.values())if(l.toString().indexOf(so)>=0){s=!0;break}}}),{type:ne.Style,styles:i,easing:r,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,a=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),h=c.get(l),d=!0;h&&(s!=a&&s>=h.startTime&&a<=h.endTime&&(n.errors.push(nu(l,h.startTime,h.endTime,s,a)),d=!1),s=h.startTime),d&&c.set(l,{startTime:s,endTime:a}),n.options&&Cu(o,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:ne.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(au()),i;let a=1,s=0,r=[],o=!1,l=!1,c=0,h=e.steps.map(M=>{let D=this._makeStyleAst(M,n),k=D.offset!=null?D.offset:qx(D.styles),N=0;return k!=null&&(s++,N=D.offset=k),l=l||N<0||N>1,o=o||N<c,c=N,r.push(N),D});l&&n.errors.push(su()),o&&n.errors.push(ru());let d=e.steps.length,p=0;s>0&&s<d?n.errors.push(ou()):s==0&&(p=a/(d-1));let v=d-1,_=n.currentTime,S=n.currentAnimateTimings,R=S.duration;return h.forEach((M,D)=>{let k=p>0?D==v?1:p*D:r[D],N=k*R;n.currentTime=_+S.delay+N,S.duration=N,this._validateStyleAst(M,n),M.offset=k,i.styles.push(M)}),i}visitReference(e,n){return{type:ne.Reference,animation:Ue(this,Yi(e.animation),n),options:_i(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:ne.AnimateChild,options:_i(e.options)}}visitAnimateRef(e,n){return{type:ne.AnimateRef,animation:this.visitReference(e.animation,n),options:_i(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,a=e.options||{};n.queryCount++,n.currentQuery=e;let[s,r]=Yx(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,Ze(n.collectedStyles,n.currentQuerySelector,new Map);let o=Ue(this,Yi(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:ne.Query,selector:s,limit:a.limit||0,optional:!!a.optional,includeSelf:r,animation:o,originalSelector:e.selector,options:_i(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(lu());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:In(e.timings,n.errors,!0);return{type:ne.Stagger,animation:Ue(this,Yi(e.animation),n),timings:i,options:null}}};function Yx(t){let e=!!t.split(/\s*,\s*/).find(n=>n==Nu);return e&&(t=t.replace(Wx,"")),t=t.replace(/@\*/g,Pn).replace(/@\w+/g,n=>Pn+"-"+n.slice(1)).replace(/:animating/g,as),[t,e]}function jx(t){return t?je({},t):null}var fo=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function qx(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Qx(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=In(t,e).duration;return co(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=co(0,0,"");return s.dynamic=!0,s.strValue=n,s}let a=In(n,e);return co(a.duration,a.delay,a.easing)}function _i(t){return t?(t=je({},t),t.params&&(t.params=jx(t.params))):t={},t}function co(t,e,n){return{duration:t,delay:e,easing:n}}function Ao(t,e,n,i,a,s,r=null,o=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:a,delay:s,totalTime:a+s,easing:r,subTimeline:o}}var Rn=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Zx=1,Ux=":enter",Kx=new RegExp(Ux,"g"),Jx=":leave",e_=new RegExp(Jx,"g");function Gu(t,e,n,i,a,s=new Map,r=new Map,o,l,c=[]){return new xo().buildKeyframes(t,e,n,i,a,s,r,o,l,c)}var xo=class{buildKeyframes(e,n,i,a,s,r,o,l,c,h=[]){c=c||new Rn;let d=new _o(e,n,c,a,s,h,[]);d.options=l;let p=l.delay?Ct(l.delay):0;d.currentTimeline.delayNextStep(p),d.currentTimeline.setStyles([r],null,d.errors,l),Ue(this,i,d);let v=d.timelines.filter(_=>_.containsAnimation());if(v.length&&o.size){let _;for(let S=v.length-1;S>=0;S--){let R=v[S];if(R.element===n){_=R;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([o],null,d.errors,l)}return v.length?v.map(_=>_.buildKeyframes()):[Ao(n,[],[],[],0,p,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let a=n.createSubContext(e.options),s=n.currentTimeline.currentTime,r=this._visitSubInstructions(i,a,a.options);s!=r&&n.transformIntoNewTimeline(r)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let a of e){let s=a?.delay;if(s){let r=typeof s=="number"?s:Ct(ji(s,a?.params??{},n.errors));i.delayNextStep(r)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime,r=i.duration!=null?Ct(i.duration):null,o=i.delay!=null?Ct(i.delay):null;return r!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,r,o);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Ue(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,a=n,s=e.options;if(s&&(s.params||s.delay)&&(a=n.createSubContext(s),a.transformIntoNewTimeline(),s.delay!=null)){a.previousNode.type==ne.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ms);let r=Ct(s.delay);a.delayNextStep(r)}e.steps.length&&(e.steps.forEach(r=>Ue(this,r,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],a=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Ct(e.options.delay):0;e.steps.forEach(r=>{let o=n.createSubContext(e.options);s&&o.delayNextStep(s),Ue(this,r,o),a=Math.max(a,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(r=>n.currentTimeline.mergeTimelineCollectedStyles(r)),n.transformIntoNewTimeline(a),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,a=n.params?ji(i,n.params,n.errors):i;return In(a,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),a=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),a.snapshotCurrentStyles());let s=e.style;s.type==ne.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,a=n.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,a=n.currentTimeline.duration,s=i.duration,o=n.createSubContext().currentTimeline;o.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;o.forwardTime(c*s),o.setStyles(l.styles,l.easing,n.errors,n.options),o.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(o),n.transformIntoNewTimeline(a+s),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,a=e.options||{},s=a.delay?Ct(a.delay):0;s&&(n.previousNode.type===ne.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ms);let r=i,o=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=o.length;let l=null;o.forEach((c,h)=>{n.currentQueryIndex=h;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),Ue(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let p=d.currentTimeline.currentTime;r=Math.max(r,p)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(r),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,a=n.currentTimeline,s=e.timings,r=Math.abs(s.duration),o=r*(n.currentQueryTotal-1),l=r*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime;break}let h=n.currentTimeline;l&&h.delayNextStep(l);let d=h.currentTime;Ue(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=a.currentTime-d+(a.startTime-i.currentTimeline.startTime)}},ms={},_o=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ms;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,i,a,s,r,o,l){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=s,this.errors=r,this.timelines=o,this.currentTimeline=l||new ps(this._driver,n,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,a=this.options;i.duration!=null&&(a.duration=Ct(i.duration)),i.delay!=null&&(a.delay=Ct(i.delay));let s=i.params;if(s){let r=a.params;r||(r=this.options.params={}),Object.keys(s).forEach(o=>{(!n||!r.hasOwnProperty(o))&&(r[o]=ji(s[o],r,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(a=>{i[a]=n[a]})}}return e}createSubContext(e=null,n,i){let a=n||this.element,s=new t(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ms,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let a={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new vo(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(s),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,a,s,r){let o=[];if(a&&o.push(this.element),e.length>0){e=e.replace(Kx,"."+this._enterClassName),e=e.replace(e_,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),o.push(...c)}return!s&&o.length==0&&r.push(cu(n)),o}},ps=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,i,a){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=a,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Zx,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||st),this._currentKeyframe.set(n,st);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,a){n&&this._previousKeyframe.set("easing",n);let s=a&&a.params||{},r=t_(e,this._globalTimelineStyles);for(let[o,l]of r){let c=ji(l,s,i);this._pendingStyles.set(o,c),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??st),this._updateStyle(o,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let a=this._styleSummary.get(i);(!a||n.time>a.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,a=[];this._keyframes.forEach((o,l)=>{let c=new Map([...this._backFill,...o]);c.forEach((h,d)=>{h===Oi?e.add(d):h===st&&n.add(d)}),i||c.set("offset",l/this.duration),a.push(c)});let s=[...e.values()],r=[...n.values()];if(i){let o=a[0],l=new Map(o);o.set("offset",0),l.set("offset",1),a=[o,l]}return Ao(this.element,a,s,r,this.duration,this.startTime,this.easing,!1)}},vo=class extends ps{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,i,a,s,r,o=!1){super(e,n,r.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],r=i+n,o=n/r,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",Du(o)),s.push(c);let h=e.length-1;for(let d=1;d<=h;d++){let p=new Map(e[d]),v=p.get("offset"),_=n+v*i;p.set("offset",Du(_/r)),s.push(p)}i=r,n=0,a="",e=s}return Ao(this.element,e,this.preStyleProps,this.postStyleProps,i,n,a,!0)}};function Du(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function t_(t,e){let n=new Map,i;return t.forEach(a=>{if(a==="*"){i??=e.keys();for(let s of i)n.set(s,st)}else for(let[s,r]of a)n.set(s,r)}),n}function Fu(t,e,n,i,a,s,r,o,l,c,h,d,p){return{type:0,element:t,triggerName:e,isRemovalTransition:a,fromState:n,fromStyles:s,toState:i,toStyles:r,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:d,errors:p}}var ho={},gs=class{_triggerName;ast;_stateStyles;constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,a){return i_(this.ast.matchers,e,n,i,a)}buildStyles(e,n,i){let a=this._stateStyles.get("*");return e!==void 0&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(n,i):new Map}build(e,n,i,a,s,r,o,l,c,h){let d=[],p=this.ast.options&&this.ast.options.params||ho,v=o&&o.params||ho,_=this.buildStyles(i,v,d),S=l&&l.params||ho,R=this.buildStyles(a,S,d),M=new Set,D=new Map,k=new Map,N=a==="void",j={params:zu(S,p),delay:this.ast.options?.delay},X=h?[]:Gu(e,n,this.ast.animation,s,r,_,R,j,c,d),Z=0;return X.forEach(B=>{Z=Math.max(B.duration+B.delay,Z)}),d.length?Fu(n,this._triggerName,i,a,N,_,R,[],[],D,k,Z,d):(X.forEach(B=>{let ie=B.element,W=Ze(D,ie,new Set);B.preStyleProps.forEach(L=>W.add(L));let z=Ze(k,ie,new Set);B.postStyleProps.forEach(L=>z.add(L)),ie!==n&&M.add(ie)}),Fu(n,this._triggerName,i,a,N,_,R,X,[...M.values()],D,k,Z))}};function i_(t,e,n,i,a){return t.some(s=>s(e,n,i,a))}function zu(t,e){let n=je({},e);return Object.entries(t).forEach(([i,a])=>{a!=null&&(n[i]=a)}),n}var yo=class{styles;defaultParams;normalizer;constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,a=zu(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((r,o)=>{r&&(r=ji(r,a,n));let l=this.normalizer.normalizePropertyName(o,n);r=this.normalizer.normalizeStyleValue(o,l,r,n),i.set(o,r)})}),i}};function n_(t,e,n){return new bo(t,e,n)}var bo=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,n.states.forEach(a=>{let s=a.options&&a.options.params||{};this.states.set(a.name,new yo(a.style,s,i))}),Mu(this.states,"true","1"),Mu(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new gs(e,a,this.states))}),this.fallbackTransition=a_(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,a){return this.transitionFactories.find(r=>r.match(e,n,i,a))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function a_(t,e,n){let i=[(r,o)=>!0],a={type:ne.Sequence,steps:[],options:null},s={type:ne.Transition,animation:a,matchers:i,options:null,queryCount:0,depCount:0};return new gs(t,s,e)}function Mu(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var s_=new Rn,To=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i}register(e,n){let i=[],a=[],s=Bu(this._driver,n,i,a);if(i.length)throw mu(i);this._animations.set(e,s)}_buildPlayer(e,n,i){let a=e.element,s=to(this._normalizer,e.keyframes,n,i);return this._driver.animate(a,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let a=[],s=this._animations.get(e),r,o=new Map;if(s?(r=Gu(this._driver,n,s,ro,ns,new Map,new Map,i,s_,a),r.forEach(h=>{let d=Ze(o,h.element,new Map);h.postStyleProps.forEach(p=>d.set(p,null))})):(a.push(pu()),r=[]),a.length)throw gu(a);o.forEach((h,d)=>{h.forEach((p,v)=>{h.set(v,this._driver.computeStyle(d,v,st))})});let l=r.map(h=>{let d=o.get(h.element);return this._buildPlayer(h,new Map,d)}),c=Pt(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw fu(e);return n}listen(e,n,i,a){let s=ts(n,"","","");return es(this._getPlayer(e),i,s,a),()=>{}}command(e,n,i,a){if(i=="register"){this.register(e,a[0]);return}if(i=="create"){let r=a[0]||{};this.create(e,n,r);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e);break}}},Ou="ng-animate-queued",r_=".ng-animate-queued",uo="ng-animate-disabled",o_=".ng-animate-disabled",l_="ng-star-inserted",c_=".ng-star-inserted",h_=[],Hu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},d_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pt="__ng_removed",Nn=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),a=i?e.value:e;if(this.value=m_(a),i){let s=e,{value:r}=s,o=Oo(s,["value"]);this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(a=>{i[a]==null&&(i[a]=n[a])})}}},Vn="void",mo=new Nn(Vn),wo=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this._hostClassName="ng-tns-"+e,rt(n,this._hostClassName)}listen(e,n,i,a){if(!this._triggers.has(n))throw xu(i,n);if(i==null||i.length==0)throw _u(n);if(!p_(i))throw vu(i,n);let s=Ze(this._elementListeners,e,[]),r={name:n,phase:i,callback:a};s.push(r);let o=Ze(this._engine.statesByElement,e,new Map);return o.has(n)||(rt(e,On),rt(e,On+"-"+n),o.set(n,mo)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(r);l>=0&&s.splice(l,1),this._triggers.has(n)||o.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw yu(e);return n}trigger(e,n,i,a=!0){let s=this._getTrigger(n),r=new Bn(this.id,n,e),o=this._engine.statesByElement.get(e);o||(rt(e,On),rt(e,On+"-"+n),this._engine.statesByElement.set(e,o=new Map));let l=o.get(n),c=new Nn(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o.set(n,c),l||(l=mo),!(c.value===Vn)&&l.value===c.value){if(!x_(l.params,c.params)){let S=[],R=s.matchStyles(l.value,l.params,S),M=s.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{ti(e,R),mt(e,M)})}return}let p=Ze(this._engine.playersByElement,e,[]);p.forEach(S=>{S.namespaceId==this.id&&S.triggerName==n&&S.queued&&S.destroy()});let v=s.matchTransition(l.value,c.value,e,c.params),_=!1;if(!v){if(!a)return;v=s.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:v,fromState:l,toState:c,player:r,isFallbackTransition:_}),_||(rt(e,Ou),r.onStart(()=>{qi(e,Ou)})),r.onDone(()=>{let S=this.players.indexOf(r);S>=0&&this.players.splice(S,1);let R=this._engine.playersByElement.get(e);if(R){let M=R.indexOf(r);M>=0&&R.splice(M,1)}}),this.players.push(r),p.push(r),r}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,Pn,!0);i.forEach(a=>{if(a[pt])return;let s=this._engine.fetchNamespacesByElement(a);s.size?s.forEach(r=>r.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,n,i,a){let s=this._engine.statesByElement.get(e),r=new Map;if(s){let o=[];if(s.forEach((l,c)=>{if(r.set(c,l.value),this._triggers.has(c)){let h=this.trigger(e,c,Vn,a);h&&o.push(h)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,r),i&&Pt(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let a=new Set;n.forEach(s=>{let r=s.name;if(a.has(r))return;a.add(r);let l=this._triggers.get(r).fallbackTransition,c=i.get(r)||mo,h=new Nn(Vn),d=new Bn(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:l,fromState:c,toState:h,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let a=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)a=!0;else{let r=e;for(;r=r.parentNode;)if(i.statesByElement.get(r)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,n);else{let s=e[pt];(!s||s===Hu)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){rt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let a=i.player;if(a.destroyed)return;let s=i.element,r=this._elementListeners.get(s);r&&r.forEach(o=>{if(o.name==i.triggerName){let l=ts(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,es(i.player,o.phase,l,o.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(i)}),this._queue=[],n.sort((i,a)=>{let s=i.transition.ast.depCount,r=a.transition.ast.depCount;return s==0||r==0?s-r:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},So=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new wo(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let r=!1,o=this.driver.getParentElement(n);for(;o;){let l=a.get(o);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),r=!0;break}o=this.driver.getParentElement(o)}r||i.unshift(e)}else i.push(e);return a.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let a=this._namespaceLookup[e];a&&a.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let a of i.values())if(a.namespaceId){let s=this._fetchNamespace(a.namespaceId);s&&n.add(s)}}return n}trigger(e,n,i,a){if(cs(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,i,a),!0}return!1}insertNode(e,n,i,a){if(!cs(n))return;let s=n[pt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let r=this.collectedLeaveElements.indexOf(n);r>=0&&this.collectedLeaveElements.splice(r,1)}if(e){let r=this._fetchNamespace(e);r&&r.insertNode(n,i)}a&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rt(e,uo)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qi(e,uo))}removeNode(e,n,i){if(cs(n)){let a=e?this._fetchNamespace(e):null;a?a.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,a,s){this.collectedLeaveElements.push(n),n[pt]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,a,s){return cs(n)?this._fetchNamespace(e).listen(n,i,a,s):()=>{}}_buildInstruction(e,n,i,a,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Pn,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,as,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[pt];if(n&&n.setForRemoval){if(e[pt]=Hu,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(uo)&&this.markElementAsDisabled(e,!1),this.driver.query(e,o_,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let a=this.collectedEnterElements[i];rt(a,l_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let a=this.collectedLeaveElements[i];this.processLeaveNode(a)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Pt(n).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw bu(e)}_flushAnimations(e,n){let i=new Rn,a=[],s=new Map,r=[],o=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(A=>{h.add(A);let C=this.driver.query(A,r_,!0);for(let g=0;g<C.length;g++)h.add(C[g])});let d=this.bodyNode,p=Array.from(this.statesByElement.keys()),v=Vu(p,this.collectedEnterElements),_=new Map,S=0;v.forEach((A,C)=>{let g=ro+S++;_.set(C,g),A.forEach(x=>rt(x,g))});let R=[],M=new Set,D=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){let C=this.collectedLeaveElements[A],g=C[pt];g&&g.setForRemoval&&(R.push(C),M.add(C),g.hasAnimation?this.driver.query(C,c_,!0).forEach(x=>M.add(x)):D.add(C))}let k=new Map,N=Vu(p,Array.from(M));N.forEach((A,C)=>{let g=ns+S++;k.set(C,g),A.forEach(x=>rt(x,g))}),e.push(()=>{v.forEach((A,C)=>{let g=_.get(C);A.forEach(x=>qi(x,g))}),N.forEach((A,C)=>{let g=k.get(C);A.forEach(x=>qi(x,g))}),R.forEach(A=>{this.processLeaveNode(A)})});let j=[],X=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(n).forEach(g=>{let x=g.player,V=g.element;if(j.push(x),this.collectedEnterElements.length){let fe=V[pt];if(fe&&fe.setForMove){if(fe.previousTriggersValues&&fe.previousTriggersValues.has(g.triggerName)){let O=fe.previousTriggersValues.get(g.triggerName),E=this.statesByElement.get(g.element);if(E&&E.has(g.triggerName)){let T=E.get(g.triggerName);T.value=O,E.set(g.triggerName,T)}}x.destroy();return}}let H=!d||!this.driver.containsElement(d,V),se=k.get(V),K=_.get(V),me=this._buildInstruction(g,i,K,se,H);if(me.errors&&me.errors.length){X.push(me);return}if(H){x.onStart(()=>ti(V,me.fromStyles)),x.onDestroy(()=>mt(V,me.toStyles)),a.push(x);return}if(g.isFallbackTransition){x.onStart(()=>ti(V,me.fromStyles)),x.onDestroy(()=>mt(V,me.toStyles)),a.push(x);return}let Ae=[];me.timelines.forEach(fe=>{fe.stretchStartingKeyframe=!0,this.disabledNodes.has(fe.element)||Ae.push(fe)}),me.timelines=Ae,i.append(V,me.timelines);let ze={instruction:me,player:x,element:V};r.push(ze),me.queriedElements.forEach(fe=>Ze(o,fe,[]).push(x)),me.preStyleProps.forEach((fe,O)=>{if(fe.size){let E=l.get(O);E||l.set(O,E=new Set),fe.forEach((T,P)=>E.add(P))}}),me.postStyleProps.forEach((fe,O)=>{let E=c.get(O);E||c.set(O,E=new Set),fe.forEach((T,P)=>E.add(P))})});if(X.length){let A=[];X.forEach(C=>{A.push(Tu(C.triggerName,C.errors))}),j.forEach(C=>C.destroy()),this.reportError(A)}let Z=new Map,B=new Map;r.forEach(A=>{let C=A.element;i.has(C)&&(B.set(C,C),this._beforeAnimationBuild(A.player.namespaceId,A.instruction,Z))}),a.forEach(A=>{let C=A.element;this._getPreviousPlayers(C,!1,A.namespaceId,A.triggerName,null).forEach(x=>{Ze(Z,C,[]).push(x),x.destroy()})});let ie=R.filter(A=>Ru(A,l,c)),W=new Map;Iu(W,this.driver,D,c,st).forEach(A=>{Ru(A,l,c)&&ie.push(A)});let L=new Map;v.forEach((A,C)=>{Iu(L,this.driver,new Set(A),l,Oi)}),ie.forEach(A=>{let C=W.get(A),g=L.get(A);W.set(A,new Map([...C?.entries()??[],...g?.entries()??[]]))});let F=[],$=[],re={};r.forEach(A=>{let{element:C,player:g,instruction:x}=A;if(i.has(C)){if(h.has(C)){g.onDestroy(()=>mt(C,x.toStyles)),g.disabled=!0,g.overrideTotalTime(x.totalTime),a.push(g);return}let V=re;if(B.size>1){let se=C,K=[];for(;se=se.parentNode;){let me=B.get(se);if(me){V=me;break}K.push(se)}K.forEach(me=>B.set(me,V))}let H=this._buildAnimation(g.namespaceId,x,Z,s,L,W);if(g.setRealPlayer(H),V===re)F.push(g);else{let se=this.playersByElement.get(V);se&&se.length&&(g.parentPlayer=Pt(se)),a.push(g)}}else ti(C,x.fromStyles),g.onDestroy(()=>mt(C,x.toStyles)),$.push(g),h.has(C)&&a.push(g)}),$.forEach(A=>{let C=s.get(A.element);if(C&&C.length){let g=Pt(C);A.setRealPlayer(g)}}),a.forEach(A=>{A.parentPlayer?A.syncPlayerEvents(A.parentPlayer):A.destroy()});for(let A=0;A<R.length;A++){let C=R[A],g=C[pt];if(qi(C,ns),g&&g.hasAnimation)continue;let x=[];if(o.size){let H=o.get(C);H&&H.length&&x.push(...H);let se=this.driver.query(C,as,!0);for(let K=0;K<se.length;K++){let me=o.get(se[K]);me&&me.length&&x.push(...me)}}let V=x.filter(H=>!H.destroyed);V.length?g_(this,C,V):this.processLeaveNode(C)}return R.length=0,F.forEach(A=>{this.players.push(A),A.onDone(()=>{A.destroy();let C=this.players.indexOf(A);this.players.splice(C,1)}),A.play()}),F}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,a,s){let r=[];if(n){let o=this.playersByQueriedElement.get(e);o&&(r=o)}else{let o=this.playersByElement.get(e);if(o){let l=!s||s==Vn;o.forEach(c=>{c.queued||!l&&c.triggerName!=a||r.push(c)})}}return(i||a)&&(r=r.filter(o=>!(i&&i!=o.namespaceId||a&&a!=o.triggerName))),r}_beforeAnimationBuild(e,n,i){let a=n.triggerName,s=n.element,r=n.isRemovalTransition?void 0:e,o=n.isRemovalTransition?void 0:a;for(let l of n.timelines){let c=l.element,h=c!==s,d=Ze(i,c,[]);this._getPreviousPlayers(c,h,r,o,n.toState).forEach(v=>{let _=v.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),v.destroy(),d.push(v)})}ti(s,n.fromStyles)}_buildAnimation(e,n,i,a,s,r){let o=n.triggerName,l=n.element,c=[],h=new Set,d=new Set,p=n.timelines.map(_=>{let S=_.element;h.add(S);let R=S[pt];if(R&&R.removedBeforeQueried)return new bt(_.duration,_.delay);let M=S!==l,D=f_((i.get(S)||h_).map(Z=>Z.getRealPlayer())).filter(Z=>{let B=Z;return B.element?B.element===S:!1}),k=s.get(S),N=r.get(S),j=to(this._normalizer,_.keyframes,k,N),X=this._buildPlayer(_,j,D);if(_.subTimeline&&a&&d.add(S),M){let Z=new Bn(e,o,S);Z.setRealPlayer(X),c.push(Z)}return X});c.forEach(_=>{Ze(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>u_(this.playersByQueriedElement,_.element,_))}),h.forEach(_=>rt(_,oo));let v=Pt(p);return v.onDestroy(()=>{h.forEach(_=>qi(_,oo)),mt(l,n.toStyles)}),d.forEach(_=>{Ze(a,_,[]).push(v)}),v}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new bt(e.duration,e.delay)}},Bn=class{namespaceId;triggerName;element;_player=new bt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(a=>es(e,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Ze(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function u_(t,e,n){let i=t.get(e);if(i){if(i.length){let a=i.indexOf(n);i.splice(a,1)}i.length==0&&t.delete(e)}return i}function m_(t){return t??null}function cs(t){return t&&t.nodeType===1}function p_(t){return t=="start"||t=="done"}function Pu(t,e){let n=t.style.display;return t.style.display=e??"none",n}function Iu(t,e,n,i,a){let s=[];n.forEach(l=>s.push(Pu(l)));let r=[];i.forEach((l,c)=>{let h=new Map;l.forEach(d=>{let p=e.computeStyle(c,d,a);h.set(d,p),(!p||p.length==0)&&(c[pt]=d_,r.push(c))}),t.set(c,h)});let o=0;return n.forEach(l=>Pu(l,s[o++])),r}function Vu(t,e){let n=new Map;if(t.forEach(o=>n.set(o,[])),e.length==0)return n;let i=1,a=new Set(e),s=new Map;function r(o){if(!o)return i;let l=s.get(o);if(l)return l;let c=o.parentNode;return n.has(c)?l=c:a.has(c)?l=i:l=r(c),s.set(o,l),l}return e.forEach(o=>{let l=r(o);l!==i&&n.get(l).push(o)}),n}function rt(t,e){t.classList?.add(e)}function qi(t,e){t.classList?.remove(e)}function g_(t,e,n){Pt(n).onDone(()=>t.processLeaveNode(e))}function f_(t){let e=[];return $u(t,e),e}function $u(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof ai?$u(i.players,e):e.push(i)}}function x_(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let a=0;a<n.length;a++){let s=n[a];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function Ru(t,e,n){let i=n.get(t);if(!i)return!1;let a=e.get(t);return a?i.forEach(s=>a.add(s)):e.set(t,i),n.delete(t),!0}var Qi=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,i){this._driver=n,this._normalizer=i,this._transitionEngine=new So(e.body,n,i),this._timelineEngine=new To(e.body,n,i),this._transitionEngine.onRemovalComplete=(a,s)=>this.onRemovalComplete(a,s)}registerTrigger(e,n,i,a,s){let r=e+"-"+a,o=this._triggerCache[r];if(!o){let l=[],c=[],h=Bu(this._driver,s,l,c);if(l.length)throw uu(a,l);o=n_(a,h,this._normalizer),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(n,a,o)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,a){this._transitionEngine.insertNode(e,n,i,a)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,a){if(i.charAt(0)=="@"){let[s,r]=io(i),o=a;this._timelineEngine.command(s,n,r,o)}else this._transitionEngine.trigger(e,n,i,a)}listen(e,n,i,a,s){if(i.charAt(0)=="@"){let[r,o]=io(i);return this._timelineEngine.listen(r,n,o,s)}return this._transitionEngine.listen(e,n,i,a,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function __(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=po(e[0]),e.length>1&&(i=po(e[e.length-1]))):e instanceof Map&&(n=po(e)),n||i?new v_(t,n,i):null}var v_=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,i,a){this._element=n,this._startStyles=i,this._endStyles=a;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&mt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mt(this._element,this._initialStyles),this._endStyles&&(mt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ti(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ti(this._element,this._endStyles),this._endStyles=null),mt(this._element,this._initialStyles),this._state=3)}}return t})();function po(t){let e=null;return t.forEach((n,i)=>{y_(i)&&(e=e||new Map,e.set(i,n))}),e}function y_(t){return t==="display"||t==="position"}var fs=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,i,a){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=a,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,n=this._triggerWebAnimation(this.element,e,this.options);if(!n)return this._onFinish(),null;this.domPlayer=n,this._finalKeyframe=e.length?e[e.length-1]:new Map;let i=()=>this._onFinish();return n.addEventListener("finish",i),this.onDestroy(()=>{n.removeEventListener("finish",i)}),n}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){let a=this._convertKeyframesToObject(n);try{return e.animate(a,i)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{a!=="offset"&&e.set(a,this._finished?i:rs(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},xs=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return no(e,n)}getParentElement(e){return is(e)}query(e,n,i){return ao(e,n,i)}computeStyle(e,n,i){return rs(e,n)}animate(e,n,i,a,s,r=[]){let o=a==0?"both":"forwards",l={duration:i,delay:a,fill:o};s&&(l.easing=s);let c=new Map,h=r.filter(v=>v instanceof fs);ku(i,a)&&h.forEach(v=>{v.currentSnapshot.forEach((_,S)=>c.set(S,_))});let d=Su(n).map(v=>new Map(v));d=Au(e,d,c);let p=__(e,d);return new fs(e,d,l,p)}};var hs="@",Xu="@.disabled",_s=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,i,a){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,a=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,a)}removeChild(e,n,i,a){if(a){this.delegate.removeChild(e,n,i,a);return}this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,a){this.delegate.setAttribute(e,n,i,a)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,a){this.delegate.setStyle(e,n,i,a)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==hs&&n==Xu?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i,a){return this.delegate.listen(e,n,i,a)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Co=class extends _s{factory;constructor(e,n,i,a,s){super(n,i,a,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==hs?n.charAt(1)=="."&&n==Xu?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i,a){if(n.charAt(0)==hs){let s=b_(e),r=n.slice(1),o="";return r.charAt(0)!=hs&&([r,o]=T_(r)),this.engine.listen(this.namespaceId,s,r,o,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(e,n,i,a)}};function b_(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function T_(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var vs=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,n.onRemovalComplete=(a,s)=>{s?.removeChild(null,a)}}createRenderer(e,n){let a=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,h=c.get(a);if(!h){let d=()=>c.delete(a);h=new _s("",a,this.engine,d),c.set(a,h)}return h}let s=n.id,r=n.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);let o=c=>{Array.isArray(c)?c.forEach(o):this.engine.registerTrigger(s,r,e,c.name,c)};return n.data.animation.forEach(o),new Co(this,r,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let a=this._animationCallbacksBuffer;a.length==0&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(s=>{let[r,o]=s;r(o)}),this._animationCallbacksBuffer=[]})}),a.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var S_=(()=>{class t extends Qi{constructor(n,i,a){super(n,i,a)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(Vt(ks),Vt(vi),Vt(yi))};static \u0275prov=He({token:t,factory:t.\u0275fac})}return t})();function C_(){return new ds}function k_(t,e,n){return new vs(t,e,n)}var Wu=[{provide:yi,useFactory:C_},{provide:Qi,useClass:S_},{provide:Wo,useFactory:k_,deps:[ll,Qi,Ui]}],DL=[{provide:vi,useClass:ko},{provide:Ls,useValue:"NoopAnimations"},...Wu],A_=[{provide:vi,useFactory:()=>new xs},{provide:Ls,useFactory:()=>"BrowserAnimations"},...Wu];function Yu(){return Xo("NgEagerAnimations"),[...A_]}ol(rc,"es");var ju={providers:[nl(),fl(Qd),Yu(),ul(ml([oc,lc]),pl()),{provide:al,useValue:"es"},{provide:dl,useClass:ra,multi:!0}]};function L_(t,e){if(t&1&&(Os(0,"div",0)(1,"div",1),Uo(2,"div",2),Os(3,"span",3),b(4),Zo()()()),t&2){let n=w();f(4),Ce(n.loading.message())}}var ys=class t{loading=be(Xt);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-loading-overlay"]],decls:1,vars:1,consts:[[1,"fixed","inset-0","z-[9999]","flex","items-center","justify-center","bg-black/40","backdrop-blur-sm"],[1,"bg-white","rounded-2xl","p-8","shadow-2xl","flex","flex-col","items-center","gap-4"],[1,"animate-spin","rounded-full","h-12","w-12","border-4","border-blue-100","border-t-blue-600"],[1,"text-sm","text-gray-500","font-medium"]],template:function(n,i){n&1&&qo(0,L_,5,1,"div",0),n&2&&Qo(i.loading.isLoading()?0:-1)},encapsulation:2})};var bs=class t{title=et("medi-agenda");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=le({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,i){n&1&&I(0,"router-outlet")(1,"app-loading-overlay")},dependencies:[Ci,ys],encapsulation:2})};cl(bs,ju).catch(t=>console.error(t));
