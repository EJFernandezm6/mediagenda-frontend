import{a as H}from"./chunk-OB6XVEW2.js";import{b as W,c as k,f as O,h as V,i as P,j as L,k as j,l as B,o as q}from"./chunk-NMJR5MN7.js";import{a as z}from"./chunk-RX2I4UVR.js";import{a as G}from"./chunk-74E3GJUF.js";import{$a as v,Fc as A,Ia as I,Lc as F,Ma as f,Mc as T,Nb as D,Ob as w,Qb as E,S as y,Ta as c,Ua as e,Va as t,Wa as S,X as h,Y as _,Za as C,_a as b,gb as n,hb as x,ib as p,lb as m,mb as u,nb as g,ta as r,xc as M,yc as N}from"./chunk-R7U2R7UO.js";function K(s,l){if(s&1&&(e(0,"option",24),n(1),t()),s&2){let o=l.$implicit;c("value",o.id),r(),x(o.fullName)}}function Q(s,l){if(s&1&&(e(0,"option",24),n(1),t()),s&2){let o=l.$implicit;c("value",o.id),r(),p("",o.name," ")}}function R(s,l){if(s&1){let o=C();e(0,"li",25)(1,"div",26)(2,"div",27)(3,"div",28),n(4),t(),e(5,"div")(6,"h4",29),n(7),t(),e(8,"p",30),n(9),t()()(),e(10,"div",31)(11,"div",32)(12,"p",33),n(13,"Costo"),t(),e(14,"p",34),n(15),t()(),e(16,"div",32)(17,"p",33),n(18,"Duraci\xF3n"),t(),e(19,"p",34),n(20),t()(),e(21,"button",35),b("click",function(){let d=h(o).$implicit,a=v();return _(a.remove(d.doctorId,d.specialtyId))}),S(22,"lucide-icon",36),t()()()()}if(s&2){let o=l.$implicit,i=v();r(4),p(" ",i.getDoctorName(o.doctorId).charAt(0)," "),r(3),x(i.getDoctorName(o.doctorId)),r(2),x(i.getSpecialtyName(o.specialtyId)),r(6),p("S/ ",o.cost),r(5),p("",o.durationMinutes," min"),r(2),c("img",i.icons.Trash2)}}function U(s,l){s&1&&(e(0,"li",37),n(1," No hay asignaciones para mostrar. Selecciona un especialista para filtrar o agrega una nueva asignaci\xF3n. "),t())}var J=class s{associationService=y(H);doctorService=y(G);specialtyService=y(z);icons={Plus:M,Trash2:A,Save:N};doctors=this.doctorService.doctors;specialties=this.specialtyService.specialties;associations=this.associationService.associations;selectedDoctorId="";selectedSpecialtyId="";cost=0;duration=30;get filteredAssociations(){return this.selectedDoctorId?this.associations().filter(l=>l.doctorId===this.selectedDoctorId):this.associations()}getDoctorName(l){return this.doctors().find(o=>o.id===l)?.fullName||"Desconocido"}getSpecialtyName(l){return this.specialties().find(o=>o.id===l)?.name||"Desconocida"}add(){this.selectedDoctorId&&this.selectedSpecialtyId&&(this.associationService.addAssociation({doctorId:this.selectedDoctorId,specialtyId:this.selectedSpecialtyId,cost:this.cost,durationMinutes:this.duration}),this.selectedSpecialtyId="",this.cost=0)}remove(l,o){this.associationService.removeAssociation(l,o)}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=I({type:s,selectors:[["app-doctor-specialty"]],decls:46,vars:11,consts:[[1,"px-4","py-6","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-xl","font-semibold","text-gray-900"],[1,"mt-2","text-sm","text-gray-700"],[1,"grid","grid-cols-1","gap-8","lg:grid-cols-3"],[1,"bg-white","shadow","rounded-lg","p-6","border","border-gray-100","h-fit"],[1,"text-lg","font-medium","leading-6","text-gray-900","mb-4"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","block","w-full","rounded-md","border-gray-300","py-2","pl-3","pr-10","text-base","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm","border",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-2","gap-4"],["type","number","min","0",1,"mt-1","block","w-full","rounded-md","border-gray-300","py-2","text-base","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm","border","px-3",3,"ngModelChange","ngModel"],["type","number","step","5","min","5",1,"mt-1","block","w-full","rounded-md","border-gray-300","py-2","text-base","focus:border-blue-500","focus:outline-none","focus:ring-blue-500","sm:text-sm","border","px-3",3,"ngModelChange","ngModel"],[1,"w-full","flex","justify-center","items-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed","gap-2",3,"click","disabled"],[1,"w-4","h-4",3,"img"],[1,"lg:col-span-2","bg-white","shadow","rounded-lg","overflow-hidden","border","border-gray-100"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200","bg-gray-50","flex","justify-between","items-center"],[1,"text-lg","font-medium","leading-6","text-gray-900"],[1,"inline-flex","items-center","rounded-full","bg-blue-100","px-2.5","py-0.5","text-xs","font-medium","text-blue-800"],["role","list",1,"divide-y","divide-gray-200"],["class","px-4 py-4 sm:px-6 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],["class","px-4 py-8 text-center text-gray-500 text-sm",4,"ngIf"],[3,"value"],[1,"px-4","py-4","sm:px-6","hover:bg-gray-50","transition-colors"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"flex-shrink-0","h-10","w-10","rounded-full","bg-blue-100","flex","items-center","justify-center","text-blue-600","font-bold"],[1,"text-sm","font-medium","text-blue-600"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-6"],[1,"text-center"],[1,"text-xs","text-gray-400","uppercase"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-red-600","transition-colors","p-2","rounded-full","hover:bg-red-50",3,"click"],[1,"w-5","h-5",3,"img"],[1,"px-4","py-8","text-center","text-gray-500","text-sm"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Asignaci\xF3n de Especialidades"),t(),e(4,"p",3),n(5,"Vincula especialidades a especialistas y define el costo y duraci\xF3n de la consulta."),t()(),e(6,"div",4)(7,"div",5)(8,"h3",6),n(9,"Nueva Asignaci\xF3n"),t(),e(10,"div",7)(11,"div")(12,"label",8),n(13,"Especialista"),t(),e(14,"select",9),g("ngModelChange",function(a){return u(i.selectedDoctorId,a)||(i.selectedDoctorId=a),a}),e(15,"option",10),n(16,"Seleccionar especialista"),t(),f(17,K,2,2,"option",11),t()(),e(18,"div")(19,"label",8),n(20,"Especialidad"),t(),e(21,"select",9),g("ngModelChange",function(a){return u(i.selectedSpecialtyId,a)||(i.selectedSpecialtyId=a),a}),e(22,"option",10),n(23,"Seleccionar especialidad"),t(),f(24,Q,2,2,"option",11),t()(),e(25,"div",12)(26,"div")(27,"label",8),n(28,"Costo (S/)"),t(),e(29,"input",13),g("ngModelChange",function(a){return u(i.cost,a)||(i.cost=a),a}),t()(),e(30,"div")(31,"label",8),n(32,"Duraci\xF3n (min)"),t(),e(33,"input",14),g("ngModelChange",function(a){return u(i.duration,a)||(i.duration=a),a}),t()()(),e(34,"button",15),b("click",function(){return i.add()}),S(35,"lucide-icon",16),n(36," Asignar "),t()()(),e(37,"div",17)(38,"div",18)(39,"h3",19),n(40,"Asignaciones Actuales"),t(),e(41,"span",20),n(42),t()(),e(43,"ul",21),f(44,R,23,6,"li",22)(45,U,2,0,"li",23),t()()()()),o&2&&(r(14),m("ngModel",i.selectedDoctorId),r(3),c("ngForOf",i.doctors()),r(4),m("ngModel",i.selectedSpecialtyId),r(3),c("ngForOf",i.specialties()),r(5),m("ngModel",i.cost),r(4),m("ngModel",i.duration),r(),c("disabled",!i.selectedDoctorId||!i.selectedSpecialtyId),r(),c("img",i.icons.Plus),r(7),p(" ",i.filteredAssociations.length," registros "),r(2),c("ngForOf",i.filteredAssociations),r(),c("ngIf",i.filteredAssociations.length===0))},dependencies:[E,D,w,q,L,j,W,V,P,k,B,O,T,F],encapsulation:2})};export{J as DoctorSpecialtyComponent};
