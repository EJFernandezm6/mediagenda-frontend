import{a as J}from"./chunk-5IVE6VXY.js";import{a as G,b as H,c as K,d as j,f as z,g as U,h as Z,j as q}from"./chunk-M3MBMLMX.js";import{$b as I,Fa as M,Fb as P,Gb as k,Ib as T,Ja as b,Pa as m,Qa as t,Qb as W,Ra as i,Rb as D,S as E,Sa as u,Ub as A,Va as h,Wa as C,X as _,Xa as f,Y as S,_b as B,a as w,bb as v,cb as o,db as y,eb as x,hb as c,ib as g,jb as p,mc as N,oc as F,qc as L,sa as r,wc as O,xc as R,yc as V}from"./chunk-XRB76YFL.js";function X(l,s){if(l&1&&(t(0,"div",48)(1,"span",49),o(2,"\xA1\xC9xito!"),i(),o(3),i()),l&2){let a=f();r(3),x(" ",a.successMessage," ")}}function Y(l,s){if(l&1){let a=h();t(0,"button",50),C("click",function(){let d=_(a).$implicit,n=f();return S(n.toggleDay(d.id))}),o(1),i()}if(l&2){let a=s.$implicit,e=f();v(e.settings.workingDays.includes(a.id)?"bg-blue-100 text-blue-700 border-blue-200":"bg-gray-50 text-gray-500 border-gray-200 hover:bg-gray-100"),r(),x(" ",a.name," ")}}function $(l,s){l&1&&(t(0,"div",59),o(1," Recomendado "),i())}function ee(l,s){if(l&1&&(t(0,"span",60),o(1),i()),l&2){let a=f().$implicit;r(),x("/",a.period)}}function te(l,s){if(l&1&&(t(0,"li",39),u(1,"lucide-icon",61),t(2,"span",62),o(3),i()()),l&2){let a=s.$implicit,e=f(2);r(),m("img",e.icons.Check),r(2),y(a)}}function ie(l,s){if(l&1){let a=h();t(0,"div",51),C("click",function(){let d=_(a).$implicit,n=f();return S(n.selectPlan(d.id))}),b(1,$,2,0,"div",52),t(2,"h3",53),o(3),i(),t(4,"div",54)(5,"span",55),o(6),i(),b(7,ee,2,1,"span",56),i(),t(8,"p",34),o(9),i(),t(10,"ul",57),b(11,te,4,2,"li",58),i()()}if(l&2){let a=s.$implicit,e=f();v(e.settings.subscriptionPlan===a.id?"ring-2 ring-blue-500 bg-blue-50/30":"hover:border-blue-300"),r(),m("ngIf",a.recommended),r(2),y(a.name),r(3),y(a.price),r(),m("ngIf",a.period),r(2),y(a.id==="BASIC"?"Funciones esenciales":a.id==="PRO"?"Para crecer sin l\xEDmites":"Soluci\xF3n a medida"),r(2),m("ngForOf",a.features)}}var Q=class l{configService=E(J);icons={Save:N,Settings:F,CreditCard:I,Bell:W,Building:D,Clock:B,Check:A,Zap:O,Star:L};settings=w({},this.configService.settings());successMessage="";showSuccess(s){this.successMessage=s,setTimeout(()=>this.successMessage="",3e3)}subscriptionPlans=[{id:"BASIC",name:"Plan B\xE1sico",price:"Gratis",period:"por siempre",features:["1 M\xE9dico","Agenda B\xE1sica","Sin Notificaciones"],recommended:!1},{id:"PRO",name:"Plan Profesional",price:"$29",period:"mes",features:["Hasta 5 M\xE9dicos","Agenda Avanzada","Notificaciones Email","Reportes B\xE1sicos"],recommended:!0},{id:"ENTERPRISE",name:"Plan Empresarial",price:"Consultar",period:"",features:["M\xE9dicos Ilimitados","API WhatsApp Business","Reportes Avanzados","Soporte 24/7"],recommended:!1}];selectPlan(s){this.settings.subscriptionPlan=s}availableDays=[{id:1,name:"Lunes"},{id:2,name:"Martes"},{id:3,name:"Mi\xE9rcoles"},{id:4,name:"Jueves"},{id:5,name:"Viernes"},{id:6,name:"S\xE1bado"},{id:0,name:"Domingo"}];toggleDay(s){let a=this.settings.workingDays||[];a.includes(s)?this.settings.workingDays=a.filter(e=>e!==s):this.settings.workingDays=[...a,s].sort((e,d)=>e-d)}save(){this.configService.updateSettings(this.settings),this.successMessage="Configuraci\xF3n guardada correctamente.",setTimeout(()=>this.successMessage="",3e3)}static \u0275fac=function(a){return new(a||l)};static \u0275cmp=M({type:l,selectors:[["app-configuration"]],decls:117,vars:22,consts:[[1,"max-w-4xl","mx-auto","px-4","py-8"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","flex","items-center","gap-2"],[1,"w-8","h-8","text-gray-700",3,"img"],[1,"mt-2","text-gray-600"],["class","mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 flex items-center",4,"ngIf"],[1,"space-y-6"],[1,"bg-white","shadow","rounded-lg","overflow-hidden","border","border-gray-100"],[1,"px-6","py-4","border-b","border-gray-100","bg-gray-50","flex","items-center","gap-2"],[1,"w-5","h-5","text-gray-500",3,"img"],[1,"text-lg","font-medium","text-gray-900"],[1,"p-6","grid","grid-cols-1","gap-6","sm:grid-cols-2"],[1,"col-span-2"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","border","px-3","py-2",3,"ngModelChange","ngModel"],[1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","border","px-3","py-2","bg-white",3,"ngModelChange","ngModel"],["value","PEN"],["value","USD"],[1,"p-6","grid","grid-cols-1","gap-6","sm:grid-cols-2","lg:grid-cols-3"],[1,"col-span-1","sm:col-span-2","lg:col-span-3"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","px-3 py-1.5 rounded-lg border text-sm font-medium transition-all",3,"class","click",4,"ngFor","ngForOf"],[1,"mt-1","text-xs","text-gray-500"],["type","time",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","border","px-3","py-2",3,"ngModelChange","ngModel"],[1,"p-6"],[1,"mb-6","flex","items-center","justify-between","p-4","bg-blue-50","rounded-lg","border","border-blue-100"],[1,"text-sm","text-blue-700","font-medium"],[1,"text-xl","font-bold","text-blue-900"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-blue-200","text-blue-800"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["class","relative rounded-xl border border-gray-200 p-6 shadow-sm flex flex-col cursor-pointer transition-all",3,"class","click",4,"ngFor","ngForOf"],[1,"p-6","space-y-6"],["type","text","placeholder","pk_test_...",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","border","px-3","py-2","font-mono","text-sm",3,"ngModelChange","ngModel"],[1,"mt-1","text-sm","text-gray-500"],[1,"border-t","border-gray-100","pt-6"],[1,"text-sm","font-semibold","text-gray-900","mb-4","flex","items-center","gap-2"],[1,"w-4","h-4","text-gray-500",3,"img"],[1,"space-y-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-blue-600","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"ml-3","text-sm"],[1,"font-medium","text-gray-700"],[1,"text-gray-500"],[1,"flex","justify-end","pt-4"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"mb-6","p-4","bg-green-50","border","border-green-200","rounded-lg","text-green-700","flex","items-center"],[1,"font-medium","mr-2"],[1,"px-3","py-1.5","rounded-lg","border","text-sm","font-medium","transition-all",3,"click"],[1,"relative","rounded-xl","border","border-gray-200","p-6","shadow-sm","flex","flex-col","cursor-pointer","transition-all",3,"click"],["class","absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-0.5 bg-blue-600 text-white text-[10px] font-bold uppercase tracking-wide rounded-full shadow-sm",4,"ngIf"],[1,"text-lg","font-semibold","text-gray-900"],[1,"mt-4","flex","items-baseline","text-gray-900"],[1,"text-3xl","font-bold","tracking-tight"],["class","ml-1 text-sm font-semibold text-gray-500",4,"ngIf"],["role","list",1,"mt-6","space-y-4","flex-1"],["class","flex items-start",4,"ngFor","ngForOf"],[1,"absolute","-top-3","left-1/2","-translate-x-1/2","px-3","py-0.5","bg-blue-600","text-white","text-[10px]","font-bold","uppercase","tracking-wide","rounded-full","shadow-sm"],[1,"ml-1","text-sm","font-semibold","text-gray-500"],[1,"h-5","w-5","flex-shrink-0","text-green-500",3,"img"],[1,"ml-3","text-sm","text-gray-700"]],template:function(a,e){a&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"lucide-icon",3),o(4," Configuraci\xF3n Global "),i(),t(5,"p",4),o(6,"Administra los detalles de la cl\xEDnica y las integraciones."),i()(),b(7,X,4,1,"div",5),t(8,"div",6)(9,"div",7)(10,"div",8),u(11,"lucide-icon",9),t(12,"h3",10),o(13,"Datos de la Cl\xEDnica"),i()(),t(14,"div",11)(15,"div",12)(16,"label",13),o(17,"Nombre de la Cl\xEDnica"),i(),t(18,"input",14),p("ngModelChange",function(n){return g(e.settings.clinicName,n)||(e.settings.clinicName=n),n}),i()(),t(19,"div")(20,"label",13),o(21,"Direcci\xF3n"),i(),t(22,"input",14),p("ngModelChange",function(n){return g(e.settings.clinicAddress,n)||(e.settings.clinicAddress=n),n}),i()(),t(23,"div")(24,"label",13),o(25,"Tel\xE9fono General"),i(),t(26,"input",14),p("ngModelChange",function(n){return g(e.settings.clinicPhone,n)||(e.settings.clinicPhone=n),n}),i()(),t(27,"div")(28,"label",13),o(29,"Moneda Referencial"),i(),t(30,"select",15),p("ngModelChange",function(n){return g(e.settings.currency,n)||(e.settings.currency=n),n}),t(31,"option",16),o(32,"Soles (PEN)"),i(),t(33,"option",17),o(34,"D\xF3lares (USD)"),i()()()()(),t(35,"div",7)(36,"div",8),u(37,"lucide-icon",9),t(38,"h3",10),o(39,"Horarios Generales de Atenci\xF3n"),i()(),t(40,"div",18)(41,"div",19)(42,"label",20),o(43,"D\xEDas Laborables"),i(),t(44,"div",21),b(45,Y,2,3,"button",22),i(),t(46,"p",23),o(47,"Los d\xEDas no seleccionados aparecer\xE1n deshabilitados (color plomo) en el calendario."),i()(),t(48,"div")(49,"label",13),o(50,"Hora Apertura"),i(),t(51,"input",24),p("ngModelChange",function(n){return g(e.settings.clinicOpenTime,n)||(e.settings.clinicOpenTime=n),n}),i()(),t(52,"div")(53,"label",13),o(54,"Hora Cierre"),i(),t(55,"input",24),p("ngModelChange",function(n){return g(e.settings.clinicCloseTime,n)||(e.settings.clinicCloseTime=n),n}),i()(),t(56,"div")(57,"label",13),o(58,"Inicio de Break/Refrigerio"),i(),t(59,"input",24),p("ngModelChange",function(n){return g(e.settings.breakStartTime,n)||(e.settings.breakStartTime=n),n}),i()(),t(60,"div")(61,"label",13),o(62,"Fin de Break/Refrigerio"),i(),t(63,"input",24),p("ngModelChange",function(n){return g(e.settings.breakEndTime,n)||(e.settings.breakEndTime=n),n}),i()()()(),t(64,"div",7)(65,"div",8),u(66,"lucide-icon",9),t(67,"h3",10),o(68,"Suscripci\xF3n y Plan"),i()(),t(69,"div",25)(70,"div",26)(71,"div")(72,"p",27),o(73,"Plan Actual"),i(),t(74,"h4",28),o(75),i()(),t(76,"span",29),o(77," Activo "),i()(),t(78,"div",30),b(79,ie,12,8,"div",31),i()()(),t(80,"div",7)(81,"div",8),u(82,"lucide-icon",9),t(83,"h3",10),o(84,"Pagos e Integraciones"),i()(),t(85,"div",32)(86,"div")(87,"label",13),o(88,"Stripe Public Key (Opcional)"),i(),t(89,"input",33),p("ngModelChange",function(n){return g(e.settings.stripePublicKey,n)||(e.settings.stripePublicKey=n),n}),i(),t(90,"p",34),o(91,"Se usar\xE1 para procesar pagos de citas en l\xEDnea."),i()(),t(92,"div",35)(93,"h4",36),u(94,"lucide-icon",37),o(95," Notificaciones "),i(),t(96,"div",38)(97,"div",39)(98,"div",40)(99,"input",41),p("ngModelChange",function(n){return g(e.settings.emailNotifications,n)||(e.settings.emailNotifications=n),n}),i()(),t(100,"div",42)(101,"label",43),o(102,"Email"),i(),t(103,"p",44),o(104,"Enviar recordatorios por correo a pacientes y especialistas. "),i()()(),t(105,"div",39)(106,"div",40)(107,"input",41),p("ngModelChange",function(n){return g(e.settings.whatsappNotifications,n)||(e.settings.whatsappNotifications=n),n}),i()(),t(108,"div",42)(109,"label",43),o(110,"WhatsApp"),i(),t(111,"p",44),o(112,"Integraci\xF3n con API de WhatsApp Business (Requiere configuraci\xF3n externa)."),i()()()()()()(),t(113,"div",45)(114,"button",46),C("click",function(){return e.save()}),u(115,"lucide-icon",47),o(116," Guardar Cambios "),i()()()()),a&2&&(r(3),m("img",e.icons.Settings),r(4),m("ngIf",e.successMessage),r(4),m("img",e.icons.Building),r(7),c("ngModel",e.settings.clinicName),r(4),c("ngModel",e.settings.clinicAddress),r(4),c("ngModel",e.settings.clinicPhone),r(4),c("ngModel",e.settings.currency),r(7),m("img",e.icons.Clock),r(8),m("ngForOf",e.availableDays),r(6),c("ngModel",e.settings.clinicOpenTime),r(4),c("ngModel",e.settings.clinicCloseTime),r(4),c("ngModel",e.settings.breakStartTime),r(4),c("ngModel",e.settings.breakEndTime),r(3),m("img",e.icons.Zap),r(9),x("",e.settings.subscriptionPlan==="BASIC"?"Plan B\xE1sico":e.settings.subscriptionPlan==="PRO"?"Plan Profesional":"Plan Empresarial"," "),r(4),m("ngForOf",e.subscriptionPlans),r(3),m("img",e.icons.CreditCard),r(7),c("ngModel",e.settings.stripePublicKey),r(5),m("img",e.icons.Bell),r(5),c("ngModel",e.settings.emailNotifications),r(8),c("ngModel",e.settings.whatsappNotifications),r(8),m("img",e.icons.Save))},dependencies:[T,P,k,q,U,Z,H,G,z,K,j,V,R],encapsulation:2})};export{Q as ConfigurationComponent};
