<div class="space-y-8">
    <!-- Header -->
    <div>
        <h2 class="text-2xl font-bold text-gray-900">Dashboard</h2>
        <p class="text-gray-500">Resumen de actividad de la cl√≠nica</p>
    </div>

    <!-- KPI Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div *ngFor="let kpi of kpis"
            class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start justify-between transition-transform hover:-translate-y-1">
            <div>
                <p class="text-sm font-medium text-gray-500">{{ kpi.label }}</p>
                <h3 class="text-3xl font-bold text-gray-900 mt-2">{{ kpi.value }}</h3>
                <p class="text-xs text-gray-400 mt-1">{{ kpi.subtext }}</p>
            </div>
            <div [class]="'p-3 rounded-xl ' + kpi.bg">
                <lucide-icon [img]="kpi.icon" [class]="'w-6 h-6 ' + kpi.color"></lucide-icon>
            </div>
        </div>
    </div>

    <!-- Charts Section Placeholder (Charts disabled due to environment issues) -->
    <!-- Charts Section with Horizontal Scroll -->
    <div class="overflow-x-auto pb-6 -mx-6 px-6 snap-x snap-mandatory flex space-x-6">

        <!-- Patients by Status (Pie Chart) -->
        <div
            class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 min-w-[100%] md:min-w-[450px] snap-center flex-shrink-0">
            <h3 class="text-lg font-semibold text-gray-900 mb-6">Estado de Pacientes</h3>
            <div class="h-80 w-full flex items-center justify-center">
                <ngx-charts-pie-chart [scheme]="pieColorScheme" [results]="patientsByStatus" [gradient]="gradient"
                    [legend]="true" [legendTitle]="'Leyenda'" [labels]="true" [doughnut]="true"
                    (select)="onSelect($event)">
                </ngx-charts-pie-chart>
            </div>
        </div>

        <!-- Visits by Specialty (Bar Chart) -->
        <div
            class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 min-w-[100%] md:min-w-[600px] snap-center flex-shrink-0">
            <h3 class="text-lg font-semibold text-gray-900 mb-6">Visitas por Especialidad</h3>
            <div class="h-80 w-full flex items-center justify-center">
                <ngx-charts-bar-vertical [scheme]="colorScheme" [results]="visitsBySpecialty" [gradient]="gradient"
                    [xAxis]="showXAxis" [yAxis]="showYAxis" [legend]="showLegend" [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel" [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel"
                    (select)="onSelect($event)">
                </ngx-charts-bar-vertical>
            </div>
        </div>

    </div>
</div>