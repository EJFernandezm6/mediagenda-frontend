import{a as u}from"./chunk-MZ3EZVY4.js";import{Dc as y,Ec as S,N as r,R as m,W as f,a as s,b as p,ia as o,r as h}from"./chunk-2BMW4ZRB.js";var g=class n{http=f(S);apiUrl=`${u.apiUrl}/catalog/specialties`;specialties=o([]);totalElements=o(0);constructor(){this.refreshSpecialties(0,10,"")}refreshSpecialties(t=0,e=10,i=""){let c=new y().set("page",t.toString()).set("size",e.toString());i&&(c=c.set("search",i)),this.http.get(this.apiUrl,{params:c}).pipe(h(a=>p(s({},a),{content:a.content.map(l=>p(s({},l),{active:l.isActive??l.active??!1}))}))).subscribe(a=>{this.specialties.set(a.content),this.totalElements.set(a.totalElements)})}getSpecialties(){return this.specialties()}addSpecialty(t){let e=p(s({},t),{isActive:t.active});return this.http.post(this.apiUrl,e).pipe(r(()=>this.refreshSpecialties()))}updateSpecialty(t,e){let i=s({},e);return e.active!==void 0&&(i.isActive=e.active),this.http.put(`${this.apiUrl}/${t}`,i).pipe(r(()=>this.refreshSpecialties()))}updateStatus(t,e){return this.http.patch(`${this.apiUrl}/${t}/status`,{isActive:e}).pipe(r(()=>this.refreshSpecialties()))}deleteSpecialty(t){return this.http.delete(`${this.apiUrl}/${t}`).pipe(r(()=>this.refreshSpecialties()))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})};export{g as a};
